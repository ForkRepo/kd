!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.kd=t()}}(function(){var t;return function e(t,n,i){function o(r,a){var u,l,c;if(!n[r]){if(!t[r]){if(u="function"==typeof require&&require,!a&&u)return u(r,!0);if(s)return s(r,!0);throw l=new Error("Cannot find module '"+r+"'"),l.code="MODULE_NOT_FOUND",l}c=n[r]={exports:{}},t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}var r,s="function"==typeof require&&require;for(r=0;r<i.length;r++)o(i[r]);return o}({1:[function(t,e,n){e.exports=t("./lib")},{"./lib":107}],2:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),s=t("../inputs/inputview"),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.mouseDown=function(){return this.focus()},e.prototype.setDomElement=function(){return this.domElement=i("<div class='kdautocompletewrapper clearfix'><input type='text' placeholder='"+this.getOptions().placeholder+"' class='kdinput text'/></div>")},e.prototype.setDomId=function(){return this.$input().attr("id",this.getDomId()),this.$input().attr("name",this.getName()),this.$input().data("data-id",this.getId())},e.prototype.setDefaultValue=function(t){return this.inputDefaultValue=t,this.setValue(t)},e.prototype.$input=function(){return this.$("input").eq(0)},e.prototype.getValue=function(){return this.$input().val()},e.prototype.setValue=function(t){return this.$input().val(t)},e.prototype.bindEvents=function(){return e.__super__.bindEvents.call(this,this.$input())},e.prototype.blur=function(t){return this.unsetClass("focus"),!0},e.prototype.focus=function(t){return this.setClass("focus"),e.__super__.focus.apply(this,arguments)},e.prototype.keyDown=function(t){return o.getSingleton("windowController").setKeyView(this),!0},e.prototype.getLeftOffset=function(){return this.$input().prev().width()},e.prototype.setPlaceholder=function(t){return this.$input()[0].setAttribute("placeholder",t)},e.prototype.setFocus=function(){return e.__super__.setFocus.apply(this,arguments),this.$input().trigger("focus")},e.prototype.setBlur=function(){return e.__super__.setBlur.apply(this,arguments),this.$input().trigger("blur")},e}(s)},{"../../core/kd":100,"../inputs/inputview":45,jquery:119}],3:[function(t,e,n){var i,o,r,s,a,u,l,c,p,h,d,f,g,m,v,y,w,b,_=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty,x=[].slice;b=t("debug")("kd:autocomplete:controller"),i=t("jquery"),s=t("../../core/kd"),c=t("./autocompletelistitem"),h=t("./autocompletenothingfounditem"),d=t("./autocompleteditems"),f=t("../inputs/inputview"),y=t("../../core/view"),r=t("jspath"),o=t("inflector"),w=t("../../core/viewcontroller"),m=t("../list/listviewcontroller"),g=t("../inputs/labelview"),v=t("../notifications/notificationview"),a=t("./autocomplete"),p=t("./autocompletelist"),l=t("./autocompletefetchingitem"),e.exports=u=function(t){function e(t,n){var o,r;null==t&&(t={}),t=i.extend({view:o=t.view||new a({name:t.name,placeholder:t.placeholder||"",label:t.label||new g({title:t.name})}),itemClass:c,selectedItemClass:d,nothingFoundItemClass:h,fetchingItemClass:l,fetchInterval:null!=(r=t.fetchInterval)?r:300,listWrapperCssClass:"",minSuggestionLength:2,selectedItemsLimit:null,itemDataPath:"",separator:",",wrapper:"parent",submitValuesAsText:!1,defaultValue:[]},t),e.__super__.constructor.call(this,t,n),o.on("focus",this.bound("updateDropdownContents")),this.lastPrefix=null,this.selectedItemData=[],this.hiddenInputs={},this.selectedItemCounter=0,this.readyToShowDropDown=!0,this.createDropDown(),this.getAutoCompletedItemParent()}return _(e,t),e.prototype.reset=function(){var t,e,n,i,o;for(o=this.itemWrapper.getSubViews().slice(),i=[],e=0,n=o.length;n>e;e++)t=o[e],i.push(this.removeFromSubmitQueue(t));return i},e.prototype.loadView=function(t){return this.setDefaultValue(),t.on("keyup",this.bound("keyUpOnInputView")),t.on("keydown",function(t){return function(e){return t.keyDownOnInputView(e)}}(this))},e.prototype.setDefaultValue=function(t){var e,n,i,o,r,s,a;for(s=this.getOptions(),e=s.defaultValue,i=s.itemDataPath,t||(t=e),a=[],o=0,r=t.length;r>o;o++)n=t[o],a.push(this.addItemToSubmitQueue(this.getView(),n));return a},e.prototype.keyDownOnInputView=function(t){var e,n;switch(e=this.getView(),n=this.dropdown.getListView(),t.which){case 13:case 9:""!==e.getValue()&&t.shiftKey!==!0&&(this.submitAutoComplete(e.getValue()),this.readyToShowDropDown=!1);break;case 27:this.hideDropdown();break;case 38:if(this.active)return n.goUp(),s.utils.stopDOMEvent(t);break;case 40:if(this.active)return n.goDown(),s.utils.stopDOMEvent(t);break;default:this.readyToShowDropDown=!0}return!1},e.prototype.getPrefix=function(){var t,e,n;return n=this.getOptions().separator,t=this.getView().getValue().split(n),e=t[t.length-1]},e.prototype.createDropDown=function(t){var e,n,i;return null==t&&(t=[]),this.dropdownPrefix="",this.dropdownListView=e=new p({itemClass:this.getOptions().itemClass},{items:t}),e.on("ItemsDeselected",function(t){return function(){var e;return e=t.getView(),e.$input().trigger("focus")}}(this)),e.on("KDAutoCompleteSubmit",this.bound("submitAutoComplete")),i=s.getSingleton("windowController"),this.dropdown=new m({view:e}),n=this.dropdown.getView(),n.on("ReceivedClickElsewhere",function(t){return function(){return t.hideDropdown()}}(this)),n.setClass("kdautocomplete hidden "+this.getOptions().listWrapperCssClass),n.appendToDomBody()},e.prototype.hideDropdown=function(){var t;return t=this.dropdown.getView(),this.active=!1,t.hide()},e.prototype.showDropdown=function(){var t,e,n,i;if(this.readyToShowDropDown)return this.active=!0,i=s.getSingleton("windowController"),t=this.dropdown.getView(),t.unsetClass("hidden"),e=this.getView(),n=e.$().offset(),n.top+=e.getHeight(),t.$().css(n),t.show(),i.addLayer(t)},e.prototype.refreshDropDown=function(t){var e,n,i,o,s,a,u,l;return null==t&&(t=[]),a=this.dropdown.getListView(),this.dropdown.removeAllItems(),a.userInput=this.dropdownPrefix,i=RegExp("^"+this.dropdownPrefix.replace(/[^\s\w]/,"")+"$","i"),n=[],o=[],l=this.getOptions(),s=l.itemDataPath,e=l.allowNewSuggestions,u=l.minSuggestionLength,t.forEach(function(t){return function(e){var a;return t.isItemAlreadySelected(e)?void 0:(a=r.getAt(e,s),i.test(a)?n.push(e):o.push(e))}}(this)),this.dropdownPrefix.length>=u&&e&&!n.length&&this.dropdown.getListView().addItemView(this.getNoItemFoundView()),t=n.concat(o),this.dropdown.instantiateListItems(t),this.dropdown.getListView().goDown()},e.prototype.submitAutoComplete=function(t,e){var n,i,o;return i=this.getView(),null===this.getOptions().selectedItemsLimit||this.getOptions().selectedItemsLimit>this.selectedItemCounter?(o=this.dropdown.getListView(),n=o.getActiveItem(),o.setActiveItem(null),n.item&&this.appendAutoCompletedItem(),this.addItemToSubmitQueue(n.item),this.emit("ItemListChanged",this.selectedItemCounter)):(i.setValue(""),s.getSingleton("windowController").setKeyView(null),new v({type:"mini",title:"You can add up to "+this.getOptions().selectedItemsLimit+" items!",duration:4e3})),this.hideDropdown()},e.prototype.getAutoCompletedItemParent=function(){var t;return t=this.getOptions().outputWrapper,this.itemWrapper=t instanceof y?t:this.getView(),this.itemWrapper},e.prototype.isItemAlreadySelected=function(t){var e,n,i,o,s,a,u,l,c,p,h;for(u=this.getOptions(),o=u.itemDataPath,n=u.customCompare,i=u.isCaseSensitive,h=r.getAt(t,o),l=this.getSelectedItemData(),s=0,a=l.length;a>s;s++)if(p=l[s],null!=n){if(e=n(t,p))return!0}else if(c=r.getAt(p,o),i||(h=h.toLowerCase(),c=c.toLowerCase()),h===c)return!0;return!1},e.prototype.addHiddenInputItem=function(t,e){return this.itemWrapper.addSubView(this.hiddenInputs[t]=new f({type:"hidden",name:t,defaultValue:e}))},e.prototype.removeHiddenInputItem=function(t){return delete this.hiddenInputs[t]},e.prototype.addSelectedItem=function(t,e){var n,i;return i=this.getOptions().selectedItemClass,this.itemWrapper.addSubView(n=new i({cssClass:"kdautocompletedlistitem",delegate:this,name:t},e)),n.setPartial("<span class='close-icon'></span>")},e.prototype.getSelectedItemData=function(){return this.selectedItemData},e.prototype.addSelectedItemData=function(t){return this.getSelectedItemData().push(t)},e.prototype.removeSelectedItemData=function(t){var e,n,i,o,r;for(r=this.getSelectedItemData(),e=n=0,i=r.length;i>n;e=++n)if(o=r[e],o===t)return void r.splice(e,1)},e.prototype.getCollectionPath=function(){var t,e,n,i,r,s;if(i=this.getOptions().name,!i)throw new Error("No name!");return s=i.split("."),r=2<=s.length?x.call(s,0,e=s.length-1):(e=0,[]),n=s[e++],t=o.pluralize(n),r.push(t),r.join(".")},e.prototype.addSuggestion=function(t){return this.emit("AutocompleteSuggestionWasAdded",t)},e.prototype.addItemToSubmitQueue=function(t,e){var n,i,o,s,a,u,l,c,p;return e||(e=null!=t?t.getData():void 0),e||(null!=t?t.getOptions().userInput:void 0)?(c=this.getOptions(),u=c.name,o=c.itemDataPath,i=c.form,p=c.submitValuesAsText,e?a=p?r.getAt(e,o):e:(a=t.getOptions().userInput,e=r(o,a)),this.isItemAlreadySelected(e)?!1:(l=this.getCollectionPath(),s=u+"-"+this.selectedItemCounter++,i?(n=i.getCustomData(l)||[],n.push(p?a:("function"==typeof a.getId?a.getId():void 0)?{constructorName:a.constructor.name,id:a.getId(),title:a.title}:{$suggest:a}),i.addCustomData(l,n),t.getOptions().userInput===!0&&this.selectedItemCounter++):this.addHiddenInputItem(l,a),this.addSelectedItemData(e),this.addSelectedItem(s,e),this.getView().setValue(this.dropdownPrefix=""))):void 0},e.prototype.removeFromSubmitQueue=function(t,e){var n,i,o,s,a;return a=this.getOptions(),o=a.itemDataPath,i=a.form,e||(e=t.getData()),s=this.getCollectionPath(),i?(n=r.getAt(i.getCustomData(),s),n=n.filter(function(t){var n;return n="function"==typeof e.getId?e.getId():void 0,null==n?t.$suggest!==e.title:t.id!==n}),r.setAt(i.getCustomData(),s,n)):this.removeHiddenInputItem(s),this.removeSelectedItemData(e),this.selectedItemCounter--,t.destroy(),this.emit("ItemListChanged",this.selectedItemCounter)},e.prototype.appendAutoCompletedItem=function(){return this.getView().setValue(""),this.getView().$input().trigger("focus")},e.prototype.updateDropdownContents=function(){var t,e,n;return e=this.getView(),n=e.getValue().trim(),""===n?this.hideDropdown():this.active&&n===this.dropdownPrefix?void 0:(this.dropdownPrefix=n,this.showFetching(),t=this.getOptions().fetchInterval,this.fetch(s.utils.debounce(t,function(t){return function(e){return e.length>0?(t.refreshDropDown(e),t.showDropdown()):(b("data not found"),t.showNoDataFound())}}(this))))},e.prototype.keyUpOnInputView=function(t){var e;if(9!==(e=t.keyCode)&&38!==e&&40!==e)return this.updateDropdownContents(),!1},e.prototype.fetch=function(t){var e,n,i,o,r;return o=this.getOptions(),n=o.fetchInputName,e=o.dataSource,r=this.getView().getValue(),i={},n?i[n]=r:i={inputValue:r},this.dropdownPrefix=r,e(i,t)},e.prototype.showFetching=function(){var t,e;return t=this.getOptions().fetchingItemClass,e=this.dropdown.getListView(),this.dropdown.removeAllItems(),e.addItemView(new t({},{})),this.showDropdown()},e.prototype.getNoItemFoundView=function(t){var e,n;return e=this.getOptions().nothingFoundItemClass,n=new e({delegate:this.dropdown.getListView(),userInput:t||this.getView().getValue()},{})},e.prototype.showNoDataFound=function(){var t;return t=this.getNoItemFoundView(),this.dropdown.removeAllItems(),this.dropdown.getListView().addItemView(t),this.showDropdown()},e.prototype.destroy=function(){return this.dropdown.getView().destroy(),e.__super__.destroy.apply(this,arguments)},e}(w)},{"../../core/kd":100,"../../core/view":104,"../../core/viewcontroller":105,"../inputs/inputview":45,"../inputs/labelview":46,"../list/listviewcontroller":55,"../notifications/notificationview":61,"./autocomplete":2,"./autocompleteditems":4,"./autocompletefetchingitem":5,"./autocompletelist":6,"./autocompletelistitem":7,"./autocompletenothingfounditem":8,debug:112,inflector:123,jquery:119,jspath:124}],4:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=this.utils.curry("kdautocompletedlistitem",t.cssClass),e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.click=function(t){return i(t.target).is("span.close-icon")&&this.getDelegate().removeFromSubmitQueue(this),this.getDelegate().getView().$input().trigger("focus")},e.prototype.viewAppended=function(){return this.setPartial(this.partial())},e.prototype.partial=function(t){return this.getDelegate().getOptions().itemClass.prototype.partial(this.getData())},e}(r)},{"../../core/view":104,jquery:119}],5:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("./autocompleteunselecteableitem"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kdautocompletelistitem fetching",t.cssClass),e.__super__.constructor.call(this,t,n)}return s(e,t),e.prototype.partial=function(){return"loading..."},e}(r)},{"../../core/kd":100,"./autocompleteunselecteableitem":9}],6:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../list/listview"),e.exports=i=function(t){function e(t,n){e.__super__.constructor.call(this,t,n),this.setClass("kdautocompletelist")}return r(e,t),e.prototype.goDown=function(){var t,e,n;return t=this.getActiveItem(),null==t.index?null!=(n=this.items[0])?n.makeItemActive():void 0:(e=this.items[t.index+1],null!=e?e.makeItemActive():void 0)},e.prototype.goUp=function(){var t;return t=this.getActiveItem(),null!=t.index?null!=this.items[t.index-1]?this.items[t.index-1].makeItemActive():this.emit("ItemsDeselected"):this.items[0].makeItemActive()},e.prototype.getActiveItem=function(){var t,e,n,i,o,r;for(t={index:null,item:null},r=this.items,e=i=0,o=r.length;o>i;e=++i)if(n=r[e],n.active){t.item=n,t.index=e;break}return t},e.prototype.setActiveItem=function(t){var e,n,i,o,r;for(o=this.items,r=[],n=0,i=o.length;i>n;n++)e=o[n],r.push(e.active=e===t);return r},e}(o)},{"../list/listview":53}],7:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../list/listitemview"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kdautocompletelistitem",t.cssClass),t.bind="mouseenter mouseleave",e.__super__.constructor.call(this,t,n),this.active=!1}return s(e,t),e.prototype.viewAppended=function(){return this.updatePartial(this.partial(this.data))},e.prototype.mouseEnter=function(){return this.makeItemActive()},e.prototype.mouseLeave=function(){return this.makeItemInactive()},e.prototype.makeItemActive=function(){var t,e,n,i;for(i=this.getDelegate().items,t=0,n=i.length;n>t;t++)e=i[t],e.makeItemInactive();return this.active=!0,this.setClass("active")},e.prototype.makeItemInactive=function(){return this.active=!1,this.unsetClass("active")},e.prototype.click=function(t){var e;return e=this.getDelegate(),e.emit("KDAutoCompleteSubmit",this,this.data),i.utils.stopDOMEvent(t)},e.prototype.partial=function(){return"<div class='autocomplete-item clearfix'>Default item</div>"},e}(r)},{"../../core/kd":100,"../list/listitemview":52}],8:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./autocompleteunselecteableitem"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),t.cssClass=this.utils.curry("kdautocompletelistitem no-result",t.cssClass),e.__super__.constructor.call(this,t,n)}return r(e,t),e.prototype.partial=function(t){return"nothing here."},e}(o)},{"./autocompleteunselecteableitem":9}],9:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../list/listitemview"),e.exports=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.click=function(){return!1},e.prototype.keyUp=function(){return!1},e.prototype.keyDown=function(){return!1},e.prototype.makeItemActive=function(){},e.prototype.destroy=function(){return e.__super__.destroy.call(this,!1)},e}(o)},{"../list/listitemview":52}],10:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),o=t("../list/listview"),s=t("./multiplelistitemview"),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.setDomElement=function(){return this.domElement=i("<p class='search-tags clearfix'></p>")},e.prototype.addItems=function(t){var e,n,i,o,r;for(r=[],e=0,i=t.length;i>e;e++)n=t[e],o=new s({delegate:this},n),r.push(this.addItem(o));return r},e.prototype.removeListItem=function(t){return e.__super__.removeListItem.call(this,t),this.getDelegate().inputRemoveValue(t.getData())},e}(o)},{"../list/listview":53,"./multiplelistitemview":12,jquery:119}],11:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};i=t("jquery"),o=t("../../core/kd"),a=t("./simpleautocomplete"),u=t("./multipleinputlistview"),r=t("../inputs/inputview"),e.exports=s=function(t){function e(t){this._values=[],t=i.extend({icon:"noicon",title:""},t),e.__super__.constructor.call(this,t)}return l(e,t),e.prototype.focus=function(t,e){return o.getSingleton("windowController").setKeyView(this)},e.prototype.viewAppended=function(){return this.list=new u({delegate:this}),this.addSubView(this.list)},e.prototype.$input=function(){return this.$().find("input.main").eq(0)},e.prototype.getValues=function(){return this._values},e.prototype.addItemToSubmitQueue=function(){return e.__super__.addItemToSubmitQueue.apply(this,arguments),this.inputAddCurrentValue()},e.prototype.keyUp=function(t){return 13===t.keyCode&&this.inputAddCurrentValue(),e.__super__.keyUp.apply(this,arguments)},e.prototype.inputRemoveValue=function(t){var e;return e=this._values.indexOf(t),e>-1&&this._values.splice(e,1),this._inputChanged()},e.prototype.clear=function(){return this._values=[],this.removeAllItems(),this._inputChanged()},e.prototype.inputAddCurrentValue=function(){var t;return t=this.$input().val(),t=i.trim(t),p.call(this._values,t)>=0||""===t?void 0:(this._values.push(t),this.$input().val(""),this.list.addItems([t]),this._inputChanged())},e.prototype._inputChanged=function(){var t,e,n,i,o,s,a,u,l,c,p;for(this._hiddenInputs||(this._hiddenInputs=[]),l=this._hiddenInputs,t=0,s=l.length;s>t;t++)n=l[t],n.destroy();for(i=this.getOptions().name,c=this._values,e=o=0,a=c.length;a>o;e=++o)p=c[e],u=new r({type:"hidden",name:i+("["+e+"]"),defaultValue:p}),this._hiddenInputs.push(u),this.addSubView(u);return this.emit("MultipleInputChanged",{values:this.getValue()})},e.prototype.click=function(t){return i(t.target).hasClass("addNewItem")?this.inputAddCurrentValue():void 0},e.prototype.setDomId=function(){return this.$input().attr("id",this.getDomId()),this.$input().data("data-id",this.getId())},e.prototype.setDomElement=function(){return this.domElement=i("<div class='filter kdview'> <h2>"+this.getOptions().title+"</h2> <div class='clearfix'> <span class='"+this.getOptions().icon+"'></span> <input type='text' class='main'> <a href='#' class='addNewItem'>+</a> </div> </div>")},e}(a)},{"../../core/kd":100,"../inputs/inputview":45,"./multipleinputlistview":10,"./simpleautocomplete":15,jquery:119}],12:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),o=t("../list/listitemview"),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.click=function(t){return i(t.target).hasClass("removeIcon")?this.getDelegate().removeListItem(this):void 0},e.prototype.setDomElement=function(){return this.domElement=i("<span />")},e.prototype.partial=function(){return this.getData()+" <cite class='removeIcon'>x</cite>"},e}(o)},{"../list/listitemview":52,jquery:119}],13:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),o=t("./multipleinputview"),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.keyUp=function(t){return 13===t.keyCode?this.inputAddCurrentValue():void 0},e.prototype.setDomElement=function(t){var e;return e=this.getOptions().placeholder,this.domElement=i("<div class='"+t+"'><input type='text' class='main' placeholder='"+(e||"")+"' /></div>")},e.prototype.addItemToSubmitQueue=function(t){return!1},e}(o)},{"./multipleinputview":11,jquery:119}],14:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=t("jquery"),o=t("../buttons/buttonview"),r=t("../../core/customhtmlview"),a=t("../../core/view"),s=t("./noautocompleteinputview"),e.exports=u=function(t){function e(t,n){var o;null==t&&(t={}),o={cssClass:"common-view input-with-extras"},t=i.extend(o,t),e.__super__.constructor.call(this,t,n)}return l(e,t),e.prototype.viewAppended=function(){var t,e,n,a,u,l;return l=this.options,n=l.icon,a=l.input,t=l.button,n&&(this.setClass("with-icon"),u={tagName:"span",cssClass:"icon "+n},this.addSubView(this.icon=new r(u))),a&&this.addSubView(this.input=new s(a)),t?(e={callback:function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.input.inputAddCurrentValue()}}(this)},t=i.extend(e,t),this.addSubView(this.button=new o(t))):void 0},e}(a)},{"../../core/customhtmlview":97,"../../core/view":104,"../buttons/buttonview":19,"./noautocompleteinputview":13,jquery:119}],15:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jspath"),o=t("./autocomplete"),e.exports=r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.addItemToSubmitQueue=function(t){var e;return e=i.getAt(t.getData(),this.getOptions().itemDataPath),this.setValue(e)},e.prototype.keyUp=function(t){return 13!==t.keyCode?e.__super__.keyUp.apply(this,arguments):void 0},e.prototype.showNoDataFound=function(){return this.dropdown.removeAllItems(),this.hideDropdown()},e}(o)},{"./autocomplete":2,jspath:124}],16:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),u=t("../../core/view"),s=t("./buttonview"),a=t("../forms/formview"),e.exports=r=function(t){function e(t,n){var i,r,s,u,l,c;for(null==t&&(t={}),t.cssClass=o.utils.curry("formline button-field clearfix",t.cssClass),e.__super__.constructor.call(this,t,n),this.buttons={},s=t.buttons,c=a.sanitizeFormOptions(s),u=0,l=c.length;l>u;u++)r=c[u],i=this.createButton(r),this.addSubView(i),this.buttons[r.key]=i}return l(e,t),e.prototype._itemClass=s,e.prototype.createButton=function(t){var e,n;return t||(t={}),t.itemClass||(t.itemClass=this._itemClass),n=i.extend({},t),delete n.itemClass,e=new t.itemClass(n)},e}(u)},{"../../core/kd":100,"../../core/view":104,"../forms/formview":33,"./buttonview":19,jquery:119}],17:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./buttonview"),r=t("../../core/view"),e.exports=i=function(t){function e(t,n){var i;null==t&&(t={}),i=t.cssClass,i=i?" "+i:"",t.cssClass="kdbuttongroup"+i,t.buttons||(t.buttons={}),e.__super__.constructor.call(this,t,n),this.buttons={},this.createButtons(t.buttons)}return s(e,t),e.prototype.createButtons=function(t){var e,n,i,r;r=[];for(i in t)a.call(t,i)&&(n=t[i],e=n.buttonClass||o,n.title||(n.title=i),n.style||(n.style=""),this.addSubView(this.buttons[i]=new e(n)),r.push(this.buttons[i].on("click",function(t){return function(e){return t.buttonReceivedClick(t.buttons[i],e)}}(this))));return r},e.prototype.buttonReceivedClick=function(t,e){var n,i,o;i=this.buttons;for(o in i)a.call(i,o)&&(n=i[o],n.unsetClass("toggle"));return t.setClass("toggle")},e}(r)},{"../../core/view":104,"./buttonview":19}],18:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("jquery"),s=t("../../core/kd"),r=t("../contextmenu/contextmenutreeview"),a=t("../contextmenu/contextmenu"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=this.utils.curry("kdbuttonmenu",t.cssClass),t.listViewClass||(t.listViewClass=r),e.__super__.constructor.call(this,t,n)}return u(e,t),e.prototype.viewAppended=function(){return e.__super__.viewAppended.apply(this,arguments),this.setPartial("<div class='chevron-ghost-wrapper'><span class='chevron-ghost'></span></div>"),this.positionContextMenu()},e.prototype.positionContextMenu=s.utils.debounce(10,function(){var t,e,n,o,r,s,a,u,l;return t=this.getDelegate(),r=i(window).height(),s=i(window).scrollTop(),e=t.getHeight(),n=t.getWidth(),l=t.getY()+e,a=this.getHeight(),u=this.getWidth(),o=l+a>r+s?(l=t.getY()-a,this.setClass("top-menu"),{top:"100%",height:e}):{top:-(e+1),height:e},this.$(".chevron-ghost-wrapper").css(o),this.$().css({top:l+s,left:t.getX()+n-u})}),e}(a)},{"../../core/kd":100,"../contextmenu/contextmenu":22,"../contextmenu/contextmenutreeview":24,jquery:119}],19:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;u=t("debug")("kd:buttons:buttonview"),i=t("jquery"),o=t("../../core/kd"),a=t("../../core/view"),s=t("../loader/loaderview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.callback||(t.callback=o.noop),t.title||(t.title=""),t.type||(t.type="button"),t.cssClass||(t.cssClass=t.style||(t.style="clean-gray")),null==t.icon&&(t.icon=!1),null==t.iconOnly&&(t.iconOnly=!1),t.iconClass||(t.iconClass=""),null==t.disabled&&(t.disabled=!1),t.hint||(t.hint=null),null==t.loader&&(t.loader=!1),e.__super__.constructor.call(this,t,n),this.setClass(t.style),this.setCallback(t.callback),this.setTitle(t.title),t.iconClass&&this.setIconClass(t.iconClass),(t.icon||t.iconOnly)&&this.showIcon(),t.iconOnly&&this.setIconOnly(t.iconOnly),t.disabled&&this.disable(),t.focus&&this.once("viewAppended",this.bound("setFocus")),t.loader&&this.once("viewAppended",this.bound("setLoader"))}return l(e,t),e.prototype.setFocus=function(){return this.$().trigger("focus")},e.prototype.setDomElement=function(t){var e,n,o,r,s,a,l,c;if(a=this.getOptions(),r=a.lazyDomId,c=a.tagName,r)for(e=document.getElementById(r),l=("kdview "+t).split(" "),n=0,s=l.length;s>n;n++)o=l[n],o.length&&e.classList.add(o);return null==e&&(r&&u("missing lazy dom element "+r),e="<button type='"+this.getOptions().type+"' class='kdbutton "+t+"' id='"+this.getId()+"'>\n  <span class='icon hidden'></span>\n  <span class='button-title'>Title</span>\n</button>"),this.domElement=i(e)},e.prototype.setTitle=function(t){return this.buttonTitle=t,this.$(".button-title").html(t)},e.prototype.getTitle=function(){return this.buttonTitle},e.prototype.setCallback=function(t){return this.buttonCallback=t},e.prototype.getCallback=function(){return this.buttonCallback},e.prototype.showIcon=function(){return this.setClass("with-icon"),this.$("span.icon").removeClass("hidden")},e.prototype.hideIcon=function(){return this.unsetClass("with-icon"),this.$("span.icon").addClass("hidden")},e.prototype.setIconClass=function(t){return this.$(".icon").attr("class","icon"),this.$(".icon").addClass(t)},e.prototype.setIconOnly=function(){var t;return this.unsetClass("with-icon"),this.$().addClass("icon-only"),t=this.$("span.icon"),this.$().html(t)},e.prototype.setLoader=function(){var t,e,n,i,o,r,a,u;return this.setClass("w-loader"),t=this.getOptions().loader,e=this.getHeight()/2,this.loader=new s({size:{width:null!=(n=t.diameter)?n:e},loaderOptions:{color:t.color||"#ffffff",shape:t.shape||"spiral",diameter:null!=(i=t.diameter)?i:e,density:null!=(o=t.density)?o:30,range:null!=(r=t.range)?r:.4,speed:null!=(a=t.speed)?a:1.5,FPS:null!=(u=t.FPS)?u:24}}),this.addSubView(this.loader,null,!0),this.loader.$().css({position:"absolute",left:t.left||"50%",top:t.top||"50%",marginTop:-(t.diameter/2),marginLeft:-(t.diameter/2)}),this.loader.hide(),t.show?this.showLoader():void 0},e.prototype.showLoader=function(){var t,e,n;return this.loader||u("missing loader"),n=this.getOptions(),t=n.icon,e=n.iconOnly,this.setClass("loading"),this.loader.show(),t&&!e?this.hideIcon():void 0},e.prototype.hideLoader=function(){var t,e,n;return this.loader||u("missing loader"),n=this.getOptions(),t=n.icon,e=n.iconOnly,this.unsetClass("loading"),this.loader.hide(),t&&!e?this.showIcon():void 0},e.prototype.disable=function(){return this.$().attr("disabled",!0)},e.prototype.enable=function(){return this.$().attr("disabled",!1)},e.prototype.focus=function(){return this.$().trigger("focus")},e.prototype.blur=function(){return this.$().trigger("blur")},e.prototype.click=function(t){var e;return(null!=(e=this.loader)?e.active:void 0)?this.utils.stopDOMEvent():(this.loader&&!this.loader.active&&this.showLoader(),"button"===this.getOption("type")&&this.utils.stopDOMEvent(),this.getCallback().call(this,t),!1)},e.prototype.triggerClick=function(){return this.doOnSubmit()},e}(a)},{"../../core/kd":100,"../../core/view":104,"../loader/loaderview":56,debug:112,jquery:119}],20:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),o=t("./buttonmenu"),r=t("./buttonview"),e.exports=s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.setDomElement=function(t){return null==t&&(t=""),
this.domElement=i("<div class='kdbuttonwithmenu-wrapper "+t+"'>\n  <button class='kdbutton "+t+" with-icon with-menu' id='"+this.getId()+"'>\n    <span class='icon hidden'></span>\n  </button>\n  <span class='chevron-separator'></span>\n  <span class='chevron'></span>\n</div>"),this.$button=this.$("button").first(),this.domElement},e.prototype.setIconOnly=function(){var t;return this.$().addClass("icon-only").removeClass("with-icon"),t=this.$("span.icon,span.chevron"),this.$().html(t)},e.prototype.click=function(t){return i(t.target).is(".chevron")?(this.contextMenu(t),!1):this.getCallback().call(this,t)},e.prototype.contextMenu=function(t){return this.createContextMenu(t),!1},e.prototype.createContextMenu=function(t){var e,n,i,r,s;return s=this.getOptions(),this.buttonMenu=new(s.buttonMenuClass||o)({cssClass:s.style,ghost:this.$(".chevron").clone(),event:t,delegate:this,treeItemClass:s.treeItemClass,itemChildClass:s.itemChildClass,itemChildOptions:s.itemChildOptions},function(){var t,o,a;if("function"==typeof s.menu)return s.menu();if(Array.isArray(s.menu)){for(e={},a=s.menu,t=0,o=a.length;o>t;t++){n=a[t];for(i in n)u.call(n,i)&&(r=n[i],null!=i&&null!=r&&(e[i]=r))}return e}return s.menu}()),this.buttonMenu.on("ContextMenuItemReceivedClick",function(t){return function(){return t.buttonMenu.destroy()}}(this))},e.prototype.setTitle=function(t){return this.$button.append(t)},e.prototype.setButtonStyle=function(t){var e,n,i,o;for(o=this.constructor.styles,e=0,n=o.length;n>e;e++)i=o[e],this.$().removeClass(i),this.$button.removeClass(i);return this.$button.addClass(t),this.$().addClass(t)},e.prototype.setIconOnly=function(){var t;return this.$button.addClass("icon-only").removeClass("with-icon"),t=this.$("span.icon"),this.$button.html(t)},e.prototype.disable=function(){return this.$button.attr("disabled",!0)},e.prototype.enable=function(){return this.$button.attr("disabled",!1)},e}(r)},{"./buttonmenu":18,"./buttonview":19,jquery:119}],21:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=t("debug")("kd:buttons:togglebutton"),i=t("jquery"),o=t("../../core/kd"),r=t("./buttonview"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t=i.extend({dataPath:null,defaultState:null,states:[]},t),e.__super__.constructor.call(this,t,n),this.setState(t.defaultState)}return u(e,t),e.prototype.getStateIndex=function(t){var e,n,i,o,r;if(r=this.getOptions().states,!t)return 0;for(n=e=0,i=r.length;i>e;n=++e)if(o=r[n],t===o.title)return n},e.prototype.decorateState=function(t){return this.setTitle(this.state.title),null!=this.state.iconClass&&this.setIconClass(this.state.iconClass),null!=this.state.cssClass||null!=this.lastUsedCssClass?(null!=this.lastUsedCssClass&&this.unsetClass(this.lastUsedCssClass),this.setClass(this.state.cssClass),this.lastUsedCssClass=this.state.cssClass):delete this.lastUsedCssClass},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){var e,n;return n=this.getOptions().states,this.stateIndex=e=this.getStateIndex(t),this.state=n[e],this.decorateState(t),this.setCallback(n[e].callback.bind(this,this.toggleState.bind(this)))},e.prototype.toggleState=function(t){var e,n;return n=this.getOptions().states,e=n[this.stateIndex+1]||n[0],t?"AccessDenied"!==t.name&&a(t.message||"could not switch to state "+e.title):this.setState(e.title),"function"==typeof this.hideLoader?this.hideLoader():void 0},e}(r)},{"../../core/kd":100,"./buttonview":19,debug:112,jquery:119}],22:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=t("../../core/kd"),a=t("../../core/view"),s=t("../../core/customhtmlview"),i=t("./contextmenutreeviewcontroller"),e.exports=r=function(t){function e(t,n){var r,s,a,u;null==t&&(t={}),t.cssClass=this.utils.curry("kdcontextmenu",t.cssClass),t.menuMaxWidth||(t.menuMaxWidth="auto"),t.menuMinWidth||(t.menuMinWidth="auto"),t.menuWidth||(t.menuWidth=172),t.offset||(t.offset={}),(r=t.offset).left||(r.left=0),(s=t.offset).top||(s.top=0),null==t.arrow&&(t.arrow=!1),null==t.sticky&&(t.sticky=!1),e.__super__.constructor.call(this,t,n),this.topMargin=0,this.leftMargin=0,a=this.getOptions(),this.sticky=a.sticky,o.getSingleton("windowController").addLayer(this),this.on("ReceivedClickElsewhere",function(t){return function(){return t.sticky?void 0:t.destroy()}}(this)),n&&(this.treeController=new i({type:a.type,view:a.view,delegate:this,treeItemClass:a.treeItemClass,listViewClass:a.listViewClass,itemChildClass:a.itemChildClass,itemChildOptions:a.itemChildOptions,addListsCollapsed:a.addListsCollapsed,putDepthInfo:a.putDepthInfo,lazyLoad:null!=(u=a.lazyLoad)?u:!1},n),this.addSubView(this.treeController.getView()),this.treeController.getView().on("ReceivedClickElsewhere",function(t){return function(){return t.sticky?void 0:t.destroy()}}(this)),this.treeController.on("NodeExpanded",this.bound("positionSubMenu"))),t.arrow&&this.on("viewAppended",this.bound("addArrow")),this.appendToDomBody()}return u(e,t),e.prototype.changeStickyState=function(t){return this.sticky=t},e.prototype.childAppended=function(){return e.__super__.childAppended.apply(this,arguments),this.positionContextMenu(),this.getOption("deferPositioning")?o.utils.defer(function(t){return function(){return t.positionContextMenu()}}(this)):this.positionContextMenu()},e.prototype.addArrow=function(){var t,e,n;return t=this.getOptions().arrow,t.placement||(t.placement="top"),null==t.margin&&(t.margin=0),"top"===(e=t.placement)||"bottom"===e?t.margin+=this.leftMargin:t.margin+=this.topMargin,this.arrow=new s({tagName:"span",cssClass:"arrow "+t.placement}),this.arrow.$().css(function(){switch(t.placement){case"top":return n={},t.margin>0?n.left=t.margin:n.right=-t.margin,n;case"bottom":return n={},t.margin>0?n.left=t.margin:n.right=-t.margin,n;case"right":return n={},t.margin>0?n.top=t.margin:n.bottom=-t.margin,n;case"left":return n={},t.margin>0?n.top=t.margin:n.bottom=-t.margin,n;default:return{}}}()),this.addSubView(this.arrow)},e.prototype.positionContextMenu=o.utils.debounce(10,function(){var t,e,n,i,r,s,a,u,l,c,p,h,d,f;return h=this.getOptions(),t=h.event||{},s=o.getSingleton("mainView"),r=s.getHeight(),a=s.getWidth(),p=h.menuWidth,u=h.menuHeight,l=h.menuMaxWidth,c=h.menuMinWidth,null==u&&(u=this.getHeight()),null==p&&(p=this.getWidth()),f=(h.y||t.pageY||0)+h.offset.top,i=(h.x||t.pageX||0)+h.offset.left,n=f,e=i,f+u>r&&(f=r-u+h.offset.top),i+p>a&&(i=a-p+h.offset.left),this.topMargin=n-f,this.leftMargin=e-i,d={width:p+"px",top:f,left:i},l&&(d.maxWidth=l+"px"),c&&(d.minWidth=c+"px"),this.getDomElement().css(d)}),e.prototype.positionSubMenu=function(t){var e,n,i,o,r,s;return s=t.getData(),e=s.children,r=s.id,e&&(n=this.treeController.listControllers[r].getView(),i=n.getY()+n.getHeight(),i>window.innerHeight&&n.$().css("bottom",0),o=n.getX()+n.getWidth(),o>window.innerWidth)?(n.$().css("left",-n.getWidth()),n.setClass("left-aligned")):void 0},e}(a)},{"../../core/customhtmlview":97,"../../core/kd":100,"../../core/view":104,"./contextmenutreeviewcontroller":25}],23:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=t("../../core/kd"),s=t("../../core/view"),o=t("../tree/treeitemview"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),null==n&&(n={}),t.type="contextitem",t.cssClass||(t.cssClass="default "+r.utils.slugify(n.title)),null==n.title&&(n.title=""),e.__super__.constructor.call(this,t,n),this.unsetClass("jtreeitem"),n&&(("divider"===n.type||"separator"===n.type)&&this.setClass("separator"),n.cssClass&&this.setClass(n.cssClass),"customView"===n.type&&this.addCustomView(n),n.disabled&&this.setClass("disabled"))}return a(e,t),e.prototype.viewAppended=function(){return this.customView?void 0:e.__super__.viewAppended.call(this)},e.prototype.mouseDown=function(){return!0},e.prototype.addCustomView=function(t){return this.setClass("custom-view"),this.unsetClass("default"),this.customView=t.view||new s,delete t.view,this.addSubView(this.customView)},e}(o)},{"../../core/kd":100,"../../core/view":104,"../tree/treeitemview":86}],24:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../tree/treeview"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),null==n&&(n={}),t.type||(t.type="contextmenu"),null==t.animated&&(t.animated=!1),t.cssClass||(t.cssClass="default"),e.__super__.constructor.call(this,t,n),this.unsetClass("jtreeview")}return r(e,t),e}(o)},{"../tree/treeview":87}],25:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;a=t("../../core/kd"),u=t("../../core/view"),s=t("../tree/treeviewcontroller"),i=t("./contextmenuitem"),o=t("./contextmenutreeview"),e.exports=r=function(t){function e(t,n){var r;null==t&&(t={}),r=t,r.view||(r.view=new u({cssClass:"context-list-wrapper"})),r.type||(r.type="contextmenu"),r.treeItemClass||(r.treeItemClass=i),r.listViewClass||(r.listViewClass=o),null==r.addListsCollapsed&&(r.addListsCollapsed=!0),null==r.putDepthInfo&&(r.putDepthInfo=!0),e.__super__.constructor.call(this,r,n),this.expandedNodes=[]}var n,r,s;return l(e,t),s=0,r=function(){return++s},n=e.convertToArray=function(t,e){var i,o,s,a,u,l,p;null==e&&(e=null),l=[];for(p in t)c.call(t,p)&&(u=t[p],s=null,0!==p.indexOf("customView")?u.children?(s=r(),u.title=p,u.id=s,u.parentId=e,l.push(u),i=n(u.children,s),l=l.concat(i),u.separator&&(o={type:"separator",parentId:e},l.push(o))):(u.title=p,u.parentId=e,l.push(u),u.separator&&(o={type:"separator",parentId:e},l.push(o))):(a={type:"customView",parentId:e,view:u},l.push(a)));return l},e.prototype.loadView=function(){return e.__super__.loadView.apply(this,arguments),this.getOptions().lazyLoad?void 0:this.selectFirstNode()},e.prototype.initTree=function(t){return t.length||this.setData(t=n(t)),e.__super__.initTree.call(this,t)},e.prototype.repairIds=function(t){return"divider"===t.type&&(t.type="separator"),e.__super__.repairIds.apply(this,arguments)},e.prototype.expand=function(t){return e.__super__.expand.apply(this,arguments),this.emit("NodeExpanded",t),t.expanded?this.expandedNodes.push(t):void 0},e.prototype.organizeSelectedNodes=function(t,n,i){var o,r;return null==i&&(i={}),r=n[0],this.expandedNodes.length&&(o=r.getData().depth,this.expandedNodes.forEach(function(t){return function(e){var n;return n=e.getData().depth,n>=o?t.collapse(e):void 0}}(this))),e.__super__.organizeSelectedNodes.apply(this,arguments)},e.prototype.dblClick=function(t,e){},e.prototype.mouseEnter=function(t,e){var n;return this.mouseEnterTimeOut&&clearTimeout(this.mouseEnterTimeOut),n=t.getData(),"separator"!==n.type?(this.selectNode(t,e),this.mouseEnterTimeOut=setTimeout(function(e){return function(){return e.expand(t)}}(this),150)):void 0},e.prototype.click=function(t,e){var n,i;return i=t.getData(),"separator"===i.type||i.disabled?void 0:(this.toggle(t),n=this.getDelegate(),i.callback&&"function"==typeof i.callback&&i.callback.call(n,t,e),n.emit("ContextMenuItemReceivedClick",t,e),e.stopPropagation(),!1)},e.prototype.performDownKey=function(t,n){var i,o;return i=e.__super__.performDownKey.call(this,t,n),i&&(o=i.getData(),"separator"===o.type)?this.performDownKey(i,n):void 0},e.prototype.performUpKey=function(t,n){var i,o;return i=e.__super__.performUpKey.call(this,t,n),i&&(o=i.getData(),"separator"===o.type&&this.performUpKey(i,n)),i},e.prototype.performRightKey=function(t,n){return e.__super__.performRightKey.apply(this,arguments),this.performDownKey(t,n)},e.prototype.performLeftKey=function(t,n){var i;return i=e.__super__.performLeftKey.call(this,t,n),i&&this.collapse(i),i},e.prototype.performEscapeKey=function(t,e){return a.getSingleton("windowController").revertKeyView(),this.getDelegate().destroy()},e.prototype.performEnterKey=function(t,e){var n;return a.getSingleton("windowController").revertKeyView(),n=this.getDelegate(),n.emit("ContextMenuItemReceivedClick",t),n.destroy(),e.stopPropagation(),e.preventDefault(),!1},e}(s)},{"../../core/kd":100,"../../core/view":104,"../tree/treeviewcontroller":88,"./contextmenuitem":23,"./contextmenutreeview":24}],26:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../../core/customhtmlview"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),null==n&&(n={}),t.tagName="ul",null==t.initialValue&&(t.initialValue=0),e.__super__.constructor.call(this,t,n),this.currentValue=t.initialValue,this.createDigit()}return s(e,t),e.prototype.createDigit=function(){return this.addSubView(this.digit=new r({tagName:"li",cssClass:"real",partial:'<span class="top">'+this.getOption("initialValue")+'</span>\n<span class="bottom">'+this.getOption("initialValue")+"</span>"})),this.addSubView(this.fakeDigit=new r({tagName:"li",cssClass:"fake",partial:'<span class="top">'+this.getOption("initialValue")+'</span>\n<span class="bottom">'+this.getOption("initialValue")+"</span>"})),this.setValue(this.getOption("initialValue"))},e.prototype.setValue=function(t){return t!==this.currentValue?(this.currentValue=t,this.digit.updatePartial('<span class="top">'+t+'</span>\n<span class="bottom">'+t+"</span>"),this.setClass("animate"),i.utils.wait(500,function(e){return function(){return e.fakeDigit.updatePartial('<span class="top">'+t+'</span>\n<span class="bottom">'+t+"</span>"),e.unsetClass("animate")}}(this))):void 0},e}(r)},{"../../core/customhtmlview":97,"../../core/kd":100}],27:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("../../core/kd"),s=t("../../core/view"),o=t("./counterdigitview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),null==n&&(n={}),null==t.style&&(t.style="dark"),null==t.from&&(t.from=5e3),null==t.to&&(t.to=1e4),null==t.interval&&(t.interval=1e3),null==t.step&&(t.step=1),null==t.autoStart&&(t.autoStart=!0),t.direction=t.from<t.to?"up":"down",null==t.digits&&(t.digits="up"===t.direction?t.to.toString().length:t.from.toString().length),t.cssClass=i.utils.curry(t.style+" "+t.direction+" kd-counter",t.cssClass),e.__super__.constructor.call(this,t,n),this.digitsList=[],this.currentValue=t.from,this.createCounter(),t.autoStart&&this.start()}return a(e,t),e.prototype.createCounter=function(){var t,e,n,i,r,s,a;for(r=this.getOptions(),e=r.from,t=r.digits,a=[],n=i=0,s=t;s>=0?s>i:i>s;n=s>=0?++i:--i)a.push(this.digitsList.push(this.addSubView(new o({initialValue:e.toString()[n]}))));return a},e.prototype.setValue=function(t){var e,n,i,o;if(t!==this.currentValue){for(this.currentValue=t,t=t.toString(),o=[],e=n=0,i=t.length;i>=0?i>n:n>i;e=i>=0?++n:--n)o.push(this.digitsList[e].setValue(t[e]));return o}},e.prototype.start=function(){var t;return t=this.getOption("interval"),this.counterInterval=i.utils.repeat(t,function(t){return function(){var e;return e="up"===t.getOption("direction")?t.currentValue+t.getOption("step"):t.currentValue-t.getOption("step"),t.setValue(e),t.currentValue=e}}(this))},e}(s)},{"../../core/kd":100,"../../core/view":104,"./counterdigitview":26}],28:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("../../core/kd"),r=t("./diaobject"),s=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kddia-container",t.cssClass),t.draggable&&"object"!=typeof t.draggable&&(t.draggable={}),null==t.itemClass&&(t.itemClass=r),e.__super__.constructor.call(this,t,n),this.scale=1,this.dias={}}return a(e,t),e.prototype.mouseDown=function(){var t,n;return e.__super__.mouseDown.apply(this,arguments),this.emit("HighlightDia",function(){var e,i;e=this.dias,i=[];for(n in e)t=e[n],i.push(t);return i}.call(this))},e.prototype.addDia=function(t,e){return null==e&&(e={}),this.addSubView(t),t.on("DiaObjectClicked",function(e){return function(){return e.emit("HighlightDia",t)}}(this)),t.on("RemoveMyConnections",function(e){return function(){return delete e.dias[t.getId()]}}(this)),this.dias[t.getId()]=t,this.emit("NewDiaObjectAdded",this,t),null!=e.x&&t.setX(e.x),null!=e.y&&t.setY(e.y),t},e.prototype.addItem=function(t,e){var n;return null==e&&(e={}),n=this.getOption("itemClass"),this.addDia(new n(e,t))},e.prototype.removeAllItems=function(){var t,e,n,i;n=this.dias,i=[];for(t in n)e=n[t],i.push("function"==typeof e.destroy?e.destroy():void 0);return i},e.prototype.setScale=function(t){var e,n,i,o,r;if(null==t&&(t=1),t!==this.scale){for(r=["webkitTransform","MozTransform","transform"],e={},n=0,i=r.length;i>n;n++)o=r[n],e[o]="scale("+t+")";return this.setStyle(e),this.scale=t}},e}(s)},{"../../core/kd":100,"../../core/view":104,"./diaobject":30}],29:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};s=t("debug")("kd:dia:diajoint"),i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,o){var r;null==t&&(t={}),t.type||(t.type="left"),r=t.type,l.call(n,r)<0&&(s("unknown joint type '"+t.type+"', falling back to 'left'"),t.type="left"),null==t["static"]&&(t["static"]=!1),null==t.size&&(t.size=10),t.cssClass=i.utils.curry("kddia-joint "+t.type,t.cssClass),e.__super__.constructor.call(this,t,o),this.connections={},this.type=this.getOption("type"),this.size=this.getOption("size")}var n;return a(e,t),n=["left","right","top","bottom"],e.prototype.viewAppended=function(){return e.__super__.viewAppended.apply(this,arguments),this.domElement.attr("dia-id",this.getDiaId())},e.prototype.getDiaId=function(){return"dia-"+this.parent.getId()+"-joint-"+this.type},e.prototype.getPos=function(){return this.parent.getJointPos(this)},e.prototype.click=function(t){return this.inDeleteMode()&&this.emit("DeleteRequested",this.parent,this.type),this.utils.stopDOMEvent(t)},e.prototype.mouseDown=function(t){return this.inDeleteMode()?void 0:(this.utils.stopDOMEvent(t),this.parent.emit("JointRequestsLine",this),!1)},e.prototype.inDeleteMode=function(){return this.hasClass("deleteMode")},e.prototype.showDeleteButton=function(){return this.isStatic()?void 0:this.setClass("deleteMode")},e.prototype.hideDeleteButton=function(){return this.unsetClass("deleteMode")},e.prototype.isStatic=function(){return this.getOption("static")},e}(r)},{"../../core/kd":100,"../../core/view":104,debug:112}],30:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};a=t("debug")("kd:dia:diaobject"),i=t("../../core/kd"),o=t("./diajoint"),s=t("../../core/view"),e.exports=r=function(t){function e(t,n){var r,s,a;t.cssClass=i.utils.curry("kddia-object",t.cssClass),null==t.draggable&&("object"!=typeof t.draggable&&(t.draggable={}),(r=t.draggable).containment||(r.containment={}),(s=t.draggable.containment).view||(s.view="parent"),null==(a=t.draggable.containment).padding&&(a.padding={top:1,right:1,bottom:1,left:1})),t.bind=i.utils.curry("mouseleave",t.bind),null==t.joints&&(t.joints=["left","right"]),null==t.jointItemClass&&(t.jointItemClass=o),t.allowedConnections||(t.allowedConnections={}),t.staticJoints||(t.staticJoints=[]),e.__super__.constructor.call(this,t,n),this.joints={},this.allowedConnections=this.getOption("allowedConnections"),this.domElement.attr("dia-id","dia-"+this.getId()),this.wc=i.getSingleton("windowController"),this.on("KDObjectWillBeDestroyed",function(t){return function(){return t.emit("RemoveMyConnections")}}(this)),this.once("viewAppended",function(t){return function(){var e,n,i,o;for(o=t.getOption("joints"),e=0,i=o.length;i>e;e++)n=o[e],t.addJoint(n);return t.parent.on("UnhighlightDias",function(){var e,i,o;t.unsetClass("highlight"),i=t.joints,o=[];for(e in i)n=i[e],o.push(n.hideDeleteButton());return o})}}(this))}return u(e,t),e.prototype.mouseDown=function(t){return this.emit("DiaObjectClicked"),this._mouseDown=!0,this.wc.once("ReceivedMouseUpElsewhere",function(t){return function(){return t._mouseDown=!1}}(this)),this.getOption("draggable")?void 0:this.utils.stopDOMEvent(t)},e.prototype.mouseLeave=function(t){var e,n;if(this._mouseDown)return e=this.getBounds(),n=null,e.w=e.w*this.parent.scale,e.h=e.h*this.parent.scale,t.pageX>=e.x+e.w&&(n=this.joints.right),t.pageX<=e.x&&(n=this.joints.left),t.pageY>=e.y+e.h&&(n=this.joints.bottom),t.pageY<=e.y&&(n=this.joints.top),n?this.emit("JointRequestsLine",n):void 0},e.prototype.addJoint=function(t){var e,n,i,o,r;return null!=this.joints[t]&&(a("dup joint, overriding previous one"),"function"==typeof(e=this.joints[t]).destroy&&e.destroy()),o=this.getOptions(),i=o.jointItemClass,r=o.staticJoints,this.addSubView(n=new i({type:t,"static":c.call(r,t)>=0})),this.joints[t]=n},e.prototype.getJointPos=function(t){var e,n,i,o,r,s,a,u,l,c,p,h,d,f;return"string"==typeof t&&(t=this.joints[t]),t?(a=[this.parent.getElement(),this.getElement(),t.getElement()],s=a[0],h=a[1],i=a[2],u=[s.offsetLeft+h.offsetLeft,s.offsetTop+h.offsetTop],d=u[0],f=u[1],l=[i.offsetLeft,i.offsetTop],o=l[0],r=l[1],p="left"===(c=t.type)||"right"===c?[10,4]:[4,10],e=p[0],n=p[1],{x:d+o+e,y:f+r+n}):{x:0,y:0}},e.prototype.getDiaId=function(){return this.domElement.attr("dia-id")},e}(s)},{"../../core/kd":100,"../../core/view":104,"./diajoint":29,debug:112}],31:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};i=t("jquery"),o=t("../../core/kd"),a=t("../../core/view"),r=t("../../core/customhtmlview"),u=t("lodash"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t.cssClass=o.utils.curry("kddia-scene",t.cssClass),t.bind=o.utils.curry("mousemove",t.bind),t.lineCap||(t.lineCap="round"),null==t.lineWidth&&(t.lineWidth=2),t.lineColor||(t.lineColor="#ccc"),t.lineColorActive||(t.lineColorActive="orange"),null==t.lineDashes&&(t.lineDashes=[]),t.fakeLineColor||(t.fakeLineColor="green"),null==t.fakeLineDashes&&(t.fakeLineDashes=[]),null==t.curveDistance&&(t.curveDistance=50),e.__super__.constructor.apply(this,arguments),this.containers=[],this.connections=[],this.activeDias=[],this.activeJoints=[],this.fakeConnections=[]}return l(e,t),e.prototype.diaAdded=function(t,e){return e.on("JointRequestsLine",this.bound("handleLineRequest")),e.on("DragInAction",function(t){return function(){return t.highlightLines(e)}}(this)),e.on("RemoveMyConnections",function(t){return function(){return t.disconnectAllConnections(e)}}(this))},e.prototype.addContainer=function(t,e){var n,i,o,r,s;return null==e&&(e={}),this.addSubView(t),t.on("NewDiaObjectAdded",this.bound("diaAdded")),t.on("DragInAction",this.bound("updateScene")),t.on("UpdateScene",this.bound("updateScene")),t.on("HighlightDia",this.bound("highlightLines")),this.containers.push(t),n=null!=(i=t.getOption("draggable"))&&null!=(o=i.containment)?o.padding:void 0,n&&(e.x=Math.max(n,null!=(r=e.x)?r:0),e.y=Math.max(n,null!=(s=e.y)?s:0)),null!=e.x&&t.setX(e.x),null!=e.y&&t.setY(e.y),this.createCanvas()},e.prototype.drawFakeLine=function(t){var e,n,i,o,r;return null==t&&(t={}),o=t.sx,r=t.sy,e=t.ex,n=t.ey,this.cleanup(this.fakeCanvas),this.fakeContext.beginPath(),this.fakeContext.moveTo(o,r),this.fakeContext.lineTo(e,n),this.fakeContext.lineCap=this.getOption("lineCap"),this.fakeContext.lineWidth=this.getOption("lineWidth"),this.fakeContext.strokeStyle=this._trackJoint.parent.getOption("colorTag")||this.getOption("fakeLineColor"),i=this.getOption("fakeLineDashes"),i.length>0&&this.fakeContext.setLineDash(i),this.fakeContext.stroke()},e.prototype.click=function(t){return t.target===t.currentTarget?this.highlightLines():void 0},e.prototype.mouseMove=function(t){var e,n,i,o,r;if(this._trackJoint)return i=this._trackJoint.getPos(),o=i.x,r=i.y,e=o+(t.clientX-this._trackJoint.getX()),n=r+(t.clientY-this._trackJoint.getY()),this.drawFakeLine({sx:o,sy:r,ex:e,ey:n})},e.prototype.mouseUp=function(t){var e,n,o,r;if(this._trackJoint&&(r=i(t.target).closest(".kddia-object").attr("dia-id"),n=this._trackJoint.getDiaId(),delete this._trackJoint,this.cleanup(this.fakeCanvas),r))return e=this.getDia(n),o=this.getDia(r),o.joint||(o.joint=this.guessJoint(o,e)),o.joint?this.connect(e,o):void 0},e.prototype.guessJoint=function(t,e){return"right"===e.joint&&null!=t.dia.joints.left?"left":"left"===e.joint&&null!=t.dia.joints.right?"right":void 0},e.prototype.getDia=function(t){var e,n,i,o,r,s,a,u,l;if(a=t.match(/dia\-((.*)\-joint\-(.*)|(.*))/).filter(function(t){return!!t}),!a)return null;for(u=a.slice(-2),s=u[0],o=u[1],s===o&&(o=null),l=this.containers,i=0,r=l.length;r>i&&(e=l[i],!(n=e.dias[s]));i++);return{dia:n,joint:o,container:e}},e.prototype.highlightLines=function(t,e){var n,i,o,r,s,a,u,l,c,h,d,f,g,m,v;for(null==t&&(t=[]),null==e&&(e=!0),Array.isArray(t)||(t=[t]),this.activeDias=t,h=this.activeJoints,o=0,u=h.length;u>o;o++)r=h[o],r.off("DeleteRequested");for(d=this.containers,s=0,l=d.length;l>s;s++)i=d[s],i.emit("UnhighlightDias");if(this.activeJoints=[],e&&this.updateScene(),1===this.activeDias.length){for(t=t.first,f=this.connections,g=[],a=0,c=f.length;c>a;a++)n=f[a],m=n.source,v=n.target,g.push(m.dia===t||v.dia===t?[m,v].forEach(function(e){return function(n){return n.dia.setClass("highlight"),n.dia!==t&&(r=n.dia.joints[n.joint],p.call(e.activeJoints,r)<0)?(r.showDeleteButton(),r.on("DeleteRequested",e.bound("disconnect")),e.activeJoints.push(r)):void 0}}(this)):void 0);return g}},e.prototype.handleLineRequest=function(t){return this._trackJoint=t},e.prototype.findTargetConnection=function(t,e){var n,i,o,r,s,a;for(o=function(n){return function(n){return t===n.dia&&e===n.joint}}(this),n=this.activeDias.first,a=this.connections,r=0,s=a.length;s>r;r++)if(i=a[r],(o(i.source)||o(i.target))&&(i.source.dia===n||i.target.dia===n))return i},e.prototype.disconnect=function(t,e){var n,i;if(1===this.activeDias.length)return i=this.findTargetConnection(t,e),this.connections=function(){var t,e,o,r;for(o=this.connections,r=[],t=0,e=o.length;e>t;t++)n=o[t],n!==i&&r.push(n);return r}.call(this),this.highlightLines(this.activeDias)},e.prototype.disconnectAllConnections=function(t){var e,n,i,o,r,s,a,u;for(o=[],r=this.connections,n=0,i=r.length;i>n;n++)e=r[n],a=e.source,u=e.target,(s=t.getDiaId())!==a.dia.getDiaId()&&s!==u.dia.getDiaId()&&o.push(e);return this.connections=o,this.highlightLines()},e.prototype.allowedToConnect=function(t,e){var n,i,o,r,s,a,u,l;if(!t||!e)return!1;if((null!=(r=t.dia)?r.id:void 0)===(null!=(s=e.dia)?s.id:void 0))return!1;for(i=o=0;1>=o;i=++o){if(null!=t.dia.allowedConnections&&Object.keys(t.dia.allowedConnections).length>0){if(n=t.dia.allowedConnections,l=n[e.dia.constructor.name],!l)return!1;if(a=t.joint,p.call(l,a)>=0)return!1}u=[e,t],t=u[0],e=u[1]}return!0},e.prototype.connect=function(t,e,n){return null==n&&(n=!0),this.allowedToConnect(t,e)?(this.emit("ConnectionCreated",t,e),this.connections.push({source:t,target:e}),this.highlightLines(e.dia,n)):void 0},e.prototype.resetScene=function(){return this.fakeConnections=[],this.updateScene()},e.prototype.updateScene=u.throttle(function(){var t,e,n,i,o,r,s,a;for(this.cleanup(this.realCanvas),r=this.connections,e=0,i=r.length;i>e;e++)t=r[e],this.drawConnectionLine(t);for(s=this.fakeConnections,a=[],n=0,o=s.length;o>n;n++)t=s[n],a.push(this.drawConnectionLine(t));return a},300),e.prototype.drawConnectionLine=function(t){var e,n,i,o,r,s,a,u,l,c,h,d,f,g,m,v,y,w,b,_,C;return m=t.source,b=t.target,s=t.options,m||b?(s||(s={}),e=this.getOption("lineColorActive"),r=this.getOption("lineDashes"),o=this.getOption("lineColor"),this.realContext.beginPath(),a=m.dia,n=p.call(this.activeDias,a)>=0?m:(u=b.dia,p.call(this.activeDias,u)>=0?b:void 0),n&&(o=s.lineColor||n.dia.getOption("colorTag")||e,r=s.lineDashes||n.dia.getOption("lineDashes")||r),g=m.dia.getJointPos(m.joint),w=b.dia.getJointPos(b.joint),this.realContext.strokeStyle=o,r.length>0&&this.realContext.setLineDash(r),this.realContext.moveTo(g.x,g.y),i=this.getOption("curveDistance"),l=[0,0,0,0],v=l[0],y=l[1],_=l[2],C=l[3],"top"===(c=m.joint)||"bottom"===c?y="top"===m.joint?-i:i:("left"===(h=m.joint)||"right"===h)&&(v="left"===m.joint?-i:i),"top"===(d=b.joint)||"bottom"===d?C="top"===b.joint?-i:i:("left"===(f=b.joint)||"right"===f)&&(_="left"===b.joint?-i:i),this.realContext.bezierCurveTo(g.x+v,g.y+y,w.x+_,w.y+C,w.x,w.y),this.realContext.lineWidth=this.getOption("lineWidth"),this.realContext.stroke()):void 0},e.prototype.addFakeConnection=function(t){return this.drawConnectionLine(t),this.fakeConnections.push(t)},e.prototype.createCanvas=function(){var t,e;return null!=(t=this.realCanvas)&&t.destroy(),null!=(e=this.fakeCanvas)&&e.destroy(),this.addSubView(this.realCanvas=new r({tagName:"canvas",attributes:this.getSceneSize()})),this.realContext=this.realCanvas.getElement().getContext("2d"),null==this.realContext.setLineDash&&(this.realContext.setLineDash=o.noop),this.addSubView(this.fakeCanvas=new r({tagName:"canvas",cssClass:"fakeCanvas",attributes:this.getSceneSize()})),this.fakeContext=this.fakeCanvas.getElement().getContext("2d")},e.prototype.setScale=function(t){var e,n,i,o;for(null==t&&(t=1),o=this.containers,n=0,i=o.length;i>n;n++)e=o[n],e.setScale(t);return this.updateScene()},e.prototype.cleanup=function(t){return t.setAttributes(this.getSceneSize())},e.prototype.parentDidResize=function(){return e.__super__.parentDidResize.apply(this,arguments),this.updateScene()},e.prototype.getSceneSize=function(){return{width:this.getWidth(),height:this.getHeight()}},e.prototype.dumpScene=function(){return console.log(this.containers,this.connections)},e.prototype.reset=function(t){return null==t&&(t=!0),this.connections=[],this.fakeConnections=[],t?this.updateScene():void 0},e}(a)},{"../../core/customhtmlview":97,"../../core/kd":100,"../../core/view":104,jquery:119,lodash:126}],32:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),u=t("../../core/view"),a=t("../overlay/overlayview"),r=t("../buttons/buttonview"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t.cssClass=o.utils.curry("kddialogview",t.cssClass),null==t.offset&&(t.offset=!0),t.container||(t.container=null),t.buttons||(t.buttons={Cancel:{style:"clean-red",callback:this.bound("hide")}}),e.__super__.constructor.call(this,t,n),this.bindTransitionEnd(),this.setButtons(),i(window).one("keydown.kddialogview",function(t){return function(e){return 27===e.which?t.hide():void 0}}(this))}return l(e,t),e.prototype.show=function(){return o.utils.defer(function(t){
return function(){var e,n;return null!=(n=t.overlay)&&n.destroy(),e=t.getOptions().container,t.overlay=new a({click:t.bound("hide"),container:e}),t.setClass("in")}}(this))},e.prototype.hide=function(){return this.once("transitionend",function(t){return function(){return t.overlay.destroy(),t.destroy()}}(this)),this.unsetClass("in")},e.prototype.setButtons=function(){var t,e,n,i;n=this.getOptions().buttons,this.buttons={},this.buttonHolder=new u({cssClass:"kddialog-buttons clearfix"}),this.addSubView(this.buttonHolder),i=[];for(e in n)c.call(n,e)&&(t=n[e],i.push(this.createButton(e,t)));return i},e.prototype.createButton=function(t,e){var n;return this.buttonHolder.addSubView(n=new r({title:t,loader:e.loader,style:e.style,callback:e.callback})),this.buttons[t]=n},e.prototype.destroy=function(){return i(window).off("keydown.kddialogview"),e.__super__.destroy.apply(this,arguments)},e}(u)},{"../../core/kd":100,"../../core/view":104,"../buttons/buttonview":19,"../overlay/overlayview":62,jquery:119}],33:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].slice;i=t("jquery"),r=t("../../core/kd"),a=t("../inputs/inputview"),o=t("jspath"),u=t("../../core/view"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t.tagName="form",t.cssClass=r.utils.curry("kdformview",t.cssClass),t.callback||(t.callback=r.noop),t.customData||(t.customData={}),t.bind||(t.bind="submit"),e.__super__.constructor.call(this,t,n),this.unsetClass("kdview"),this.valid=null,this.setCallback(t.callback),this.customData={}}return l(e,t),e.findChildInputs=function(t){var n,i;return n=[],i=t.getSubViews(),i.length>0&&i.forEach(function(t){return t instanceof a&&n.push(t),n=n.concat(e.findChildInputs(t))}),n},e.sanitizeFormOptions=function(t){var e,n,i;i=[];for(e in t)n=t[e],null==n.title&&(n.title=e),n.key=e,i.push(n);return i},e.prototype.childAppended=function(t){return"function"==typeof t.associateForm&&t.associateForm(this),t instanceof a&&this.emit("inputWasAdded",t),e.__super__.childAppended.apply(this,arguments)},e.prototype.getCustomData=function(t){return t?o.getAt(this.customData,t):this.customData},e.prototype.addCustomData=function(t,e){var n,i;if("string"==typeof t)return o.setAt(this.customData,t,e);i=[];for(n in t)c.call(t,n)&&(e=t[n],i.push(o.setAt(this.customData,n,e)));return i},e.prototype.removeCustomData=function(t){var e,n,i,r;return"string"==typeof t&&(t=t.split(".")),r=2<=t.length?p.call(t,0,e=t.length-1):(e=0,[]),i=t[e++],n=!isNaN(+i),n?o.spliceAt(this.customData,r,i):o.deleteAt(this.customData,t)},e.prototype.serializeFormData=function(t){var e,n,i,o;for(null==t&&(t={}),o=this.getDomElement().serializeArray(),e=0,i=o.length;i>e;e++)n=o[e],t[n.name]=n.value;return t},e.prototype.getData=function(){var t;return t=i.extend({},this.getCustomData()),this.serializeFormData(t),t},e.prototype.getFormData=function(){var t,n;return n=e.findChildInputs(this),t=this.getCustomData()||{},n.forEach(function(e){return e.getName()?t[e.getName()]=e.getValue():void 0}),t},e.prototype.focusFirstElement=function(){return e.findChildInputs(this)[0].$().trigger("focus")},e.prototype.setCallback=function(t){return this.formCallback=t},e.prototype.getCallback=function(){return this.formCallback},e.prototype.reset=function(){return this.getElement().reset()},e.prototype.submit=function(t){var n,i,o,s,a,u;return r.utils.stopDOMEvent(t),n=this,o=e.findChildInputs(n),u=0,s=[],a=[],i=this.getCustomData()||{},this.once("FormValidationFinished",function(e){var o;return null==e&&(e=!0),n.valid=e,e?(null!=(o=n.getCallback())&&o.call(n,i,t),n.emit("FormValidationPassed")):n.emit("FormValidationFailed")}),o.forEach(function(t){var e,n,o;return e=t.getOptions(),e.validate||e.required?s.push(t):(n=t.getName(),o=t.getValue(),n?i[n]=o:void 0)}),s.forEach(function(e){return function(){return e.once("ValidationResult",function(t){var o,r,l,c;if(u++,t&&a.push(e),s.length===u){if(a.length===s.length)for(o=0,l=a.length;l>o;o++)r=a[o],i[r.getName()]=r.getValue();else c=!1;return n.emit("FormValidationFinished",c)}})}(),e.validate(null,t)}),0===s.length?n.emit("FormValidationFinished"):void 0},e}(u)},{"../../core/kd":100,"../../core/view":104,"../inputs/inputview":45,jquery:119,jspath:124}],34:[function(t,e,n){var i,o,r,s,a,u,l,c,p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=t("../../core/kd"),u=t("../inputs/inputview"),c=t("../../core/view"),r=t("../../core/customhtmlview"),s=t("./formview"),o=t("../buttons/buttonbar"),l=t("../inputs/labelview"),e.exports=a=function(t){function e(){var t,n,i;e.__super__.constructor.apply(this,arguments),this.setClass("with-fields"),this.inputs={},this.fields={},i=this.getOptions(),n=i.fields,t=i.buttons,n&&this.createFields(s.sanitizeFormOptions(n)),t&&(this.createButtons(t),this.buttons=this.buttonField.buttons)}return p(e,t),e.prototype.createFields=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(this.addSubView(this.createField(e)));return o},e.prototype.createButtons=function(t){return this.addSubView(this.buttonField=new o({buttons:t}))},e.prototype.createField=function(t,e,n){var o,s,a,l,p,d,f,g,m,v;if(null==n&&(n=!1),l=t.itemClass,v=t.title,l||(l=u),t.cssClass||(t.cssClass=""),t.name||(t.name=v),e||(e=new c({cssClass:"formline "+i.utils.slugify(t.name)+" "+t.cssClass})),t.label&&e.addSubView(d=t.label=this.createLabel(t)),n?e.addSubView(s=this.createInput(l,t)):(e.addSubView(a=new r({cssClass:"input-wrapper"})),a.addSubView(s=this.createInput(l,t))),t.hint&&a.addSubView(o=new r({partial:t.hint,tagName:"cite",cssClass:"hint"})),this.fields[v]=e,t.nextElement){g=t.nextElement;for(p in g)f=g[p],f.title||(f.title=p),this.createField(f,a||e,!0)}if(t.nextElementFlat){m=t.nextElementFlat;for(p in m)h.call(m,p)&&(f=m[p],f.title||(f.title=p),this.createField(f,e))}return e},e.prototype.createLabel=function(t){return new l({title:t.label,cssClass:this.utils.slugify(t.label)})},e.prototype.createInput=function(t,e){var n,i;return n=e.data,n&&delete e.data,this.inputs[e.title]=i=new t(e,n),i},e}(s)},{"../../core/customhtmlview":97,"../../core/kd":100,"../../core/view":104,"../buttons/buttonbar":16,"../inputs/inputview":45,"../inputs/labelview":46,"./formview":33}],35:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../../core/view"),e.exports=i=function(t){function e(t,n){var i;t=null!=t?t:{},t.type=null!=(i=t.type)?i:"default",e.__super__.constructor.call(this,t,n),null!=t.title&&(this.lazy?this.updateTitle(t.title):this.setTitle(t.title))}return r(e,t),e.prototype.setTitle=function(t){return this.getDomElement().append("<span>"+t+"</span>")},e.prototype.updateTitle=function(t){return this.$().find("span").html(t)},e.prototype.setDomElement=function(t){var n;return null==t&&(t=""),n=this.getOptions().type,this.setOption("tagName",function(){switch(n){case"big":return"h1";case"medium":return"h2";case"small":return"h3";default:return"h4"}}()),e.__super__.setDomElement.call(this,this.utils.curry("kdheaderview",t))},e}(o)},{"../../core/view":104}],36:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("../../core/kd"),s=t("../../core/view"),r=t("../../core/customhtmlview"),o=t("../buttons/buttonview"),e.exports=a=function(t){function e(t,n){null==t&&(t={}),t.cssClass||(t.cssClass="kdwebcamview"),null==t.screenFlash&&(t.screenFlash=!0),null==t.hideControls&&(t.hideControls=!1),t.snapTitle||(t.snapTitle="Snap Photo"),t.resnapTitle||(t.resnapTitle="Resnap"),t.saveTitle||(t.saveTitle="Save"),null==t.countdown&&(t.countdown=3),e.__super__.constructor.call(this,t,n),this.attachEvents(),this.video=new r({tagName:"video",attributes:{autoplay:!0}}),this.picture=new r({tagName:"canvas"}),this.button=t.hideControls?new s({cssClass:"hidden"}):new o({title:t.snapTitle,cssClass:"snap-button hidden",callback:this.bound("countDown")}),this.retake=t.hideControls?new s({cssClass:"hidden"}):new o({title:t.resnapTitle,cssClass:"snap-button retake hidden",callback:function(t){return function(){return t.resetView()}}(this)}),this.save=t.hideControls?new s({cssClass:"hidden"}):new o({title:t.saveTitle,cssClass:"snap-button save hidden",callback:function(t){return function(){return t.resetView(),t.video.setClass("invisible"),t.button.hide(),t.emit("save")}}(this)})}return u(e,t),e.prototype.attachEvents=function(){var t;return t=this.getOptions().snapTitle,this.on("KDObjectWillBeDestroyed",function(t){return function(){return t.unsetVideoStream()}}(this)),this.on("viewAppended",function(t){return function(){return t.context=t.picture.getElement().getContext("2d"),t.getUserMedia()}}(this)),this.on("error",function(t){return this.emit("forbidden")}),this.on("snap",function(t){return function(){return t.video.setClass("invisible")}}(this)),this.on("countDownEnd",function(e){return function(){return e.button.hide(),e.retake.show(),e.save.show(),e.takePicture(),e.button.setTitle(t)}}(this))},e.prototype.resetView=function(){return this.button.show(),this.retake.hide(),this.save.hide(),this.reset()},e.prototype.reset=function(){return this.video.unsetClass("invisible")},e.prototype.countDown=function(){var t,e,n,i;return e=this.getOptions().countdown,e>0?(n=function(t){return function(){return t.button.setTitle(e),e--}}(this),t=this.utils.repeat(1e3,n),n(),i=this.utils.wait(1e3*(e+1),function(e){return function(){return e.utils.killRepeat(t),e.utils.killWait(i),e.emit("countDownEnd")}}(this))):this.emit("countDownEnd")},e.prototype.autoResize=function(){var t,e;return e=this.video.getElement(),t={width:e.clientWidth,height:e.clientHeight},this.picture.setAttributes(t),this.setSize(t)},e.prototype.unsetVideoStream=function(){var t,n;return n=this.video.getElement(),n.pause(),e.setVideoStreamVendor(n,""),null!=(t=this.localMediaStream)?t.stop():void 0},e.prototype.setVideoStream=function(t){var n;return n=this.video.getElement(),e.setVideoStreamVendor(n,t),n.play(),n.addEventListener("playing",function(t){return function(){return t.show(),t.button.show(),t.autoResize(),t.emit("allowed")}}(this))},e.setVideoStreamVendor=function(t,e){return void 0!==t.mozSrcObject?t.mozSrcObject=e:t.src=e},e.getUserMediaVendor=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia},e.getURLVendor=function(){return window.URL||window.webkitURL||window.mozURL},e.prototype.getUserMedia=function(){var t;return t=function(t){return function(e){return t.emit("error",e)}}(this),navigator.getUserMedia=e.getUserMediaVendor(),window.URL=e.getURLVendor(),navigator.getUserMedia?navigator.getUserMedia({video:!0},function(t){return function(e){return t.localMediaStream=e,t.setVideoStream(window.URL&&window.URL.createObjectURL(e)||e)}}(this),t):t({notSupported:!0})},e.prototype.flash=function(){var t;return t=new s({cssClass:"kdwebcamview-flash"}),t.appendToDomBody(),i.utils.defer(function(){return t.setClass("flashed"),i.utils.wait(500,function(){return t.destroy()})})},e.prototype.takePicture=function(){var t,e,n;return n=this.video.getElement(),t=this.picture.getElement(),e=this.getOptions().screenFlash,e&&this.flash(),this.autoResize(),this.context.drawImage(n,0,0,n.clientWidth,n.clientHeight),this.emit("snap",t.toDataURL(),t)},e.prototype.viewAppended=function(){var t,n,i,o,r;for(e.__super__.viewAppended.call(this),i=[this.button,this.save,this.retake,this.video,this.picture],o=[],t=0,n=i.length;n>t;t++)r=i[t],o.push(this.addSubView(r));return o},e}(s)},{"../../core/customhtmlview":97,"../../core/kd":100,"../../core/view":104,"../buttons/buttonview":19}],37:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./inputview"),e.exports=i=function(t){function e(t,n){var i;null==t&&(t={}),t.type||(t.type="checkbox"),null==t.attributes&&(t.attributes={}),null==(i=t.attributes).checked&&(i.checked=t.defaultValue||!1),e.__super__.constructor.call(this,t,n)}return r(e,t),e}(o)},{"./inputview":45}],38:[function(t,e,n){var i,o,r,s,a,u,l,c=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=t("jquery"),r=t("../../core/kd"),a=t("./inputvalidator"),l=t("../../core/view"),u=t("../notifications/notificationview"),o=t("htmlencode"),e.exports=s=function(t){function e(t,n){var i;null==t&&(t={}),this.keyDown=c(this.keyDown,this),this.input=c(this.input,this),this.click=c(this.click,this),t.cssClass=r.utils.curry("kdcontenteditableview",t.cssClass),t.bind=r.utils.curry("click input paste drop focus blur",t.bind),t.type||(t.type="text"),null==t.multiline&&(t.multiline=!1),t.placeholder||(t.placeholder=""),null==t.tabNavigation&&(t.tabNavigation=!1),e.__super__.constructor.call(this,t,n),null!=(i=this.getDelegate())&&i.on("EditingModeToggled",function(t){return function(e){return t.setEditingMode(e)}}(this)),document.addEventListener("focus",function(t){return function(e){return e.target===t.editableElement?t.focus():void 0}}(this),!0),document.addEventListener("blur",function(t){return function(e){return e.target===t.editableElement?t.blur():void 0}}(this),!0),this.validationNotifications={}}return p(e,t),e.prototype.viewAppended=function(){return this.setEditingMode(!1),e.__super__.viewAppended.apply(this,arguments)},e.prototype.getEditableElement=function(){return this.editableElement||(this.getData()?this.editableElement=this.getElement().children[0]:(this.editableElement=document.createElement("div"),this.getDomElement().append(this.editableElement))),this.editableElement},e.prototype.getEditableDomElement=function(){return this.editableDomElement||(this.editableDomElement=i(this.getEditableElement())),this.editableDomElement},e.prototype.setEditingMode=function(t){return this.editingMode=t,this.getEditableElement().setAttribute("contenteditable",t),""===this.getValue()?this.editingMode&&this.getOptions().placeholder?this.setPlaceholder():this.unsetPlaceholder():void 0},e.prototype.getValue=function(t){var e,n,i,r,s;switch(i=this.getOptions(),r=i.type,n=i.placeholder,e=this.getEditableElement(),t&&(r=t),r){case"text":s=e.textContent;break;case"html":s=e.innerHTML}return s===o.htmlDecode(n)?"":s.trim()},e.prototype.setContent=function(t){var e,n;if(n=this.getOptions().type,e=this.getEditableElement(),t)switch(n){case"text":return e.textContent=t;case"html":return e.innerHTML=t}else if(this.editingMode&&""===t)return this.setPlaceholder()},e.prototype.focus=function(){var t,e;return 0===this.getValue().length&&this.unsetPlaceholder(),this.getEditableDomElement().trigger("focus"),e=r.getSingleton("windowController"),e.addLayer(this),this.setKeyView(),this.focused||this.once("ReceivedClickElsewhere",this.bound("blur")),this.focused=!0,"function"==typeof(t=this.getOptions()).focus?t.focus():void 0},e.prototype.blur=function(){var t;return this.focused=!1,t=r.getSingleton("windowController"),t.removeLayer(this),this.unsetKeyView(),0===this.getValue("text").length?this.setPlaceholder():"html"!==this.getOptions().type&&this.setContent(this.getValue()),this.emit("BlurHappened")},e.prototype.click=function(){return this.editingMode&&!this.focused?this.focus():void 0},e.prototype.input=function(t){return this.emit("ValueChanged",t)},e.prototype.keyDown=function(t){var e,n,i,o,s,a,u,l;switch(i=this.getOptions(),a=i.tabNavigation,n=i.multiline,u=i.validate,t.which){case 9:a&&r.utils.stopDOMEvent(t);break;case 13:r.utils.stopDOMEvent(t)}switch(t.which){case 9:if(!a)break;this.blur(),this.emit(t.shiftKey?"PreviousTabStop":"NextTabStop");break;case 13:this.getOptions().multiline?this.appendNewline():this.emit("EnterPressed")}return l=this.getValue(),e=(null!=(o=this.getOptions().validate)&&null!=(s=o.rules)?s.maxLength:void 0)||0,13===t.which||e>0&&l.length===e?t.preventDefault():0===l.length&&(this.unsetPlaceholder(),t.target!==this.getEditableElement())?this.focus():void 0},e.prototype.paste=function(t){var e;return t.preventDefault(),e=t.originalEvent.clipboardData.getData("text/plain"),document.execCommand("insertText",!1,e)},e.prototype.drop=function(t){var e,n,i,o,r,s,a,u;return t.preventDefault(),u=t.originalEvent.dataTransfer.getData("text/plain"),r=t.originalEvent,e=r.clientX,n=r.clientY,""===this.getValue()&&(a=0,this.unsetPlaceholder()),s=document.caretRangeFromPoint(e,n),i=s.commonAncestorContainer,a=s.startOffset,o=s.endOffset,this.utils.replaceRange(i,u,a)},e.prototype.setPlaceholder=function(){var t;return this.setClass("placeholder"),t=this.getOptions().placeholder,t?this.setContent(t):void 0},e.prototype.unsetPlaceholder=function(){var t,e,n,i;return this.unsetClass("placeholder"),t="",e=this.getOptions().defaultValue,i=this.getValue(),t=this.editingMode?i||"":i||e||"",n=this.getEditableDomElement(),n.text(""),n.append(document.createTextNode(t))},e.prototype.validate=function(t){var e,n,i,o,r,s,u;s=!0,o=(null!=(i=this.getOptions().validate)?i.rules:void 0)||{};for(n in o)if(h.call(o,n)&&(r=o[n],u=a["rule"+n.capitalize()],u&&(e=u(this,t)))){s=!1,this.notify(e,{title:e,type:"mini",cssClass:"error",duration:2500});break}return s},e.prototype.notify=function(t,e){var n;return this.validationNotifications[t]=n=new u(e),n.on("KDObjectWillBeDestroyed",function(e){return function(){return t=n.getOptions().title,delete e.validationNotifications[t]}}(this))},e.prototype.appendNewline=function(){var t,e,n,i,o,r,s;for(s=window.getSelection(),t=s.baseNode.length===s.focusOffset?1:0,o=s.getRangeAt(0),e=n=0,r=t;r>=0?r>=n:n>=r;e=r>=0?++n:--n)o.insertNode(i=document.createElement("br"));return this.utils.selectEnd(i)},e.prototype.viewAppended=function(){return e.__super__.viewAppended.apply(this,arguments),this.editingMode||0!==this.getValue().length?void 0:this.unsetPlaceholder()},e}(l)},{"../../core/kd":100,"../../core/view":104,"../notifications/notificationview":61,"./inputvalidator":44,htmlencode:117,jquery:119}],39:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./inputview"),e.exports=i=function(t){function e(t,n){var i;null==t&&(t={}),null==t.delimiter&&(t.delimiter=","),null==t.usePadding&&(t.usePadding=!0),i=t.defaultValue,null!=(null!=i?i.join:void 0)&&(t.defaultValue=this.join(i,t)),e.__super__.constructor.call(this,t,n)}return r(e,t),e.prototype.change=function(){return this.setValue(this.getValue())},e.prototype.getPadding=function(t){return null==t&&(t=this.getOptions()),t.usePadding?" ":""},e.prototype.split=function(t,e){return null==e&&(e=this.getOptions()),this.utils.splitTrim(t,e.delimiter)},e.prototype.join=function(t,e){return null==e&&(e=this.getOptions()),t.join(""+e.delimiter+this.getPadding(e))},e.prototype.getValue=function(){return this.split(e.__super__.getValue.apply(this,arguments))},e.prototype.setValue=function(t){return e.__super__.setValue.call(this,null!=t.join?this.join(t):t)},e}(o)},{"./inputview":45}],40:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("../../core/kd"),o=t("../../core/customhtmlview"),s=t("./inputview"),e.exports=r=function(t){function e(t,n){var o;null==t&&(t={}),t.type||(t.type="textarea"),t.cssClass=i.utils.curry("hitenterview",t.cssClass),t.button||(t.button=null),null==t.showButton&&(t.showButton=!1),t.label||(t.label=null),t.placeholder||(t.placeholder=""),t.callback||(t.callback=null),t.togglerPartials||(t.togglerPartials=["quick update disabled","quick update enabled"]),e.__super__.constructor.call(this,t,n),this.button=null!=(o=this.getOptions().button)?o:null,this.enableEnterKey(),null!=t.label&&this.setToggler(),this.getOptions().showButton&&this.disableEnterKey(),this.on("ValidationPassed",function(t){return function(){var e;return e=t.getOptions().callback,null!=e?e.call(t,t.getValue()):void 0}}(this))}return a(e,t),e.prototype.enableEnterKey=function(){return this.setClass("active"),this.button&&this.hideButton(),null!=this.inputEnterToggler&&this.inputEnterToggler.$().html(this.getOptions().togglerPartials[1]),this.enterKeyEnabled=!0},e.prototype.disableEnterKey=function(){return this.unsetClass("active"),this.button&&this.showButton(),null!=this.inputEnterToggler&&this.inputEnterToggler.$().html(this.getOptions().togglerPartials[0]),this.enterKeyEnabled=!1},e.prototype.setToggler=function(){var t;return t=this.getOptions(),this.inputEnterToggler=new o({tagName:"a",cssClass:"hitenterview-toggle",partial:t.showButton?t.togglerPartials[0]:t.togglerPartials[1],click:this.bound("toggleEnterKey")}),this.inputLabel.addSubView(this.inputEnterToggler)},e.prototype.hideButton=function(){return this.button.hide()},e.prototype.showButton=function(){return this.button.show()},e.prototype.toggleEnterKey=function(){return this.enterKeyEnabled?this.disableEnterKey():this.enableEnterKey()},e.prototype.keyDown=function(t){return 13===t.which&&(t.altKey||t.shiftKey)!==!0&&this.enterKeyEnabled?(t.preventDefault(),this.emit("EnterPerformed"),this.validate(),!1):27===t.which?this.emit("EscapePerformed"):void 0},e}(s)},{"../../core/customhtmlview":97,"../../core/kd":100,"./inputview":45}],41:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("./inputradiogroup"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.checkboxes||(t.checkboxes=[]),t.radios||(t.radios=t.checkboxes),t.type||(t.type="checkbox"),e.__super__.constructor.call(this,t,n)}return s(e,t),e.prototype.click=function(t){return"LABEL"!==t.target.tagName?this.setValue(this.getValue()):void 0},e.prototype.getValue=function(){var t,e,n,o,r;for(r=[],o=this.getDomElement().find("input:checked"),e=0,n=o.length;n>e;e++)t=o[e],r.push(i(t).val());return r},e.prototype.setValue=function(t){var e,n,i,o;if(this.$("input").prop("checked",!1),this.$(".kd-radio-holder").removeClass("active"),t instanceof Array){for(i=[],e=0,n=t.length;n>e;e++)o=t[e],i.push(this._setValue(o));return i}return this._setValue(t)},e.prototype._setValue=function(t){return this.$("input[value='"+t+"']").prop("checked",!0),t?this.$(".kd-radio-holder.role-"+t).addClass("active"):void 0},e}(r)},{"./inputradiogroup":42,jquery:119}],42:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("./inputview"),e.exports=o=function(t){function e(t){t.type||(t.type="radio"),null==t.hideRadios&&(t.hideRadios=!1),null==t.showIcons&&(t.showIcons=!1),t.cssClassPrefix||(t.cssClassPrefix=""),e.__super__.constructor.call(this,t),this._currentValue=this.getOption("defaultValue")}return s(e,t),e.prototype.setDomElement=function(){var t,e,n,o,r,s,a,u,l,c;for(a=this.getOptions(),this.domElement=i("<fieldset class='"+this.utils.curry("radiogroup kdinput",a.cssClass)+"'></fieldset>"),c=a.radios,n=o=0,s=c.length;s>o;n=++o)l=c[n],null==l.visible&&(l.visible=!0),l.callback||(l.callback=function(){}),t=l.disabled?"disabled ":"",e=i("<div/>",{"class":"kd-"+this.getType()+"-holder "+t+a.cssClassPrefix+this.utils.slugify(l.value)}),u=i("<input/>",{type:this.getType(),name:a.name,value:l.value,"class":"no-kdinput"+(a.hideRadios?" hidden":""),id:this.getId()+"_"+this.getType()+"_"+n,change:l.callback}),l.disabled&&u[0].setAttribute("disabled","disabled"),r=i("<label/>",{"for":this.getId()+"_"+this.getType()+"_"+n,html:l.title,"class":a.cssClassPrefix+this.utils.slugify(l.value)}),e.append(u),a.showIcons&&e.append(i("<span/>",{"class":"icon"})),e.append(r),this.domElement.append(e),l.visible||e.hide();return this.domElement},e.prototype.click=function(t){var e;return e=i(t.target).closest(".kd-"+this.getType()+"-holder").find("input"),e.length<1?void 0:"disabled"===e[0].getAttribute("disabled")?!1:this.setValue(e[0].getAttribute("value"))},e.prototype.setDefaultValue=function(t){return this.inputDefaultValue=t,this.setValue(t,!0)},e.prototype.getValue=function(){return this.$("input[checked=checked]").val()},e.prototype.setValue=function(t,e){var n;return null==e&&(e=!1),this.$("input").attr("checked",!1),n=this.$("input[value='"+t+"']"),n.attr("checked","checked"),n.prop("checked",!0),null==t||t===this._currentValue||e||this.emit("change",t),this._currentValue=t,this.$(".kd-radio-holder").removeClass("active"),null!=t&&""!==t?this.$(".kd-radio-holder."+t).addClass("active"):void 0},e.prototype.getInputElements=function(){return this.getDomElement().find("input")},e}(r)},{"./inputview":45,jquery:119}],43:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("./inputview"),e.exports=o=function(t){function e(t){null==t&&(t={}),t.type="switch",e.__super__.constructor.call(this,t),this.setPartial("<input class='checkbox hidden no-kdinput' type='checkbox' name='"+this.getName()+"'/>")}return s(e,t),e.prototype.setDomElement=function(){return this.domElement=i("<span class='kdinput kdinputswitch off'></span>")},e.prototype.setDefaultValue=function(t){switch(t){case!0:case"on":case"true":case"yes":case 1:return this._setDefaultValue(!0);default:return this._setDefaultValue(!1)}},e.prototype.getDefaultValue=function(){return this.inputDefaultValue},e.prototype.getValue=function(){return this.getDomElement().find("input").eq(0).is(":checked")},e.prototype.setValue=function(t){switch(t){case!0:return this.switchAnimateOn();case!1:return this.switchAnimateOff()}},e.prototype._setDefaultValue=function(t){return setTimeout(function(e){return function(){return t=!!t,t?(e.inputDefaultValue=!0,e.getDomElement().find("input").eq(0).attr("checked",!0),e.getDomElement().removeClass("off").addClass("on")):(e.inputDefaultValue=!1,e.getDomElement().find("input").eq(0).attr("checked",!1),e.getDomElement().removeClass("on").addClass("off"))}}(this),0)},e.prototype.switchAnimateOff=function(){var t,e;if(this.getValue())return t=0,e=setInterval(function(n){return function(){return n.getDomElement().css("background-position","left -"+20*t+"px"),6===t&&(clearInterval(e),n.getDomElement().find("input").eq(0).attr("checked",!1),n.getDomElement().removeClass("on").addClass("off"),n.switchStateChanged()),t++}}(this),20)},e.prototype.switchAnimateOn=function(){var t,e;if(!this.getValue())return t=6,e=setInterval(function(n){return function(){return n.getDomElement().css("background-position","left -"+20*t+"px"),0===t&&(clearInterval(e),n.getDomElement().find("input").eq(0).attr("checked",!0),n.getDomElement().removeClass("off").addClass("on"),n.switchStateChanged()),t--}}(this),20)},e.prototype.switchStateChanged=function(){return null!=this.getCallback()?this.getCallback().call(this,this.getValue()):void 0},e.prototype.mouseDown=function(){switch(this.getValue()){case!0:this.setValue(!1);break;case!1:this.setValue(!0)}return!1},e}(r)},{"./inputview":45,jquery:119}],44:[function(t,e,n){var i,o,r,s;s=t("debug")("kd:inputs:inputvalidator"),i=t("jquery"),o=t("../../core/kd"),e.exports=r=function(){function t(){}return t.ruleRequired=function(t,e){var n,o,r,s;if(9!==(null!=e?e.which:void 0))return s=i.trim(t.getValue()),r=t.getOptions().validate,n=s.length>0,n?null:(null!=(o=r.messages)?o.required:void 0)||"Field is required"},t.ruleEmail=function(t,e){var n,o,r,s;if(9!==(null!=e?e.which:void 0))return s=i.trim(t.getValue()),r=t.getOptions().validate,n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(s),n?null:(null!=(o=r.messages)?o.email:void 0)||"Please enter a valid email address"},t.ruleMinLength=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return a=i.trim(t.getValue()),s=t.getOptions().validate,o=s.rules.minLength,n=a.length>=o,n?null:(null!=(r=s.messages)?r.minLength:void 0)||"Please enter a value that has "+o+" characters or more"},t.ruleMaxLength=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return a=i.trim(t.getValue()),s=t.getOptions().validate,o=s.rules.maxLength,n=a.length<=o,n?null:(null!=(r=s.messages)?r.maxLength:void 0)||"Please enter a value that has "+o+" characters or less"},t.ruleRangeLength=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return a=i.trim(t.getValue()),s=t.getOptions().validate,o=s.rules.rangeLength,n=a.length<=o[1]&&a.length>=o[0],n?null:(null!=(r=s.messages)?r.rangeLength:void 0)||"Please enter a value that has more than "+o[0]+" and less than "+o[1]+" characters"},t.ruleMatch=function(t,e){var n,o,r,s,a,u,l;if(9!==(null!=e?e.which:void 0))return l=i.trim(t.getValue()),u=t.getOptions().validate,o=u.rules.match,r="function"==typeof o?o():o,s=i.trim(r.getValue()),n=l===s,n?null:(null!=(a=u.messages)?a.match:void 0)||"Values do not match"},t.ruleCreditCard=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return a=i.trim(t.getValue().replace(/-|\s/g,"")),r=t.getOptions().validate,n=/(^4[0-9]{12}(?:[0-9]{3})?$)|(^5[1-5][0-9]{14}$)|(^3[47][0-9]{13}$)|(^3(?:0[0-5]|[68][0-9])[0-9]{11}$)|(^6(?:011|5[0-9]{2})[0-9]{12}$)|(^(?:2131|1800|35\d{3})\d{11}$)/.test(a),n?(s=/^4[0-9]{12}(?:[0-9]{3})?$/.test(a)?"Visa":/^5[1-5][0-9]{14}$/.test(a)?"MasterCard":/^3[47][0-9]{13}$/.test(a)?"Amex":/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(a)?"Diners":/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(a)?"Discover":/^(?:2131|1800|35\d{3})\d{11}$/.test(a)?"JCB":!1,t.emit("CreditCardTypeIdentified",s),null):(null!=(o=r.messages)?o.creditCard:void 0)||"Please enter a valid credit card number"},t.ruleJSON=function(t,e){var n,o,r,a,u;if(9!==(null!=e?e.which:void 0)){u=i.trim(t.getValue()),a=t.getOptions().validate,n=!0;try{u&&JSON.parse(u)}catch(l){o=l,s("could not parse json",o,n),n=!1}return n?null:(null!=(r=a.messages)?r.JSON:void 0)||"a valid JSON is required"}},t.ruleRegExp=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return a=i.trim(t.getValue()),s=t.getOptions().validate,r=s.rules.regExp,n=r.test(a),n?null:(null!=(o=s.messages)?o.regExp:void 0)||"Validation failed"},t.ruleUri=function(t,e){var n,o,r,s,a;if(9!==(null!=e?e.which:void 0))return r=/^([a-z0-9+.-]+):(?:\/\/(?:((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?((?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)(?::(\d*))?(\/(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?|(\/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@\/]|%[0-9A-F]{2})*)?)(?:\?((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?(?:)?$/i,
a=i.trim(t.getValue()),s=t.getOptions().validate,n=r.test(a),n?null:(null!=(o=s.messages)?o.uri:void 0)||"Not a valid URI"},t}()},{"../../core/kd":100,debug:112,jquery:119}],45:[function(t,e,n){var i,o,r,s,a,u,l,c,p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty,d=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};c=t("debug")("kd:inputs:inputview"),i=t("jquery"),r=t("../../core/kd"),u=t("../notifications/notificationview"),l=t("../../core/view"),s=t("./inputvalidator"),o=t("htmlencode"),e.exports=a=function(t){function e(t,n){var i;null==t&&(t={}),t.type||(t.type="text"),t.name||(t.name=""),t.label||(t.label=null),t.cssClass||(t.cssClass=""),t.callback||(t.callback=null),null==t.defaultValue&&(t.defaultValue=""),t.placeholder||(t.placeholder=""),null==t.disabled&&(t.disabled=!1),t.selectOptions||(t.selectOptions=null),t.validate||(t.validate=null),null==t.decorateValidation&&(t.decorateValidation=!0),t.hint||(t.hint=null),null==t.autogrow&&(t.autogrow=!1),null==t.enableTabKey&&(t.enableTabKey=!1),t.forceCase||(t.forceCase=null),t.bind=r.utils.curry("blur change focus paste cut input copy",t.bind),this.setType(t.type),e.__super__.constructor.call(this,t,n),i=this.getOptions(),this.validationNotifications={},this.valid=!0,this.inputCallback=null,this.previousHeight=null,this.setName(i.name),this.setLabel(),this.setCallback(),this.setDefaultValue(i.defaultValue),this.setPlaceholder(i.placeholder),i.disabled&&this.makeDisabled(),null!=i.selectOptions&&"function"!=typeof i.selectOptions&&this.setSelectOptions(i.selectOptions),i.autogrow&&this.setAutoGrow(),i.enableTabKey&&this.enableTabKey(),i.forceCase&&this.setCase(i.forceCase),i.required&&!function(t){return null==t.rules&&(t.rules={}),null==t.messages&&(t.messages={}),t.rules.required=!0,t.messages.required=i.required}(null!=i.validate?i.validate:i.validate={}),i.validate&&this.setValidation(i.validate),this.bindValidationEvents(),"select"===i.type&&i.selectOptions&&this.on("viewAppended",function(e){return function(){var n;if(t=e.getOptions(),"function"==typeof t.selectOptions)return n=e.bound("setSelectOptions"),t.selectOptions.call(e,n);if(t.selectOptions.length){if(!t.defaultValue)return e.setValue(t.selectOptions[0].value)}else if(!t.defaultValue)return e.setValue(t.selectOptions[Object.keys(t.selectOptions)[0]][0].value)}}(this)),t.autogrow&&this.once("focus",function(t){return function(){return t.initialHeight?void 0:t.initialHeight=t.$().height()}}(this))}return p(e,t),e.prototype.setDomElement=function(t){var e;return null==t&&(t=""),e="name='"+this.options.name+"'",this.domElement=function(){switch(this.getType()){case"text":return i("<input "+e+" type='text' class='kdinput text "+t+"'/>");case"password":return i("<input "+e+" type='password' class='kdinput text "+t+"'/>");case"hidden":return i("<input "+e+" type='hidden' class='kdinput hidden "+t+"'/>");case"checkbox":return i("<input "+e+" type='checkbox' class='kdinput checkbox "+t+"'/>");case"textarea":return i("<textarea "+e+" class='kdinput text "+t+"'></textarea>");case"select":return i("<select "+e+" class='kdinput select "+t+"'/>");case"range":return i("<input "+e+" type='range' class='kdinput range "+t+"'/>");default:return i("<input "+e+" type='"+this.getType()+"' class='kdinput "+this.getType()+" "+t+"'/>")}}.call(this)},e.prototype.bindValidationEvents=function(){return this.on("ValidationError",this.bound("giveValidationFeedback")),this.on("ValidationPassed",this.bound("giveValidationFeedback")),this.on("focus",this.bound("clearValidationFeedback"))},e.prototype.setLabel=function(t){return null==t&&(t=this.getOptions().label),t?(this.inputLabel=t,this.inputLabel.$()[0].setAttribute("for",this.getName()),this.inputLabel.$().bind("click",function(t){return function(){return t.$().trigger("focus"),t.$().trigger("click")}}(this))):void 0},e.prototype.getLabel=function(){return this.inputLabel},e.prototype.setCallback=function(){return this.inputCallback=this.getOptions().callback},e.prototype.getCallback=function(){return this.inputCallback},e.prototype.setType=function(t){this.inputType=null!=t?t:"text"},e.prototype.getType=function(){return this.inputType},e.prototype.setName=function(t){this.inputName=t},e.prototype.getName=function(){return this.inputName},e.prototype.setFocus=function(){return r.getSingleton("windowController").setKeyView(this),this.$().trigger("focus")},e.prototype.setBlur=function(){return r.getSingleton("windowController").setKeyView(null),this.$().trigger("blur")},e.prototype.setSelectOptions=function(t){var e,n,o,r,s,a,u,l;if(t.length)if(t.length)for(o=0,s=t.length;s>o;o++)u=t[o],this.$().append("<option value='"+u.value+"'>"+u.title+"</option>");else c("got invalid arguments");else for(a in t)if(h.call(t,a))for(l=t[a],e=i("<optgroup label='"+a+"'/>"),this.$().append(e),n=0,r=l.length;r>n;n++)u=l[n],e.append("<option value='"+u.value+"'>"+u.title+"</option>");return this.$().val(this.getDefaultValue())},e.prototype.setDefaultValue=function(t){return null!=t||""===t?(e.prototype.setValue.call(this,t),this.inputDefaultValue=t):void 0},e.prototype.getDefaultValue=function(){return this.inputDefaultValue},e.prototype.setPlaceholder=function(t){return this.$().is("input")||this.$().is("textarea")?(this.$().attr("placeholder",t),this.options.placeholder=t):void 0},e.prototype.makeDisabled=function(){return this.getDomElement().attr("disabled","disabled")},e.prototype.makeEnabled=function(){return this.getDomElement().removeAttr("disabled")},e.prototype.getValue=function(){var t,e;return"checkbox"===this.getOption("type")?e=this.$().is(":checked"):(e=this.getDomElement().val(),t=this.getOptions().forceCase,t&&(e="uppercase"===t.toLowerCase()?e.toUpperCase():e.toLowerCase())),e},e.prototype.setValue=function(t){var e,n,i;return e=this.$(),n=e[0],"checkbox"===(i=this.getOption("type"))||"radio"===i?t?n.setAttribute("checked","checked"):n.removeAttribute("checked"):e.val(t)},e.prototype.setCase=function(t){var e;return e=function(t){return function(){var e,n,i,o,r;return e=t.getDomElement(),n=e[0],r=t.getValue(),r!==e.val()?(o=n.selectionStart,i=n.selectionEnd,t.setValue(r),n.setSelectionRange?n.setSelectionRange(o,i):void 0):void 0}}(this),this.on("keyup",e),this.on("blur",e)},e.prototype.unsetValidation=function(){return this.setValidation({})},e.prototype.setValidation=function(t){var e,n,i,o,r,s;this.valid=!1,this.currentRuleset=t,this.validationCallbacks||(this.validationCallbacks={}),this.createRuleChain(t),s=this.validationCallbacks;for(r in s)if(h.call(s,r))for(o=s[r],e=0,n=o.length;n>e;e++)i=o[e],this.off(r,i);return this.ruleChain.forEach(function(e){return function(n){var i,o,r;return r=t.events&&t.events[n]?t.events[n]:t.event?t.event:void 0,r?((i=e.validationCallbacks)[r]||(i[r]=[]),e.validationCallbacks[r].push(o=function(t){return d.call(e.ruleChain,n)>=0?e.validate(n,t):void 0}),e.on(r,o)):void 0}}(this))},e.prototype.validate=function(t,e){var n,i,o,r,a,u;null==e&&(e={}),this.ruleChain||(this.ruleChain=[]),this.validationResults||(this.validationResults={}),u=t?[t]:this.ruleChain,a=this.currentRuleset||this.getOptions().validate,this.ruleChain.length>0?u.forEach(function(t){return function(n){var i;return null!=s["rule"+n.capitalize()]?(i=s["rule"+n.capitalize()](t,e),t.setValidationResult(n,i)):"function"==typeof a.rules[n]?a.rules[n](t,e):void 0}}(this)):this.valid=!0,n=!0,o=this.validationResults;for(r in o)h.call(o,r)&&(i=o[r],i&&(n=!1));return this.valid=n?!0:!1,this.valid&&this.emit("ValidationPassed"),this.emit("ValidationResult",this.valid),this.valid},e.prototype.createRuleChain=function(t){var e,n,i,o,r,s,a;for(s=t.rules,this.validationResults||(this.validationResults={}),this.ruleChain="object"==typeof s?function(){var t;t=[];for(r in s)h.call(s,r)&&(a=s[r],t.push(r));return t}():[s],i=this.ruleChain,o=[],e=0,n=i.length;n>e;e++)r=i[e],o.push(this.validationResults[r]=null);return o},e.prototype.setValidationResult=function(t,e,n){var i,o;return null==n&&(n=!0),e?(this.validationResults[t]=e,this.getOptions().validate.notifications&&n&&this.showValidationError(e),this.emit("ValidationError",e),this.valid=!1):(this.validationResults[t]=null,this.valid=!(function(){var t,e;t=this.validationResults,e=[];for(i in t)h.call(t,i)&&(o=t[i],e.push(o));return e}.call(this).map(function(t){return Boolean(t)}).indexOf(!0)>-1))},e.prototype.showValidationError=function(t){var e,n,i,o,r,s;return null!=(o=this.validationNotifications[t])&&o.destroy(),r=this.getOption("validate"),e=r.container,i=r.notifications,"tooltip"===(null!=i?i.type:void 0)?(this.tooltip&&(s="- "+t+"<br>"+this.tooltip.getOption("title")),this.unsetTooltip(),i={cssClass:i.cssClass||"input-validation",delegate:i.delegate||this,title:i.title||s||t,placement:i.placement||"right",direction:i.direction||"left",forcePosition:!0},this.validationNotifications[t]=n=this.setTooltip(i),n.show()):i&&(this.validationNotifications[t]=n=new u({container:e,title:t,type:"growl",cssClass:"mini",duration:2500})),n.on("KDObjectWillBeDestroyed",function(e){return function(){return t=n.getOptions().title,delete e.validationNotifications[t]}}(this))},e.prototype.clearValidationFeedback=function(){return this.unsetClass("validation-error validation-passed"),this.emit("ValidationFeedbackCleared")},e.prototype.giveValidationFeedback=function(t){return this.getOption("decorateValidation")?t?this.setClass("validation-error"):(this.setClass("validation-passed"),this.unsetClass("validation-error")):void 0},e.prototype.setCaretPosition=function(t){return this.selectRange(t,t)},e.prototype.getCaretPosition=function(){var t,e,n,i;return t=this.$()[0],t.selectionStart?t.selectionStart:document.selection?(t.focus(),(e=document.selection.createRange())?(i=t.createTextRange(),n=i.duplicate(),i.moveToBookmark(e.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length):0):0},e.prototype.selectAll=function(){return this.getDomElement().select()},e.prototype.selectRange=function(t,e){var n,i;return n=this.$()[0],n.setSelectionRange?(n.focus(),n.setSelectionRange(t,e)):n.createTextRange?(i=n.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()):void 0},e.prototype.setAutoGrow=function(){var t;return t=this.$(),t.css("overflow","hidden"),this.setClass("autogrow"),this._clone=i("<div/>",{"class":"invisible"}),this.on("focus",function(e){return function(){return e._clone.appendTo("body"),e._clone.css({height:"auto",zIndex:1e5,width:t.css("width"),boxSizing:t.css("box-sizing"),borderTop:t.css("border-top"),borderRight:t.css("border-right"),borderBottom:t.css("border-bottom"),borderLeft:t.css("border-left"),minHeight:t.css("minHeight"),maxHeight:t.css("maxHeight"),paddingTop:t.css("padding-top"),paddingRight:t.css("padding-right"),paddingBottom:t.css("padding-bottom"),paddingLeft:t.css("padding-left"),wordBreak:t.css("wordBreak"),fontSize:t.css("fontSize"),fontWeight:t.css("fontWeight"),lineHeight:t.css("lineHeight"),whiteSpace:"pre-line"})}}(this)),this.on("blur",function(t){return function(){return t._clone.detach()}}(this)),this.on("input",function(t){return function(e){return r.utils.defer(function(){return t.resize(e)})}}(this))},e.prototype.resize=function(t){var e,n,i,r,s,a,u;if(this._clone)return document.body.contains(this._clone[0])||this._clone.appendTo("body"),u=this.getElement().value.replace(/\n/g,"\n&nbsp;"),a=o.XSSEncode(u),this._clone.html(a),i=this._clone.height(),n=function(t){return function(e){return parseInt(t._clone.css(e),10)}}(this),"border-box"===this.$().css("boxSizing")&&(s=n("paddingTop")+n("paddingBottom"),e=n("borderTopWidth")+n("borderBottomWidth"),i=i+e+s),r=this.initialHeight?Math.max(this.initialHeight,i):i,this.previousHeight!==r&&(this.setHeight(r),this.emit("InputHeightChanged")),this.previousHeight=r},e.prototype.enableTabKey=function(){return this.inputTabKeyEnabled=!0},e.prototype.disableTabKey=function(){return this.inputTabKeyEnabled=!1},e.prototype.change=function(){},e.prototype.keyUp=function(){return!0},e.prototype.keyDown=function(t){return this.inputTabKeyEnabled&&this.checkTabKey(t),!0},e.prototype.focus=function(){return this.setKeyView(),!0},e.prototype.blur=function(){return r.getSingleton("windowController").revertKeyView(this),!0},e.prototype.mouseDown=function(){return this.setFocus(),!1},e.prototype.checkTabKey=function(t){var e,n,i,o,r,s,a,u;return a="  ",u=a.length,s=t.target,r=s.selectionStart,i=s.selectionEnd,9===t.which?(t.preventDefault(),r!==i&&-1!==s.value.slice(r,i).indexOf("n")?(n=s.value.slice(0,r),o=s.value.slice(r,i).replace(/n/g,"n"+a),e=s.value.slice(i,s.value.length),s.value=n.concat(a).concat(o).concat(e),s.selectionStart=r+a.length,s.selectionEnd=i+a.length):(s.value=s.value.slice(0,r).concat(a).concat(s.value.slice(r,s.value.length)),r===i?s.selectionStart=s.selectionEnd=r+a.length:(s.selectionStart=r+a.length,s.selectionEnd=i+a.length))):8===t.which&&s.value.slice(r-u,r)===a?(t.preventDefault(),s.value=s.value.slice(0,r-u).concat(s.value.slice(r,s.value.length)),s.selectionStart=s.selectionEnd=r-a.length):46===t.which&&s.value.slice(i,i+u)===a?(t.preventDefault(),s.value=s.value.slice(0,r).concat(s.value.slice(r+u,s.value.length)),s.selectionStart=s.selectionEnd=r):37===t.which&&s.value.slice(r-u,r)===a?(t.preventDefault(),s.selectionStart=s.selectionEnd=r-u):39===t.which&&s.value.slice(r,r+u)===a?(t.preventDefault(),s.selectionStart=s.selectionEnd=r+u):void 0},e}(l)},{"../../core/kd":100,"../../core/view":104,"../notifications/notificationview":61,"./inputvalidator":44,debug:112,htmlencode:117,jquery:119}],46:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("../../core/view"),e.exports=o=function(t){function e(t){null!=(null!=t?t.title:void 0)&&this.setTitle(t.title),e.__super__.constructor.call(this,t)}return s(e,t),e.prototype.setDomElement=function(t){return this.domElement=i("<label class='kdlabel "+t+"'>"+this.getTitle()+"</label>")},e.prototype.setTitle=function(t){return this.labelTitle=t||""},e.prototype.updateTitle=function(t){return this.setTitle(t),this.$().html(t)},e.prototype.getTitle=function(){return this.labelTitle},e}(r)},{"../../core/view":104,jquery:119}],47:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};i=t("jquery"),o=t("./inputview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),null==t.disabled&&(t.disabled=!1),t.size||(t.size="small"),t.labels||(t.labels=["ON","OFF"]),t.titles||(t.titles=t.labels),null==t.multiple&&(t.multiple=!1),t.defaultValue||(t.defaultValue=t.multiple?t.labels[0]:void 0),!t.multiple&&Array.isArray(t.defaultValue)&&(t.defaultValue=t.defaultValue[0]),e.__super__.constructor.call(this,t,n),this.setClass(t.size),this.setPartial("<input class='hidden no-kdinput' name='"+this.getName()+"'/>"),this.oldValue=null,t.multiple&&(this.currentValue=[]),this.setDisabled(t.disabled)}var n;return s(e,t),e.prototype.setDomElement=function(t){var e,n,o,r,s,a,u,l,c,p,h,d;for(h=this.getOptions(),d=h.titles,l=h.labels,p=h.name,o=h.defaultValue,this.inputName=p,u="",r=s=0,c=l.length;c>s;r=++s)a=l[r],e=a===o?" active":"",n="multiple-choice-"+a+e,u+="<a href='#' name='"+a+"' class='"+n+"' title='"+(d[r]||"Select "+a)+"'>"+a+"</a>";return this.domElement=i("<div class='kdinput on-off multiple-choice "+t+"'>\n  "+u+"\n</div> ")},e.prototype.getDefaultValue=function(){return this.getOptions().defaultValue},e.prototype.getValue=function(){return this.currentValue},n=function(t,e){return u.call(t.currentValue,e)>=0?(t.$("a[name$='"+e+"']").removeClass("active"),t.currentValue.splice(t.currentValue.indexOf(e),1)):(t.$("a[name$='"+e+"']").addClass("active"),t.currentValue.push(e))},e.prototype.setDisabled=function(t){return null==t&&(t=!0),this._disabled=t},e.prototype.setValue=function(t,e){var i,o,r,s;if(null==e&&(e=!0),i=this.getOptions().multiple){if(this.oldValue=null!=(r=[function(){var t,e,n,i;for(n=this.currentValue,i=[],t=0,e=n.length;e>t;t++)o=n[t],i.push(o);return i}.call(this)])?r.first:void 0,Array.isArray(t)?[function(){var e,i,o;for(o=[],e=0,i=t.length;i>e;e++)s=t[e],o.push(n(this,s));return o}.call(this)]:n(this,t),e)return this.switchStateChanged()}else if(this.$("a").removeClass("active"),this.$("a[name='"+t+"']").addClass("active"),this.oldValue=this.currentValue,this.currentValue=t,this.currentValue!==this.oldValue&&e)return this.switchStateChanged()},e.prototype.switchStateChanged=function(){return this._disabled?void 0:null!=this.getCallback()?this.getCallback().call(this,this.getValue()):void 0},e.prototype.fallBackToOldState=function(){var t;return t=this.getOptions().multiple,t&&(this.currentValue=[],this.$("a").removeClass("active")),this.setValue(this.oldValue,!1)},e.prototype.mouseDown=function(t){return this._disabled?void 0:i(t.target).is("a")?this.setValue(t.target.name):void 0},e}(o)},{"./inputview":45,jquery:119}],48:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),r=t("./inputview"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t.type="switch",t.title||(t.title=""),t.size||(t.size="small"),t.labels||(t.labels=["ON","OFF"]),null==t.defaultValue&&(t.defaultValue=!1),e.__super__.constructor.call(this,t,n),this.setClass(t.size),this.setPartial("<input class='checkbox hidden no-kdinput' type='checkbox' name='"+this.getName()+"'/>"),this.setDefaultValue(t.defaultValue)}return a(e,t),e.prototype.setDomElement=function(t){var e,n,o,r;return o=this.getOptions(),r=o.title,e=o.labels,n=o.name,""!==r&&(r="<span>"+r+"</span>"),this.inputName=n,this.domElement=i("<div class='kdinput on-off off "+t+"'>\n  "+r+"\n  <a href='#' class='on' title='turn on'>"+e[0]+"</a><a href='#' class='off' title='turn off'>"+e[1]+"</a>\n</div> ")},e.prototype.getValue=function(){return"checked"===this.$("input").attr("checked")},e.prototype.setValue=function(t,e){switch(null==e&&(e=!0),t){case!0:return this.setOn(e);case!1:return this.setOff(e)}},e.prototype.setDefaultValue=function(t){switch(t){case!0:case"on":case"true":case"yes":case 1:return this.setValue(!0,!1);default:return this.setValue(!1,!1)}},e.prototype.setOff=function(t){return null==t&&(t=!0),this.getValue()||!t?(this.$("input").attr("checked",!1),this.$("a.on").removeClass("active"),this.$("a.off").addClass("active"),t?this.switchStateChanged():void 0):void 0},e.prototype.setOn=function(t){return null==t&&(t=!0),this.getValue()&&t?void 0:(this.$("input").attr("checked",!0),this.$("a.off").removeClass("active"),this.$("a.on").addClass("active"),t?this.switchStateChanged():void 0)},e.prototype.switchStateChanged=function(){return this.emit("SwitchStateChanged",this.getValue()),null!=this.getCallback()?this.getCallback().call(this,this.getValue()):void 0},e.prototype.click=o.utils.stopDOMEvent,e.prototype.mouseDown=function(t){return i(t.target).is("a.on")?this.setValue(!0):i(t.target).is("a.off")?this.setValue(!1):void 0},e}(r)},{"../../core/kd":100,"./inputview":45,jquery:119}],49:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=t("debug")("kd:inputs:selectbox"),i=t("jquery"),o=t("../../core/kd"),r=t("./inputview"),e.exports=s=function(t){function e(t){null==t&&(t={}),t.type="select",e.__super__.constructor.call(this,t)}return u(e,t),e.prototype.setDomElement=function(t){var e;return this.inputName=this.getOption("name"),e="name='"+this.options.name+"'",this.domElement=i("<div class='kdselectbox "+t+"'>\n  <select "+e+"></select>\n  <span class='title'></span>\n  <span class='arrows'></span>\n</div>\""),this._$select=this.$("select").eq(0),this._$title=this.$("span.title").eq(0),this.domElement},e.prototype.bindEvents=function(){return this._$select.bind("blur change focus",function(t){return function(e){var n;return"change"===e.type&&"function"==typeof(n=t.getCallback())&&n(t.getValue()),t.emit(e.type,e,t.getValue()),t.handleEvent(e)}}(this)),e.__super__.bindEvents.apply(this,arguments)},e.prototype.setDefaultValue=function(t){return""!==t&&this.getDomElement().val(t),this._$select.val(t),this._$title.text(this._$select.find('option[value="'+t+'"]').text()),this.inputDefaultValue=t},e.prototype.getDefaultValue=function(){return this.inputDefaultValue},e.prototype.getValue=function(){return this._$select.val()},e.prototype.setValue=function(t){return this._$select.val(t),this.change()},e.prototype.makeDisabled=function(){return this.setClass("disabled"),this._$select.attr("disabled","disabled")},e.prototype.makeEnabled=function(){return this.unsetClass("disabled"),this._$select.removeAttr("disabled")},e.prototype.setSelectOptions=function(t){var e,n,o,r,s,u,c,p,h,d;if(n=null,t.length)if(t.length)for(r=0,u=t.length;u>r;r++)p=t[r],this._$select.append("<option value='"+p.value+"'>"+p.title+"</option>"),n||(n=p);else a("got invalid arguments");else for(c in t)if(l.call(t,c))for(h=t[c],e=i("<optgroup label='"+c+"'/>"),this._$select.append(e),o=0,s=h.length;s>o;o++)p=h[o],n||(n=p),e.append("<option value='"+p.value+"'>"+p.title+"</option>");return d=this.getDefaultValue()||(null!=n?n.value:void 0)||"",this._$select.val(d+""),this._$title.text(this._$select.find('option[value="'+d+'"]').text())},e.prototype.removeSelectOptions=function(){return this._$select.find("optgroup").remove(),this._$select.find("option").remove()},e.prototype.change=function(){return this._$title.text(this._$select.find('option[value="'+this.getValue()+'"]').text())},e.prototype.focus=function(){return this.setClass("focus")},e.prototype.blur=function(){return this.unsetClass("focus")},e}(r)},{"../../core/kd":100,"./inputview":45,debug:112,jquery:119}],50:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=t("../../core/kd"),r=t("./contenteditableview"),s=t("../contextmenu/contextmenu"),i=t("htmlencode"),e.exports=a=function(t){function e(t,n){null==t&&(t={}),t.cssClass=o.utils.curry("kdtokenizedinputview",t.cssClass),t.bind=o.utils.curry("keyup",t.bind),t.rules||(t.rules={}),t.layer||(t.layer={}),e.__super__.constructor.call(this,t,n),this.tokenViews={}}return u(e,t),e.prototype.getValue=function(t){var e,n,o,r,s,a,u;for(null==t&&(t={}),u="",s=this.getEditableElement().childNodes,e=0,n=s.length;n>e;e++)o=s[e],"div"===(null!=(a=o.tagName)?a.toLowerCase():void 0)&&(u+="\n"),r=this.getValueOfNode(o),"\n"!==r&&(u+=r);return u===i.htmlDecode(this.getOptions().placeholder)?"":u},e.prototype.getValueOfNode=function(t){var e;switch(e="",t.nodeType){case Node.TEXT_NODE:""!==t.textContent&&(e+=t.textContent);break;case Node.ELEMENT_NODE:e+=this.getValueOfElement(t)}return e},e.prototype.getValueOfElement=function(t){var e,n,i,o,r,s,a,u;if(i=null!=(r=t.dataset)?r.key:void 0,i&&(u=this.getValueOfTokenElement(i)),u)return u;switch(a=t.tagName.toLowerCase()){case"br":return"\n";default:for(u="",s=t.childNodes,n=0,o=s.length;o>n;n++)e=s[n],u+=this.getValueOfNode(e);return u||""}},e.prototype.getValueOfTokenElement=function(t){var e;return e=this.getTokenView(t),t&&e?e.encodeValue():void 0},e.prototype.getTokens=function(){return this.findTokensInElement(this.getEditableElement())},e.prototype.findTokensInElement=function(t){var e,n,i,o,r,s,a,u,l,c;for(u=[],s=t.childNodes,i=0,r=s.length;r>i;i++)switch(e=s[i],e.nodeType){case Node.ELEMENT_NODE:(o=null!=(a=e.dataset)?a.key:void 0)?(c=this.getTokenView(o),l=c.getOptions().type,n=c.getData(),u.push({type:l,data:n})):u=u.concat(this.findTokensInElement(e))}return u},e.prototype.getTokenView=function(t){return this.tokenViews[t]},e.prototype.matchPrefix=function(){var t,e,n,i,o,r,s,a,u;if(!this.tokenInput&&(i=this.utils.getSelectionRange())){if(n=i.commonAncestorContainer,1===(null!=(o=n.children)?o.length:void 0))return n.textContent===n.children[0].textContent;u=i.startOffset-1,t=n.textContent[u],r=this.getOptions().rules,s=[];for(e in r)a=r[e],t===a.prefix?(this.activeRule=a,this.tokenInput=document.createElement("span"),this.tokenInput.textContent=a.prefix,this.utils.replaceRange(n,this.tokenInput,u,u+a.prefix.length),s.push(this.utils.selectText(this.tokenInput,a.prefix.length))):s.push(void 0);return s}},e.prototype.matchToken=function(){var t,e;return this.tokenInput.parentNode?(this.sanitizeInput(),e=this.tokenInput.textContent.substring(this.activeRule.prefix.length),/\s/.test(e)?this.cancel():e!==this.lastToken?(this.lastToken=e,e.trim()?(t=this.activeRule.dataSource)(e,this.bound("showMenu")):0!==e.length?this.cancel():void 0):void 0):this.cancel()},e.prototype.sanitizeInput=function(){},e.prototype.showMenu=function(t,e){var n,i;return null==t&&(t={}),null!=(i=this.menu)&&i.destroy(),this.menu=null,this.tokenInput&&e.length?(n=this.tokenInput.getBoundingClientRect(),null==t.x&&(t.x=n.left),null==t.y&&(t.y=n.top+parseInt(window.getComputedStyle(this.tokenInput).lineHeight,10)),this.menu=new s(t,e),this.menu.on("ContextMenuItemReceivedClick",this.bound("menuItemClicked"))):void 0},e.prototype.hideMenu=function(){var t;return null!=(t=this.menu)&&t.destroy(),this.menu=null,this.activeRule=null,this.tokenInput=null},e.prototype.menuItemClicked=function(t,e){return this.addToken(t.data,e),this.hideMenu()},e.prototype.addToken=function(t,e){var n,i,o,r,s,a,u;return null==e&&(e=this.getOptions().tokenViewClass),o=this.activeRule,u=o.type,i=o.prefix,n=o.pistachio,a=new e({type:u,prefix:i,pistachio:n},t),r=a.getElement(),s=a.getId()+"-"+a.getKey(),this.tokenViews[s]=a,a.setAttributes({"data-key":s}),this.tokenInput.parentElement.insertBefore(r,this.tokenInput),a.emit("viewAppended"),this.tokenInput.nextSibling.textContent=" ",this.utils.selectText(this.tokenInput.nextSibling,1),this.tokenInput.remove(),this.emit("TokenAdded",u,t)},e.prototype.keyDown=function(t){switch(t.which){case 9:case 13:case 27:case 38:case 40:this.menu&&(this.menu.treeController.keyEventHappened(t),o.utils.stopDOMEvent(t));break;default:e.__super__.keyDown.call(this,t)}switch(t.which){case 27:if(this.tokenInput)return this.cancel()}},e.prototype.keyUp=function(t){switch(e.__super__.keyUp.apply(this,arguments),t.which){case 9:case 13:case 27:case 38:case 40:break;default:if(t.altKey||t.ctrlKey||t.metaKey)return;return this.activeRule?this.matchToken():this.matchPrefix()}},e.prototype.cancel=function(){var t;return this.tokenInput.parentNode&&(t=document.createTextNode(this.tokenInput.textContent),this.tokenInput.parentElement.insertBefore(t,this.tokenInput),this.tokenInput.nextSibling.remove(),this.tokenInput.remove(),this.utils.selectEnd(t)),this.hideMenu()},e.prototype.reset=function(){var t,e,n,i;this.setPlaceholder(),this.blur(),e=this.tokenViews,n=[];for(t in e)l.call(e,t)&&(i=e[t],i.destroy(),n.push(delete this.tokenViews[t]));return n},e.prototype.viewAppended=function(){return e.__super__.viewAppended.apply(this,arguments),this.setEditingMode(!0)},e}(r)},{"../../core/kd":100,"../contextmenu/contextmenu":22,"./contenteditableview":38,htmlencode:117}],51:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("./inputview"),e.exports=o=function(t){function e(t,n){var i;t=null!=t?t:{},t.type="textarea",t.preview=null!=(i=t.preview)?i:!1,e.__super__.constructor.call(this,t,n),this.setClass("monospace")}return r(e,t),e.prototype.setWMD=function(){var t;return t=this.getOptions().preview,this.getDomElement().wmd({preview:t}),t?this.getDomElement().after("<h3 class='wmd-preview-title'>Preview:</h3>"):void 0},e}(i)},{"./inputview":45}],52:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../../core/view"),e.exports=i=function(t){function e(t,n){var i,o;null==t&&(t={}),t.type=null!=(i=t.type)?i:"default",t.cssClass="kdlistitemview kdlistitemview-"+t.type+" "+(null!=(o=t.cssClass)?o:""),t.bind||(t.bind="mouseenter mouseleave"),t.childClass||(t.childClass=null),t.childOptions||(t.childOptions={}),null==t.selectable&&(t.selectable=!0),e.__super__.constructor.call(this,t,n),this.content={}}return r(e,t),e.prototype.viewAppended=function(){var t,e,n;return n=this.getOptions(),t=n.childClass,e=n.childOptions,t?this.addSubView(this.child=new t(e,this.getData())):this.setPartial(this.partial(this.data))},e.prototype.partial=function(){return"<div class='kdlistitemview-default-content'> <p>This is a default partial of <b>KDListItemView</b>, you need to override this partial to have your custom content here.</p> </div>"},e.prototype.dim=function(){return this.setClass("dimmed")},e.prototype.undim=function(){return this.unsetClass("dimmed")},e.prototype.highlight=function(){return this.undim(),this.setClass("selected")},e.prototype.removeHighlight=function(){return this.undim(),this.unsetClass("selected")},e.prototype.getItemDataId=function(){var t,e;return(t=this.getData())?e=("function"==typeof t.getId?t.getId():void 0)?t.getId():null!=t.id?t.id:null!=t._id?t._id:void 0:void 0},e}(o)},{"../../core/view":104}],53:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;u=t("debug")("kd:list:listview"),i=t("../../core/kd"),o=t("./listitemview"),a=t("../../core/view"),s=t("./listviewbox"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.type||(t.type="default"),null==t.lastToFirst&&(t.lastToFirst=!1),null==t.boxed&&(t.boxed=!1),null==t.itemsPerBox&&(t.itemsPerBox=10),t.cssClass=null!=t.cssClass?"kdlistview kdlistview-"+t.type+" "+t.cssClass:"kdlistview kdlistview-"+t.type,e.__super__.constructor.call(this,t,n),this.items=[],this.boxes=[]}return l(e,t),e.prototype.empty=function(){var t,e,n,i,o;for(o=this.items,t=n=0,i=o.length;i>n;t=++n)e=o[t],e&&e.destroy();return this.items=[]},e.prototype.keyDown=function(t){return i.utils.stopDOMEvent(t),this.emit("KeyDownOnList",t)},e.prototype.sanitizeIndex=function(t){var e,n,i;return e=this.getOptions().lastToFirst,n=this.items.length,e?(null==t&&(t=0),i=Math.max(0,n-t-1)):(null==t&&(t=n),i=Math.min(n,t)),i},e.prototype.addItemView=function(t,e){return e=this.sanitizeIndex(e),this.insertItemAtIndex(t,e),t},e.prototype.addItem=function(t,e){var n,i,r,s,a,u;return e=this.sanitizeIndex(e),u=this.getOptions(),a=u.itemOptions,r=u.itemClass,n=u.itemChildClass,i=u.itemChildOptions,null==r&&(r=o),null==a&&(a={}),a=("function"==typeof this.customizeItemOptions?this.customizeItemOptions(a,t):void 0)||a,a.delegate||(a.delegate=this),a.childClass||(a.childClass=n),a.childOptions||(a.childOptions=i),s=new r(a,t),this.insertItemAtIndex(s,e),s},e.prototype.removeItem=function(t){var e;return e=this.items.indexOf(t),0>e?!1:(this.emit("ItemWasRemoved",t,e),t.destroy(),this.items.splice(e,1),!0)},e.prototype.destroy=function(){var t,n,i,o;for(o=this.items,n=0,i=o.length;i>n;n++)t=o[n],t.destroy();return e.__super__.destroy.apply(this,arguments)},e.prototype.insertItemAtIndex=function(t,e){
var n,i,o,r,s,a,u,l,c,p,h;return p=this.getOptions(),o=p.boxed,c=p.lastToFirst,r=this.items.length-1,u=e>r,s=0===e,a=e>0&&r>=e,s?this.items.unshift(t):u?this.items.push(t):this.items.splice(e,0,t),this.emit("ItemWasAdded",t,e),n=function(t){return function(e,n){var i,o,r;return i=e.getElement(),o=t.items.length-1===n?n:n+1,r=t.items[o].getElement(),r.parentNode.insertBefore(i,r),t.parentIsInDom?e.emit("viewAppended"):void 0}}(this),o?(l=this.getOptions().itemsPerBox,0===this.boxes.length?(i=this.createBox(),i.addSubView(t)):s||u?(i=null,h=s?"first":"last",i=this.boxes[h].getItems().length>=l?this.createBox(s):this.boxes[h],i.addSubView(t,null,s)):a&&n(t,e)):s?this.addSubView(t,null,!0):u?this.addSubView(t):n(t,e),this.doIHaveToScroll()?this.scrollDown():void 0},e.prototype.packageItem=function(t,e){var n,i,o,r,s,a;return a=this.getOptions(),i=a.itemsPerBox,o=a.lastToFirst,r=function(n){return function(){var i;return i=n.createBox(e),i.addSubView(t)}}(this),(s=e?this.boxes.first:this.boxes.last)?(n=s.getItems(),n.length<i?s.addSubView(t,null,o):r()):r()},e.prototype.createBox=function(t){var e;return e=new s,t?this.boxes.unshift(e):this.boxes.push(e),this.addSubView(e,null,t),e.on("BoxIsEmptied",function(t){return function(e){var n,i,o,r,s,a;for(o=null,a=t.boxes,i=r=0,s=a.length;s>r;i=++r)if(n=a[i],n.getId()===e){o=i;break}return null!=o?t.boxes.splice(o,1)[0].destroy():void 0}}(this)),e},e.prototype.handleScroll=function(){},e.prototype.getItemIndex=function(t){return this.items.indexOf(t)},e.prototype.moveItemToIndex=function(t,e){var n,i,o;return n=this.getItemIndex(t),0>n?(u("missing item",t),this.items):(e=Math.max(0,Math.min(this.items.length-1,e)),e>=this.items.length-1?(o=this.items.last,o.$().after(t.$())):(i=e>n?1:0,o=this.items[e+i],o.$().before(t.$())),this.items.splice(n,1),this.items.splice(e,0,t),this.items)},e.prototype.scrollDown=function(){return clearTimeout(this._scrollDownTimeout),this._scrollDownTimeout=i.utils.wait(50,function(t){return function(){var e,n,i;return e=t.$().closest(".kdscrollview"),i=e.find("> .kdview"),n=i.height(),e.animate({scrollTop:n},{duration:200,queue:!1})}}(this))},e.prototype.doIHaveToScroll=function(){var t;return this.getOptions().autoScroll?(t=this.$().closest(".kdscrollview")[0],t.length&&t.scrollHeight>t.outerHeight()?!0:this.isScrollAtBottom(t)):!1},e.prototype.isScrollAtBottom=function(t){var e,n,i,o;return o=t.find("> .kdview")[0],e=t.scrollTop,i=o.clientHeight,n=t.clientHeight,i-n===e},e}(a)},{"../../core/kd":100,"../../core/view":104,"./listitemview":52,"./listviewbox":54,debug:112}],54:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./listitemview"),i=t("../../core/customhtmlview"),e.exports=r=function(t){function e(t){null==t&&(t={}),t.tagName="section",e.__super__.constructor.call(this,t),this.observeMutations(),this.on("MutationHappened",this.bound("updateProps"))}return s(e,t),e.prototype.getItems=function(){return this.subViews.filter(function(t){return t instanceof o})},e.prototype.updateProps=function(){return 0===this.getItems().length?this.emit("BoxIsEmptied",this.getId()):void 0},e}(i)},{"../../core/customhtmlview":97,"./listitemview":52}],55:[function(t,e,n){var i,o,r,s,a,u,l,c,p,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty,g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};h=t("debug")("kd:list:listviewcontroller"),i=t("../../core/kd"),c=t("../../core/view"),p=t("../../core/viewcontroller"),o=t("../../core/customhtmlview"),l=t("../scrollview/scrollview"),r=t("../scrollview/customscrollview"),s=t("../list/listview"),u=t("../loader/loaderview"),e.exports=a=function(t){function e(t,n){var i,o,a;null==t&&(t={}),null==t.wrapper&&(t.wrapper=!0),null==t.scrollView&&(t.scrollView=!0),null==t.keyNav&&(t.keyNav=!1),null==t.multipleSelection&&(t.multipleSelection=!1),null==t.selection&&(t.selection=!1),null==t.startWithLazyLoader&&(t.startWithLazyLoader=!1),t.itemChildClass||(t.itemChildClass=null),t.itemChildOptions||(t.itemChildOptions={}),null==t.useCustomScrollView&&(t.useCustomScrollView=!1),t.noItemFoundWidget||(t.noItemFoundWidget=null),t.noMoreItemFoundWidget||(t.noMoreItemFoundWidget=null),null==t.lastToFirst&&(t.lastToFirst=!1),Object.defineProperty(this,"itemsOrdered",{get:function(t){return function(){return h("itemsOrdered is deprecated"),t.getListItems()}}(this)}),this.itemsIndexed={},this.selectedItems=[],this.lazyLoader=null,t.view?this.setListView(i=t.view):(a=t.viewOptions||{},a.lastToFirst||(a.lastToFirst=t.lastToFirst),a.itemClass||(a.itemClass=t.itemClass),a.itemOptions||(a.itemOptions=t.itemOptions),a.itemChildClass||(a.itemChildClass=t.itemChildClass),a.itemChildOptions||(a.itemChildOptions=t.itemChildOptions),null==a.boxed&&(a.boxed=t.boxed),null==a.itemsPerBox&&(a.itemsPerBox=t.itemsPerBox),this.setListView(i=new s(a))),t.scrollView&&(t.useCustomScrollView?(this.customScrollView=new r({lazyLoadThreshold:t.lazyLoadThreshold}),this.scrollView=this.customScrollView.wrapper):this.scrollView=new l({lazyLoadThreshold:t.lazyLoadThreshold})),t.view=t.wrapper?new c({cssClass:"listview-wrapper"}):i,e.__super__.constructor.call(this,t,n),o=this.getOptions().noItemFoundWidget,i.on("ItemWasAdded",function(t){return function(e,n){return t.registerItem(e,n),o?t.hideNoItemWidget():void 0}}(this)),i.on("ItemWasRemoved",function(t){return function(e,n){return t.unregisterItem(e,n),o?t.showNoItemWidget():void 0}}(this)),t.keyNav&&i.on("KeyDownOnList",function(t){return function(e){return t.keyDownPerformed(i,e)}}(this))}return d(e,t),e.prototype.loadView=function(t){var e,n,o,r,s,a;return n=this.getOptions(),r=n.scrollView,s=n.startWithLazyLoader,e=n.noItemFoundWidget,a=i.getSingleton("windowController"),r&&(t.addSubView(this.customScrollView||this.scrollView),this.scrollView.addSubView(this.getListView()),this.scrollView.on("LazyLoadThresholdReached",this.bound("showLazyLoader"))),s&&this.showLazyLoader(!1),e&&this.putNoItemView(),this.instantiateListItems((null!=(o=this.getData())?o.items:void 0)||[]),a.on("ReceivedMouseUpElsewhere",this.bound("mouseUpHappened"))},e.prototype.instantiateListItems=function(t){var e,n;return n=function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(this.addItem(e));return o}.call(this),this.emit("AllItemsAddedToList"),n},e.prototype.getIndex=function(t){return this.getOptions().lastToFirst?this.getItemCount()-t-1:t},e.prototype.itemForId=function(t){return this.itemsIndexed[t]},e.prototype.getItemsOrdered=function(){return this.itemsOrdered},e.prototype.getListItems=function(){return this.getListView().items},e.prototype.getItemCount=function(){return this.getListItems().length},e.prototype.setListView=function(t){return this.listView=t},e.prototype.getListView=function(){return this.listView},e.prototype.forEachItemByIndex=function(t,e){var n;return e||(n=[t,e],e=n[0],t=n[1]),Array.isArray(t)||(t=[t]),t.forEach(function(t){return function(n){var i;return i=t.itemsIndexed[n],null!=i?e(i):void 0}}(this))},e.prototype.putNoItemView=function(){var t;return t=this.getOptions().noItemFoundWidget,this.getListView().addSubView(this.noItemView=t)},e.prototype.showNoItemWidget=function(){var t;return 0===this.getListItems().length?(this.emit("ListIsEmptied"),null!=(t=this.noItemView)?t.show():void 0):void 0},e.prototype.hideNoItemWidget=function(){var t;return null!=(t=this.noItemView)&&t.hide(),this.emit("ListIsNoMoreEmpty")},e.prototype.showNoMoreItemWidget=function(){var t;return t=this.getOptions().noMoreItemFoundWidget,t?this.scrollView.addSubView(t):void 0},e.prototype.addItem=function(t,e){return t||null!=e?this.getListView().addItem(t,e):void 0},e.prototype.removeItem=function(t,e,n){return t||e||null!=n?this.getListView().removeItem(t,e,n):void 0},e.prototype.registerItem=function(t,e){var n,i,o,r,s;return null!=t.getItemDataId()&&(n=t.getItemDataId(),this.itemsIndexed[n]=t),r=this.getOptions(),s=r.selection,i=r.keyNav,o=r.multipleSelection,s&&t.on("click",function(e){return function(n){return e.selectItem(t,n)}}(this)),i||o?(t.on("mousedown",function(e){return function(n){return e.mouseDownHappenedOnItem(t,n)}}(this)),t.on("mouseenter",function(e){return function(n){return e.mouseEnterHappenedOnItem(t,n)}}(this))):void 0},e.prototype.unregisterItem=function(t,e){return this.emit("UnregisteringItem",t,e),null!=t.getData()?delete this.itemsIndexed[t.getItemDataId()]:void 0},e.prototype.replaceAllItems=function(t){return this.removeAllItems(),this.instantiateListItems(t)},e.prototype.removeAllItems=function(){var t;return this.itemsIndexed={},t=this.getListView(),t.items.length&&t.empty(),this.getListItems()},e.prototype.moveItemToIndex=function(t,e){return e=Math.max(0,Math.min(this.getListItems().length-1,e)),this.getListView().moveItemToIndex(t,e).slice()},e.prototype.mouseDownHappenedOnItem=function(t,e){return this.getOptions().keyNav&&i.getSingleton("windowController").setKeyView(this.getListView()),this.lastEvent=e,g.call(this.selectedItems,t)<0?(this.mouseDown=!0,this.mouseDownTempItem=t,this.mouseDownTimer=setTimeout(function(n){return function(){return n.mouseDown=!1,n.mouseDownTempItem=null,n.selectItem(t,e)}}(this),300)):(this.mouseDown=!1,this.mouseDownTempItem=null)},e.prototype.mouseUpHappened=function(t){return clearTimeout(this.mouseDownTimer),this.mouseDown=!1,this.mouseDownTempItem=null},e.prototype.mouseEnterHappenedOnItem=function(t,e){return clearTimeout(this.mouseDownTimer),this.mouseDown?(e.metaKey||e.ctrlKey||e.shiftKey||this.deselectAllItems(),this.selectItemsByRange(this.mouseDownTempItem,t)):this.emit("MouseEnterHappenedOnItem",t)},e.prototype.keyDownPerformed=function(t,e){switch(e.which){case 40:case 38:return this.selectItemBelowOrAbove(e),this.emit("KeyDownOnListHandled",this.selectedItems)}},e.prototype.selectItem=function(t,e){var n,i,o,r,s;return null==e&&(e={}),null!=t?(this.lastEvent=e,r=t.getOptions().selectable,o=this.getOptions().multipleSelection,i=e.metaKey,n=e.ctrlKey,s=e.shiftKey,o||this.deselectAllItems(),r&&!(i||n||s)&&this.deselectAllItems(),e.shiftKey&&this.selectedItems.length>0?this.selectItemsByRange(this.selectedItems[0],t):g.call(this.selectedItems,t)<0?this.selectSingleItem(t):this.deselectSingleItem(t),this.selectedItems):void 0},e.prototype.selectItemBelowOrAbove=function(t){var e,n,i,o,r;if(n=40===t.which?"down":"up",e=40===t.which?1:-1,i=this.getListItems(),r=i.indexOf(this.selectedItems[0]),o=i.indexOf(this.selectedItems[this.selectedItems.length-1]),i[r+e]){if(!(t.metaKey||t.ctrlKey||t.shiftKey))return this.selectItem(i[r+e]);if(-1!==this.selectedItems.indexOf(i[o+e])){if(i[o])return this.deselectSingleItem(i[o])}else if(i[o+e])return this.selectSingleItem(i[o+e])}},e.prototype.selectNextItem=function(t,e){var n,i;return n=this.getListItems(),t||(t=this.selectedItems[0]),i=n.indexOf(t),this.selectItem(n[i+1])},e.prototype.selectPrevItem=function(t,e){var n,i;return n=this.getListItems(),t||(t=this.selectedItems[0]),i=n.indexOf(t),this.selectItem(n[i+-1])},e.prototype.deselectAllItems=function(){var t,e,n,i,o,r;for(i=this.selectedItems,o=[],e=0,n=i.length;n>e;e++)r=i[e],r.removeHighlight(),t=this.selectedItems.concat([]),this.selectedItems=[],this.getListView().unsetClass("last-item-selected"),o.push(this.itemDeselectionPerformed(t));return o},e.prototype.deselectSingleItem=function(t){var e;return t.removeHighlight(),e=this.getListItems(),this.selectedItems.splice(this.selectedItems.indexOf(t),1),t===e[e.length-1]&&this.getListView().unsetClass("last-item-selected"),this.itemDeselectionPerformed([t])},e.prototype.selectSingleItem=function(t){var e;return e=this.getListItems(),!t.getOption("selectable")||g.call(this.selectedItems,t)>=0?void 0:(t.highlight(),this.selectedItems.push(t),t===e[e.length-1]&&this.getListView().setClass("last-item-selected"),this.itemSelectionPerformed())},e.prototype.selectAllItems=function(){var t,e,n,i,o;for(i=this.getListItems(),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(this.selectSingleItem(e));return o},e.prototype.selectItemsByRange=function(t,e){var n,i,o,r,s,a;for(r=this.getListItems(),i=[r.indexOf(t),r.indexOf(e)],i.sort(function(t,e){return t-e}),s=r.slice(i[0],i[1]+1),n=0,a=s.length;a>n;n++)o=s[n],this.selectSingleItem(o);return this.itemSelectionPerformed()},e.prototype.itemSelectionPerformed=function(){return this.emit("ItemSelectionPerformed",this,{event:this.lastEvent,items:this.selectedItems})},e.prototype.itemDeselectionPerformed=function(t){return this.emit("ItemDeselectionPerformed",this,{event:this.lastEvent,items:t})},e.prototype.createLazyLoader=function(){var t,e,n,r;return e=this.getOptions().lazyLoaderOptions,e||(e={}),e.itemClass||(e.itemClass=o),null==e.partial&&(e.partial=""),e.cssClass=i.utils.curry("lazy-loader",e.cssClass),e.spinnerOptions||(e.spinnerOptions={size:{width:32}}),t=e.itemClass,n=e.spinnerOptions,delete e.itemClass,r=this.scrollView||this.getView(),r.addSubView(this.lazyLoader=new t(e)),this.lazyLoader.addSubView(this.lazyLoader.spinner=new u(n))},e.prototype.showLazyLoader=function(t){return null==t&&(t=!0),this.noItemView&&this.getOptions().noItemFoundWidget&&this.hideNoItemWidget(),this.lazyLoader||this.createLazyLoader(),this.lazyLoader.show(),this.lazyLoader.spinner.show(),t?this.emit("LazyLoadThresholdReached"):void 0},e.prototype.hideLazyLoader=function(){return this.lazyLoader?(this.noItemView&&this.getOptions().noItemFoundWidget&&this.showNoItemWidget(),this.lazyLoader.spinner.hide(),this.lazyLoader.hide()):void 0},e}(p)},{"../../core/customhtmlview":97,"../../core/kd":100,"../../core/view":104,"../../core/viewcontroller":105,"../list/listview":53,"../loader/loaderview":56,"../scrollview/customscrollview":65,"../scrollview/scrollview":69,debug:112}],56:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;t("canvas-loader"),o=t("../../core/view"),e.exports=i=function(t){function e(t,n){var i;i=t||{},i.loaderOptions||(i.loaderOptions={}),i.size||(i.size={}),t={tagName:i.tagName||"span",bind:i.bind||"mouseenter mouseleave",showLoader:i.showLoader||!1,size:{width:i.size.width||24,height:i.size.height||24},loaderOptions:{color:i.loaderOptions.color||"#000000",shape:i.loaderOptions.shape||"rect",diameter:i.loaderOptions.diameter||20,density:i.loaderOptions.density||12,range:i.loaderOptions.range||1,speed:i.loaderOptions.speed||1,FPS:i.loaderOptions.FPS||24}},t.loaderOptions.diameter=t.size.height=t.size.width,t.cssClass=i.cssClass?i.cssClass+" kdloader":"kdloader",e.__super__.constructor.call(this,t,n)}return r(e,t),e.prototype.viewAppended=function(){var t,e,n,i,o,r;this.canvas=new CanvasLoader(this.getElement(),{id:"cl_"+this.id}),i=this.getOptions(),e=i.loaderOptions,o=i.showLoader;for(n in e)s.call(e,n)&&(r=e[n],this.canvas["set"+n.capitalize()](r));return t=this.getOption("size").height,this.setCss("line-height",t?t+"px":"initial"),o?this.show():void 0},e.prototype.show=function(){return e.__super__.show.apply(this,arguments),this.active=!0,this.canvas?this.canvas.show():void 0},e.prototype.hide=function(){return e.__super__.hide.apply(this,arguments),this.active=!1,this.canvas?this.canvas.hide():void 0},e}(o)},{"../../core/view":104,"canvas-loader":122}],57:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),s=t("./modalview"),a=t("../overlay/overlayview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),e.__super__.constructor.call(this,t,n),i(window).off("keydown.modal")}return u(e,t),e.prototype.putOverlay=function(){return this.overlay=new a({isRemovable:!1}),this.overlay.on("click",function(t){return function(){return t.doBlockingAnimation()}}(this))},e.prototype.doBlockingAnimation=function(){return this.setClass("blocking-animation"),o.utils.wait(200,function(t){return function(){return t.unsetClass("blocking-animation")}}(this))},e.prototype.setDomElement=function(t){return this.domElement=i("<div class='kdmodal "+t+"'>\n  <div class='kdmodal-shadow'>\n    <div class='kdmodal-inner'>\n      <div class='kdmodal-title'></div>\n      <div class='kdmodal-content'></div>\n    </div>\n  </div>\n</div>")},e.prototype.click=function(t){},e}(s)},{"../../core/kd":100,"../overlay/overlayview":62,"./modalview":58,jquery:119}],58:[function(t,e,n){var i,o,r,s,a,u,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),l=t("../../core/view"),u=t("../overlay/overlayview"),r=t("../buttons/buttonview"),a=t("./modalviewstack"),e.exports=s=function(t){function e(t,n){var o;null==t&&(t={}),null==t.overlay&&(t.overlay=!1),null==t.overlayClick&&(t.overlayClick=!0),t.height||(t.height="auto"),null==t.width&&(t.width=600),t.position||(t.position={}),t.title||(t.title=null),t.subtitle||(t.subtitle=null),t.content||(t.content=null),t.buttons||(t.buttons=null),null==t.fx&&(t.fx=!1),t.view||(t.view=null),null==t.draggable&&(t.draggable={handle:".kdmodal-title"}),null==t.resizable&&(t.resizable=!1),null==t.appendToDomBody&&(t.appendToDomBody=!0),t.helpContent||(t.helpContent=null),t.helpTitle||(t.helpTitle="Need help?"),null==t.cancelable&&(t.cancelable=!0),e.__super__.constructor.call(this,t,n),this.setClass("initial"),t.overlay&&this.putOverlay(t.overlay),t.fx&&this.setClass("fx"),t.title&&this.setTitle(t.title),t.subtitle&&this.setSubtitle(t.subtitle),t.content&&this.setContent(t.content),t.view&&this.addSubView(t.view),t.cancel&&this.on("ModalCancelled",t.cancel),this.on("viewAppended",function(t){return function(){return t.utils.wait(500,function(){return t.unsetClass("initial")})}}(this)),this.getOptions().appendToDomBody&&this.appendToDomBody(),this.setModalWidth(t.width),t.height&&this.setModalHeight(t.height),t.buttons&&(this.buttonHolder=new l({cssClass:"kdmodal-buttons clearfix"}),this.addSubView(this.buttonHolder,".kdmodal-inner"),this.setButtons(t.buttons),o=this.$(".kdmodal-inner").width(),this.buttonHolder.setWidth(o)),this.display(),this._windowDidResize(),i(window).one("keydown.modal",function(t){return function(e){return 27===e.which?t.cancel():void 0}}(this)),this.on("childAppended",this.setPositions.bind(this)),this.listenWindowResize()}return c(e,t),e.prototype.setDomElement=function(t){var e,n,o,r;return r=this.getOptions(),n=r.helpContent,o=r.helpTitle,e=n?"<span class='showHelp'>"+o+"</span>":"",this.domElement=i("<div class='kdmodal "+t+"'>\n  <div class='kdmodal-inner'>\n    "+e+"\n    <span class='close-icon closeModal' title='Close [ESC]'></span>\n    <div class='kdmodal-title hidden'></div>\n    <div class='kdmodal-content'></div>\n  </div>\n</div>")},e.prototype.addSubView=function(t,n,i){return null==n&&(n=".kdmodal-content"),null==i&&(i=!1),0===this.$(n).length&&(n=null),e.__super__.addSubView.call(this,t,n,i)},e.prototype.setButtons=function(t,e){var n,i,o,r,s,a;null==e&&(e=!1),this.buttons||(this.buttons={}),this.setClass("with-buttons"),r=null,e&&this.destroyButtons();for(o in t)p.call(t,o)&&(i=t[o],null==r&&(r=o),n=this.createButton(i.title||o,i),this.buttons[o]=n,i.focus&&(s=!0));return!s&&r&&null!=(a=this.buttons[r])?a.setFocus():void 0},e.prototype.destroyButtons=function(){var t,e,n,i;n=this.buttons,i=[];for(t in n)p.call(n,t)&&(e=n[t],i.push(e.destroy()));return i},e.prototype.click=function(t){var n;return i(t.target).is(".closeModal")&&this.cancel(),i(t.target).is(".showHelp")&&(n=this.getOptions().helpContent)?(n=o.utils.applyMarkdown(n),new e({cssClass:"help-dialog",overlay:!0,content:"<div class='modalformline'><p>"+n+"</p></div>"})):void 0},e.prototype.setTitle=function(t){return this.$().find(".kdmodal-title").removeClass("hidden").html("<span class='title'>"+t+"</span>"),this.modalTitle=t},e.prototype.setSubtitle=function(t){return this.$().find(".kdmodal-title").append("<span class='subtitle'>"+t+"</span>"),this.modalSubtitle=t},e.prototype.setModalHeight=function(t){return"auto"===t?(this.$().css("height","auto"),this.modalHeight=this.getHeight()):(this.$().height(t),this.modalHeight=t)},e.prototype.setModalWidth=function(t){return this.modalWidth=t,this.$().width(t)},e.prototype.setPositions=function(){return this.utils.defer(function(t){return function(){var e,n,o,r,s,a,u,l;return s=t.getOptions().position,u=s.top,a=s.right,e=s.bottom,o=s.left,r={},n=i(window).height(),l=i(window).width(),r.top=Math.round(null!=u?u:n/2-t.getHeight()/2),r.left=Math.round(null!=o?o:l/2-t.modalWidth/2),a&&(r.left=Math.round(l-t.modalWidth-a-20)),r.opacity=1,t.$().css(r)}}(this))},e.prototype._windowDidResize=function(){var t;return this.setPositions(),t=window.innerHeight,this.$(".kdmodal-content").css({maxHeight:t-120}),this.getOptions().position.top?void 0:this.setY(Math.round((t-this.getHeight())/2))},e.prototype.putOverlay=function(){var t,e,n;return n=this.getOptions(),e=n.overlayOptions,t=n.overlayClick,null==e&&(e={}),null==e.isRemovable&&(e.isRemovable=t),this.overlay=new u(e),t?this.overlay.once("click",this.bound("destroy")):void 0},e.prototype.createButton=function(t,e){var n,i;return e.title=t,e.delegate=this,i=e.itemClass,delete e.itemClass,this.buttonHolder.addSubView(n=new(i||r)(e)),n.on("KDModalShouldClose",function(t){return function(){return t.emit("KDModalShouldClose")}}(this)),n},e.prototype.setContent=function(t){return this.modalContent=t,this.getDomElement().find(".kdmodal-content").html(t)},e.prototype.display=function(){return this.getOptions().fx?this.utils.defer(function(t){return function(){return t.setClass("active")}}(this)):void 0},e.prototype.cancel=function(){return this.getOptions().cancelable?(this.emit("ModalCancelled"),this.destroy()):void 0},e.prototype.destroy=function(){var t,e;return i(window).off("keydown.modal"),e=l.prototype.destroy.bind(this),this.options.fx?(this.unsetClass("active"),setTimeout(e,300)):(this.getDomElement().hide(),e()),null!=(t=this.overlay)&&t.destroy(),this.emit("KDModalViewDestroyed",this)},e.prototype.hide=function(){var t;return null!=(t=this.overlay)&&t.hide(),e.__super__.hide.apply(this,arguments)},e.prototype.show=function(){var t;return null!=(t=this.overlay)&&t.show(),e.__super__.show.apply(this,arguments)},e.createStack=function(t){return this.stack||(this.stack=new a(t))},e.addToStack=function(t){return this.stack.addModal(t)},e.destroyStack=function(){return this.stack.destroy(),delete this.stack},e.confirm=function(t){var e,n,i,o,r,s,a;return r=function(){return o.destroy()},s=t.ok,e=t.cancel,a=t.title,n=t.content,i=t.description,s&&"function"!=typeof s||(s={callback:s}),e&&"function"!=typeof e||(e={callback:e}),o=new this({title:a||"You must confirm this action",content:n||(i?"<div class='modalformline'>\n  <p>"+i+"</p>\n</div>":void 0),overlay:!0,buttons:{OK:{title:s.title,style:s.style||"solid red medium",callback:s.callback||r},cancel:{title:e.title,style:e.style||"solid light-gray medium",callback:e.callback||r}}}),t.subView&&o.addSubView(t.subView),o},e}(l)},{"../../core/kd":100,"../../core/view":104,"../buttons/buttonview":19,"../overlay/overlayview":62,"./modalviewstack":59,jquery:119}],59:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=t("debug")("kd:modals:modalviewstack"),i=t("../../core/kd"),o=t("./modalview"),s=t("../../core/object"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),null==t.lastToFirst&&(t.lastToFirst=!1),e.__super__.constructor.call(this,t,n),this.modals=[]}return u(e,t),e.prototype.addModal=function(t){var e;return t instanceof o?(t.on("KDObjectWillBeDestroyed",function(t){return function(){return t.next()}}(this)),e=this.getOptions().lastToFirst,this.modals.push(t),i.utils.defer(function(n){return function(){return t.hide(),e?(n.modals.forEach(function(t){return t.hide()}),n.modals.last.show()):n.modals.first.show()}}(this)),t):void a("modal must be an instanceof kd.ModalView")},e.prototype.next=function(){var t,e,n;return t=this.getOptions().lastToFirst,t?(this.modals.pop(),null!=(e=this.modals.last)?e.show():void 0):(this.modals.shift(),null!=(n=this.modals.first)?n.show():void 0)},e.prototype.destroy=function(){return this.modals.forEach(function(t){return i.utils.defer(function(){return t.destroy()})}),this.modals=[],e.__super__.destroy.apply(this,arguments)},e}(s)},{"../../core/kd":100,"../../core/object":101,"./modalview":58,debug:112}],60:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=t("debug")("kd:modals:modalviewwithforms"),i=t("./modalview"),r=t("../tabs/tabviewwithforms"),e.exports=o=function(t){function e(t,n){this.modalButtons=[],e.__super__.constructor.call(this,t,n),this.addSubView(this.modalTabs=new r(t.tabs))}return a(e,t),e.prototype.aggregateFormData=function(){var t,e,n;return t=function(){var t,i;t=this.modalTabs.forms,i=[];for(n in t)u.call(t,n)&&(e=t[n],i.push({name:n,data:e.getData()}));return i}.call(this),t.reduce(function(t,e){var n,i,o;i=e.data;for(n in i)u.call(i,n)&&(o=i[n],n in t&&s("overriding "+n),t[n]=o);return t},{})},e}(i)},{"../tabs/tabviewwithforms":83,"./modalview":58,debug:112}],61:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),s=t("../../core/view"),o=t("../loader/loaderview"),e.exports=r=function(t){function e(t){e.__super__.constructor.call(this,t),t=this.notificationSetDefaults(t),this.notificationSetType(t.type),null!=t.title&&this.notificationSetTitle(t.title),null!=t.content&&this.notificationSetContent(t.content),null!=t.duration&&this.notificationSetTimer(t.duration),null!=t.overlay&&this.notificationSetOverlay(t.overlay),null!=t.followUps&&this.notificationSetFollowUps(t.followUps),null!=t.showTimer&&this.notificationShowTimer(),this.notificationSetCloseHandle(t.closeManually),t.loader&&this.once("viewAppended",this.bound("setLoader")),this.notificationDisplay()}return a(e,t),e.prototype.setDomElement=function(t){return null==t&&(t=""),this.domElement=i("<div class='kdnotification "+t+"'> <a class='kdnotification-close hidden'></a> <div class='kdnotification-timer hidden'></div> <div class='kdnotification-title'></div> <div class='kdnotification-content hidden'></div> </div>")},e.prototype.destroy=function(){return this.notificationCloseHandle.unbind(".notification"),null!=this.notificationOverlay&&this.notificationOverlay.remove(),e.__super__.destroy.call(this),this.notificationStopTimer(),this.notificationRepositionOtherNotifications()},e.prototype.viewAppended=function(){return this.notificationSetPositions()},e.prototype.notificationSetDefaults=function(t){return null==t.duration&&(t.duration=1500),(t.duration>2999||0===t.duration)&&null==t.closeManually&&(t.closeManually=!0),t},e.prototype.notificationSetTitle=function(t){return t instanceof s?(this.notificationTitle&&this.notificationTitle instanceof s&&this.notificationTitle.destroy(),this.addSubView(t,".kdnotification-title")):this.$().find(".kdnotification-title").html(t),this.notificationTitle=t},e.prototype.notificationSetType=function(t){return null==t&&(t="main"),this.notificationType=t},e.prototype.notificationSetPositions=function(){var t,e,n,o,r,s,a,u,l,c,p,h;switch(this.setClass(this.notificationType),u=i("body").find(".kdnotification."+this.notificationType),this.getOptions().container?(p=this.getOptions().container.getHeight(),h=this.getOptions().container.getWidth()):(h=window.innerWidth,p=window.innerHeight),this.notificationType){case"tray":for(t=8,e=n=0,r=u.length;r>n;e=++n)a=u[e],0!==e&&(t+=i(a).outerHeight(!1)+8);l={bottom:t,right:8,paddingRight:this.options.content&&this.options.title?10:25};break;case"growl":for(c=63,e=o=0,s=u.length;s>o;e=++o)a=u[e],0!==e&&(c+=i(a).outerHeight(!1)+8);l={top:c,right:8};break;case"mini":l={top:0,left:h/2-this.getDomElement().width()/2};break;case"sticky":l={top:0,left:h/2-this.getDomElement().width()/2};break;default:l={top:p/2-this.getDomElement().height()/2,left:h/2-this.getDomElement().width()/2}}return this.getDomElement().css(l)},e.prototype.notificationRepositionOtherNotifications=function(){var t,e,n,o,r,s,a,u,l,c,p,h,d,f,g;for(g=i("body").find(".kdnotification."+this.notificationType),n=function(){var e,n,r;for(r=[],o=e=0,n=g.length;n>e;o=++e)t=g[o],r.push(i(t).outerHeight(!1));return r}(),f=[],o=s=0,u=g.length;u>s;o=++s)switch(t=g[o],this.notificationType){case"tray":case"growl":for(c=0,h="tray"===this.notificationType?"bottom":"top",d=n.slice(0,+o+1||9e9),r=a=0,l=d.length;l>a;r=++a)e=d[r],0!==r?c+=e:c=8;p={},p[h]=c+8*o,f.push(i(t).css(p));break;default:f.push(void 0)}return f},e.prototype.notificationSetCloseHandle=function(t){return null==t&&(t=!1),this.notificationCloseHandle=this.getDomElement().find(".kdnotification-close"),t&&this.notificationCloseHandle.removeClass("hidden"),this.notificationCloseHandle.bind("click.notification",function(t){return function(e){return t.destroy()}}(this)),i(window).bind("keydown.notification",function(t){return function(e){return 27===e.which?t.destroy():void 0}}(this))},e.prototype.notificationSetTimer=function(t){return 0!==t?(this.notificationTimerDiv=this.getDomElement().find(".kdnotification-timer"),this.notificationTimerDiv.text(Math.floor(t/1e3)),this.notificationTimeout=setTimeout(function(t){return function(){return t.getDomElement().fadeOut(200,function(){return t.destroy()})}}(this),t),this.notificationInterval=setInterval(function(t){return function(){var e;return e=parseInt(t.notificationTimerDiv.text(),10)-1,t.notificationTimerDiv.text(e)}}(this),1e3)):void 0},e.prototype.notificationSetFollowUps=function(t){var e;return Array.isArray(t)||(t=[t]),e=0,t.forEach(function(t){return function(n){var i;return e+=null!=(i=n.duration)?i:1e4,t.utils.wait(e,function(){return n.title&&t.notificationSetTitle(n.title),n.content&&t.notificationSetContent(n.content),t.notificationSetPositions()})}}(this))},e.prototype.notificationShowTimer=function(){return this.notificationTimerDiv.removeClass("hidden"),this.getDomElement().bind("mouseenter",function(t){return function(){return t.notificationStopTimer()}}(this)),this.getDomElement().bind("mouseleave",function(t){return function(){var e;return e=1e3*parseInt(t.notificationTimerDiv.text(),10),t.notificationSetTimer(e)}}(this))},e.prototype.notificationStopTimer=function(){return clearTimeout(this.notificationTimeout),clearInterval(this.notificationInterval)},e.prototype.notificationSetOverlay=function(t){return null==t.transparent&&(t.transparent=!0),null==t.destroyOnClick&&(t.destroyOnClick=!0),this.notificationOverlay=i("<div/>",{"class":"kdoverlay transparent"}),this.notificationOverlay.hide(),t.transparent||this.notificationOverlay.removeClass("transparent"),this.notificationOverlay.appendTo("body"),this.notificationOverlay.fadeIn(200),this.notificationOverlay.bind("click",function(e){return function(){return t.destroyOnClick?e.destroy():void 0}}(this))},e.prototype.notificationGetOverlay=function(){return this.notificationOverlay},e.prototype.setLoader=function(){var t,e,n,i,r,s;return this.setClass("w-loader"),e=this.getOptions().loader,t={tray:25,growl:30,mini:18,sticky:25
},e.diameter=t[this.notificationType]||30,this.loader=new o({size:{width:e.diameter},loaderOptions:{color:e.color||"#ffffff",shape:e.shape||"spiral",diameter:e.diameter,density:null!=(n=e.density)?n:30,range:null!=(i=e.range)?i:.4,speed:null!=(r=e.speed)?r:1.5,FPS:null!=(s=e.FPS)?s:24}}),this.addSubView(this.loader,null,!0),this.setCss("paddingLeft",2*e.diameter),this.loader.setStyle({position:"absolute",left:e.left||Math.floor(e.diameter/2),top:e.top||"50%",marginTop:-(e.diameter/2)}),this.loader.show()},e.prototype.showLoader=function(){return this.setClass("loading"),this.loader.show()},e.prototype.hideLoader=function(){return this.unsetClass("loading"),this.loader.hide()},e.prototype.notificationSetContent=function(t){return this.notificationContent=t,this.getDomElement().find(".kdnotification-content").removeClass("hidden").html(t)},e.prototype.notificationDisplay=function(){return this.getOptions().container?this.getOptions().container.addSubView(this):this.appendToDomBody()},e}(s)},{"../../core/view":104,"../loader/loaderview":56,jquery:119}],62:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),null==t.isRemovable&&(t.isRemovable=!0),null==t.animated&&(t.animated=!1),null==t.color&&(t.color=!1),null==t.transparent&&(t.transparent=!1),null==t.opacity&&(t.opacity=.5),null==t.appendToDomBody&&(t.appendToDomBody=!0),t.cssClass=i.utils.curry("kdoverlay",t.cssClass),e.__super__.constructor.call(this,t,n),t.animated&&this.setClass("animated"),t.transparent&&this.setClass("transparent"),t.color&&this.setStyle({backgroundColor:t.color,opacity:t.opacity}),t.container instanceof r?(t.container.addSubView(this),this.setCss("position","absolute")):t.appendToDomBody&&this.appendToDomBody(),t.animated?(this.utils.defer(function(t){return function(){return t.setClass("in")}}(this)),this.utils.wait(300,function(t){return function(){return t.emit("OverlayAdded",t)}}(this))):this.emit("OverlayAdded",this),t.isRemovable&&(t.animated?this.once("click",function(t){return function(){return t.unsetClass("in"),t.utils.wait(300,function(){return t.remove()})}}(this)):this.once("click",function(t){return function(){return t.remove()}}(this)))}return s(e,t),e.prototype.remove=function(){return this.emit("OverlayWillBeRemoved"),this.destroy(),this.emit("OverlayRemoved",this)},e}(r)},{"../../core/kd":100,"../../core/view":104}],63:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kdspotlightview",t.cssClass),null==t.margin&&(t.margin=50),null==t.radial&&(t.radial=!0),null==t.isRemovable&&(t.isRemovable=!0),e.__super__.constructor.call(this,t,n),t.radial||this.setClass("shadow"),this.createElements(),this.appendToDomBody()}return s(e,t),e.prototype.createElements=function(){var t,e,n,o,s,a,u,l,c,p;n=this.getOptions().isRemovable,a=this.getBoundaries(),u=[];for(s in a)t=a[s],p=t.width,e=t.height,l=t.top,o=t.left,p>0&&e>0?(c=new r({cssClass:i.utils.curry("kdoverlay",s),position:{top:l,left:o}}),c.setWidth(p),c.setHeight(e),n&&c.on("click",function(t){return function(){return t.destroy(),t.emit("OverlayDestroyed")}}(this)),u.push(this.addSubView(c))):u.push(void 0);return u},e.prototype.getBoundaries=function(){var t,e,n,i,o,r,s,a,u,l,c,p,h;return a=this.getOptions().radial,n=this.getDelegate(),u=n.getY(),o=n.getX(),c=n.getWidth(),i=n.getHeight(),s=this.getOption("margin"),h=window.innerWidth,p=window.innerHeight,a&&(c=i=Math.min(c,i)),l=u-s,r=o-s,t=p-(u+i+s),e={top:{top:0,left:0,width:h,height:l},left:{top:l,left:0,width:r,height:p-u+s},bottom:{top:u+i+s,left:r,width:h-o+s,height:t},right:{top:l,left:o+c+s,width:h-(o+c+s),height:p-(t+l)},main:{top:l,left:r,width:c+s+s,height:i+s+s}}},e}(r)},{"../../core/kd":100,"../../core/view":104}],64:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),o=t("../../core/customhtmlview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("progressbar-container",t.cssClass),null==t.determinate&&(t.determinate=!0),null==t.initial&&(t.initial=!1),null==t.title&&(t.title=""),e.__super__.constructor.call(this,t,n)}return s(e,t),e.prototype.viewAppended=function(){var t,e,n;return e=this.getOptions(),t=e.initial,n=e.title,this.createBar(),this.updateBar(t||1,"%",n)},e.prototype.createBar=function(t,e){return null==e&&(e=this.getOptions().title),this.addSubView(this.bar=new o({cssClass:"bar"})),this.addSubView(this.spinner=new o({cssClass:"bar spinner hidden"})),this.addSubView(this.darkLabel=new o({tagName:"span",cssClass:"dark-label"})),this.bar.addSubView(this.lightLabel=new o({tagName:"span",cssClass:"light-label"})),this.lightLabel.setWidth(this.getWidth())},e.prototype.updateBar=function(t,e,n){var i;return null==e&&(e="%"),null==n&&(n=this.getOptions().title),i=this.getOptions().determinate,i?(this.bar.show(),this.spinner.hide(),this.bar.setWidth(t,e),this.darkLabel.updatePartial(n+"&nbsp;"),this.lightLabel.updatePartial(n+"&nbsp;")):(this.bar.hide(),this.spinner.show())},e}(o)},{"../../core/customhtmlview":97,"../../core/kd":100}],65:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("../../core/kd"),o=t("../../core/customhtmlview"),a=t("./scrolltrack"),s=t("./customscrollviewinner"),e.exports=r=function(t){function e(t,n){var o,r,u,l,c;null==t&&(t={}),t.bind=i.utils.curry("mouseenter mouseleave",t.bind),t.cssClass=i.utils.curry("kdcustomscrollview",t.cssClass),null==t.mouseWheelSpeed&&(t.mouseWheelSpeed=3),e.__super__.constructor.call(this,t,n),l=this.getOptions(),u=l.mouseWheelSpeed,r=l.lazyLoadThreshold,c=l.wrapperClass,null!=t.offscreenIndicatorClassName&&this.listenWindowResize(),o=c||s,this.wrapper=new o({tagName:"main",lazyLoadThreshold:r,mouseWheelSpeed:u,scroll:null!=t.offscreenIndicatorClassName?this.bound("updateOffscreenIndicators"):void 0}),this.verticalTrack=new a({delegate:this.wrapper}),this.horizontalTrack=new a({delegate:this.wrapper,type:"horizontal"}),this.wrapper.verticalThumb=this.verticalTrack.thumb,this.wrapper.horizontalThumb=this.horizontalTrack.thumb,this.wrapper.on("ScrollTrackShown",function(t){return function(e){return t.setClass("has-"+e)}}(this)),this.wrapper.on("ScrollTrackHidden",function(t){return function(e){return t.unsetClass("has-"+e)}}(this)),this.wrapper.on("MutationHappened",function(t){return function(){return t.verticalTrack.thumb.reset(),t.horizontalTrack.thumb.reset()}}(this)),this.on("mouseenter",this.bound("showTracks")),this.on("mouseleave",this.bound("hideTracks"))}var n;return u(e,t),e.prototype._windowDidResize=function(){return this.updateOffscreenIndicators()},e.prototype.updateOffscreenIndicators=function(){var t,e,n,o,r;return r=this.wrapper.getElement(),n=this.getOptions().offscreenIndicatorClassName,o=[].slice.call(r.getElementsByClassName(n)).reduce(function(t,e){var n,o,s;return o=i.utils.relativeOffset(e,r),n=o[0],s=o[1],s<r.scrollTop?t.above.push(e):s>r.scrollTop+r.offsetHeight&&t.below.push(e),t},{above:[],below:[]}),t=o.above,e=o.below,t.length>0?this.emit("OffscreenItemsAbove",t):this.emit("NoOffscreenItemsAbove"),e.length>0?this.emit("OffscreenItemsBelow",e):this.emit("NoOffscreenItemsBelow")},e.prototype.viewAppended=function(){return this.addSubView(this.wrapper),this.addSubView(this.verticalTrack),this.addSubView(this.horizontalTrack),this.wrapper.observeMutations()},n=null,e.prototype.hideTracks=function(){return n=i.utils.wait(1e3,function(t){return function(){return t.verticalTrack.setClass("out"),t.horizontalTrack.setClass("out")}}(this))},e.prototype.showTracks=function(){return n&&i.utils.killWait(n),this.verticalTrack.unsetClass("out"),this.horizontalTrack.unsetClass("out")},e}(o)},{"../../core/customhtmlview":97,"../../core/kd":100,"./customscrollviewinner":66,"./scrolltrack":68}],66:[function(t,e,n){var i,o,r,s,a,u,l,c,p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=t("jquery"),r=t("../../core/kd"),s=t("../../core/customhtmlview"),c=t("./scrollview"),u=t("./scrollthumb"),l=t("./scrolltrack"),o=t("hammerjs"),e.exports=a=function(t){function e(t,n){var i,s,a,u,l;null==t&&(t={}),t.bind=r.utils.curry("keydown",t.bind),null==t.attributes&&(t.attributes={}),null==(i=t.attributes).tabindex&&(i.tabindex="0"),this.globalKeydownEventBound=!1,e.__super__.constructor.call(this,t,n),this.on("MutationHappened",this.bound("toggleGlobalKeydownEventOnSizeCheck")),r.utils.isTouchDevice()&&(a=new o(this.getElement()),a.get("pan").set({direction:o.DIRECTION_ALL}),u=l=0,s=function(t){var e,n,i,o,r,s,a,c,p;return t.stopPropagation=function(){},t.preventDefault=function(){},c=t.velocityX,p=t.velocityY,r=t.deltaX,s=t.deltaY,a=t.direction,e=r,n=s,i=Math.min(.5,c*(16===a?-1:1)),o=Math.min(.5,p*(16===a?-1:1)),t.deltaX=(e-u)*i,t.deltaY=(n-l)*o,u=e,l=n,t},a.on("panend pancancel",function(t){return u=l=0}),a.on("panup pandown",function(t){return function(e){return t.mouseWheel(s(e))}}(this)))}var n,s,a,u,l,c,h;return p(e,t),c=32,l=33,u=34,s=35,a=36,h=38,n=40,e.prototype.scroll=function(t){return this.verticalThumb.beingDragged||this.horizontalThumb.beingDragged?r.utils.stopDOMEvent(t):void 0},e.prototype.mouseWheel=function(t){var n,i,o,s,a,u,l,c,p;return e.__super__.mouseWheel.apply(this,arguments),i=t.deltaX,o=t.deltaY,n=t.deltaFactor,u=n||this.getOptions().mouseWheelSpeed||1,c=-i,p=-o,s=0!==c&&this.getScrollWidth()>this.horizontalThumb.getTrackSize()?this._scrollHorizontally({speed:u,velocity:c}):!1,a=0!==p&&this.getScrollHeight()>this.verticalThumb.getTrackSize()?this._scrollVertically({speed:u,velocity:p}):!1,l=Math.abs(c)>Math.abs(p)?s:a,l||r.utils.stopDOMEvent(t),!l},e.prototype._scrollVertically=function(){var t;return t=0,function(e){var n,i,o,r,s,a;return r=e.speed,a=e.velocity,s=a*r,n=this.getScrollTop(),i=n+s,o=a>0?t>i:i>t,this.setScrollTop(t=i),o}}(),e.prototype._scrollHorizontally=function(){var t;return t=0,function(e){var n,i,o,r,s,a;return r=e.speed,a=e.velocity,s=a*r,n=this.getScrollLeft(),i=n-s,o=a>0?i>t:t>i,this.setScrollLeft(t=i),o}}(),e.prototype.toggleGlobalKeydownEventOnSizeCheck=function(){var t,e;return e=i(window).height(),t=this.getHeight()>=e,this.toggleGlobalKeydownEvent(t)},e.prototype.toggleGlobalKeydownEvent=function(t){var e;return e="keydown.customscroll"+this.getId(),t?this.globalKeydownEventBound||i(document).on(e,this.bound("keyDown")):this.globalKeydownEventBound&&i(document).off(e),this.globalKeydownEventBound=t},e.prototype.destroy=function(){return this.toggleGlobalKeydownEvent(!1),e.__super__.destroy.apply(this,arguments)},e.prototype.pageUp=function(){return this.scrollTo({top:Math.max(this.getScrollTop()-this.getHeight(),0)})},e.prototype.pageDown=function(){return this.scrollTo({top:this.getScrollTop()+this.getHeight()})},e.prototype.keyDown=function(t){var e,o;if(e="input,textarea,select,datalist,keygen,[contenteditable='true']",i(document.activeElement).is(e))return!0;if(!this.getDomElement().is(":visible"))return!0;if(this.getScrollHeight()<=this.verticalThumb.getTrackSize())return!0;if(o=!1,t.which===c&&t.shiftKey)this.pageUp();else if(t.metaKey||t.ctrlKey)t.which===h&&this.scrollTo({top:0}),t.which===n&&this.scrollToBottom();else switch(t.which){case l:this.pageUp();break;case c:case u:this.pageDown();break;case s:this.scrollToBottom();break;case a:this.scrollTo({top:0});break;default:o=!0}return o},e}(c)},{"../../core/customhtmlview":97,"../../core/kd":100,"./scrollthumb":67,"./scrolltrack":68,"./scrollview":69,hammerjs:115,jquery:119}],67:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){var o;null==t&&(t={}),t.type||(t.type="vertical"),t.cssClass=i.utils.curry("kdscrollthumb",t.cssClass),null==t.draggable&&(t.draggable={axis:"vertical"===t.type?"y":"x",containment:this}),e.__super__.constructor.call(this,t,n),o=this.getOptions(),this.type=o.type,this.track=o.track,this.view=this.track.getDelegate(),this.on("viewAppended",this.bound("calculateSize")),this.on("DragInAction",this.bound("handleDrag")),this.view.on("scroll",this.bound("calculatePosition")),this.listenWindowResize()}return s(e,t),e.prototype.resetSizes=function(){return this.size=null,this.trackSize=null,this.scrollSize=null},e.prototype.reset=function(){return this.resetSizes(),this.calculateSize(),this.calculatePosition()},e.prototype.handleDrag=function(){var t,e,n,i,o,r;return i=this.getSize(),e=this.getOffset(),o=this.getSize(!0)-this.size,r=this.getTrackSize()-o,t=r-i,n=Math.min(Math.max(0,e/t),1),this.isVertical()?this.view.setScrollTop((this.view.getScrollHeight()-r)*n):this.view.setScrollLeft((this.view.getScrollWidth()-r)*n)},e.prototype.isVertical=function(){return"vertical"===this.type},e.prototype.getTrackSize=function(){return this.trackSize?this.trackSize:this.isVertical()?this.track.getHeight():this.track.getWidth()},e.prototype.setSize=function(t){return this.isVertical()?this.setHeight(t):this.setWidth(t),this.size=t},e.prototype.getSize=function(t){return this.size&&!t?this.size:this.isVertical()?this.getHeight():this.getWidth()},e.prototype.setOffset=function(t){return this.setStyle(this.isVertical()?{top:t}:{left:t})},e.prototype.getOffset=function(){return this.isVertical()?this.getY()-this.track.getY():this.getX()-this.track.getX()},e.prototype.getScrollOffset=function(){return this.isVertical()?this.view.getScrollTop():this.view.getScrollLeft()},e.prototype.getScrollSize=function(){return this.scrollSize?this.scrollSize:this.isVertical()?this.view.getScrollHeight():this.view.getScrollWidth()},e.prototype.calculateSize=function(){return this.trackSize=this.getTrackSize(),this.scrollSize=this.getScrollSize(),this.setTrackVisibility(),this.setSize(this.trackSize*this.trackSize/this.scrollSize)},e.prototype.calculatePosition=function(t){var e,n,i;return e=this.getScrollOffset()/this.getScrollSize(),n=this.getSize(!0)-this.size,i=this.getTrackSize(),this.setTrackVisibility(),this.setOffset((i-n)*e)},e.prototype.setTrackVisibility=function(){return this.getTrackSize()>=this.getScrollSize()?this.track.hide():this.track.show()},e.prototype._windowDidResize=function(){return this.reset()},e}(r)},{"../../core/kd":100,"../../core/view":104}],68:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};i=t("../../core/kd"),s=t("../../core/view"),o=t("./scrollthumb"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.type||(t.type="vertical"),t.cssClass=i.utils.curry("kdscrolltrack "+t.type+" out",t.cssClass),e.__super__.constructor.call(this,t,n),this.type=this.getOptions().type,this.scrollView=this.getDelegate(),this.addSubView(this.thumb=new o({cssClass:"kdscrollthumb",type:this.type,track:this}))}return a(e,t),e.prototype.click=function(t){var e,n,i,o;if(!(l.call(t.target.classList,"kdscrolltrack")<0))return o=this.thumb.getSize(!0),"vertical"===this.type?(n=this.scrollView.getScrollHeight(),e=t.originalEvent.layerY||t.offsetY,this.scrollView.scrollTo({top:(e-o/2)/this.getHeight()*n})):(i=this.scrollView.getScrollWidth(),e=t.originalEvent.layerX||t.offsetX,this.scrollView.scrollTo({left:(e-o/2)/this.getWidth()*i}))},e.prototype.show=function(){return this.getDelegate().emit("ScrollTrackShown",this.type),this.unsetClass("invisible")},e.prototype.hide=function(){return this.getDelegate().emit("ScrollTrackHidden",this.type),this.setClass("invisible")},e}(s)},{"../../core/kd":100,"../../core/view":104,"./scrollthumb":67}],69:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),t("jquery-mousewheel")(i),s=t("../../core/view"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.bind=o.utils.curry("mousewheel scroll",t.bind),t.cssClass=o.utils.curry("kdscrollview",t.cssClass),e.__super__.constructor.call(this,t,n),this.stopScrolling=!1}return a(e,t),e.prototype.hasScrollBars=function(){return this.hasVerticalScrollBars()||this.hasHorizontalScrollBars()},e.prototype.hasVerticalScrollBars=function(){return this.getScrollHeight()>this.getHeight()},e.prototype.hasHorizontalScrollBars=function(){return this.getScrollWidth()>this.getWidth()},e.prototype.getScrollHeight=function(){return this.getElement().scrollHeight},e.prototype.getScrollWidth=function(){return this.getElement().scrollWidth},e.prototype.getScrollTop=function(){return this.getElement().scrollTop},e.prototype.getScrollLeft=function(){return this.getElement().scrollLeft},e.prototype.setScrollHeight=function(t){return this.getElement().scrollHeight=t},e.prototype.setScrollWidth=function(t){return this.getElement().scrollWidth=t},e.prototype.setScrollTop=function(t){return this.getElement().scrollTop=t},e.prototype.setScrollLeft=function(t){return this.getElement().scrollLeft=t},e.prototype.scrollTo=function(t,e){var n,i,o;return o=t.top,i=t.left,n=t.duration,o||(o=0),i||(i=0),null!=n?this.$().animate({scrollTop:o,scrollLeft:i},n,e):(this.setScrollTop(o),this.setScrollLeft(i),"function"==typeof e?e():void 0)},e.prototype.scrollToBottom=function(){return this.scrollTo({top:this.getScrollHeight()-this.getHeight()})},e.prototype.scrollToSubView=function(t){var e,n,i,o,r,s;if(s=this.getY(),o=this.getHeight(),r=this.getScrollTop(),i=t.getY(),e=t.getHeight(),n=i-s+r,o>i-s+e&&i-s>=0);else{if(0>i-s)return this.scrollTo({top:n});if(i-s+e>o)return this.scrollTo({top:n-o+e})}},e.prototype.isAtBottom=function(){return this.getScrollTop()+this.getHeight()>=this.getScrollHeight()},e.prototype.mouseWheel=function(){return this.stopScrolling?!1:!0},e}(s)},{"../../core/kd":100,"../../core/view":104,jquery:119,"jquery-mousewheel":118}],70:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../core/customhtmlview"),e.exports=o=function(t){function e(t){null==t&&(t={}),t.tagName="a",t.cssClass="handle",null==t.value&&(t.value=0),t.draggable={axis:"x"},e.__super__.constructor.call(this,t),this.value=this.getOption("value")}return r(e,t),e.prototype.attachEvents=function(){var t,e,n,i,o;return i=this.parent.getOptions(),e=i.maxValue,n=i.minValue,o=i.width,t=this.value,this.on("DragStarted",function(){return t=this.value}),this.on("DragInAction",function(){var i,r;return i=this.dragState.position.relative.x,r=(e-n)*i/o,this.setValue(t+r),this.parent.getOption("snapOnDrag")?this.snap():void 0}),this.on("DragFinished",function(){return this.parent.getOption("snap")?this.snap():void 0})},e.prototype.getPosition=function(){var t,e,n,i,o,r;return o=this.parent.getOptions(),t=o.maxValue,e=o.minValue,r=this.parent.getWidth(),n=100*(this.value-e)/(t-e),i=r/100*n,i+"px"},e.prototype.setValue=function(t){var e,n,i;return n=this.getOptions(),e=n.leftLimit,i=n.rightLimit,"number"==typeof i&&(t=Math.min(t,i)),"number"==typeof e&&(t=Math.max(t,e)),this.value=t,this.setX(this.getPosition()),this.parent.setValue(t,this,!1)},e.prototype.getSnappedValue=function(t){var e,n,i;return e=this.parent.getOptions().interval,t||(t=this.value),e?(i=t%e,n=e/2,t=function(){switch(!1){case!(n>=i):return t-i;case!(i>n):return t+(e-i);default:return t}}()):void 0},e.prototype.snap=function(){var t,e;return t=this.parent.getOptions().interval,e=this.getSnappedValue(),t&&this.parent.getOption("snap")&&(this.setValue(e),this.parent.getOption("drawBar"))?this.parent.drawBar():void 0},e.prototype.viewAppended=function(){return this.setX(""+this.getPosition()),this.attachEvents(),this.parent.getOption("snap")?this.snap():void 0},e}(i)},{"../../core/customhtmlview":97}],71:[function(t,e,n){var i,o,r,s,a=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("../../core/kd"),o=t("../../core/customhtmlview"),r=t("./sliderbarhandleview"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),null==n&&(n={}),this._createLabel=a(this._createLabel,this),t.cssClass=i.utils.curry("sliderbar-container",t.cssClass),null==t.minValue&&(t.minValue=0),null==t.maxValue&&(t.maxValue=100),null==t.interval&&(t.interval=!1),null==t.drawBar&&(t.drawBar=!0),null==t.showLabels&&(t.showLabels=!0),null==t.snap&&(t.snap=!0),null==t.snapOnDrag&&(t.snapOnDrag=!1),t.width||(t.width=300),null==t.drawOpposite&&(t.drawOpposite=!1),e.__super__.constructor.call(this,t,n),this.handles=[],this.labels=[]}return u(e,t),e.prototype.createHandles=function(){var t,e,n,i,o,s;for(i=this.getOption("handles"),e=0,n=i.length;n>e;e++)s=i[e],this.handles.push(this.addSubView(t=new r({value:s})));return o=function(t,e){return t.options.value<e.options.value?-1:t.options.value>e.options.value?1:0},this.handles.sort(o),this.setClass("labeled")},e.prototype.drawBar=function(){var t,e,n,i,r,s,a,u,l;for(a=[],u=this.handles,n=0,s=u.length;s>n;n++)e=u[n],a.push(e.getRelativeX());return r=a.length,i=(r>1?parseInt(a.first):void 0)||0,l=parseInt(a.last),t=l-i,this.bar||this.addSubView(this.bar=new o({cssClass:"bar"})),this.bar.setWidth(t),this.bar.setX(i+"px")},e.prototype.drawOppositeBar=function(){var t,e,n,i,r,s,a;for(r=[],s=this.handles,n=0,i=s.length;i>n;n++)e=s[n],r.push(e.getRelativeX());return a=parseInt(r.last),t=this.getWidth()-a,this.oppositeBar||this.addSubView(this.oppositeBar=new o({cssClass:"opposite bar"})),this.oppositeBar.setWidth(t),this.oppositeBar.setX(a+"px")},e.prototype._createLabel=function(t){var e,n,i,r,s,a,u;return a=this.getOptions(),i=a.maxValue,r=a.minValue,e=a.interval,u=a.showLabels,s=100*(t-r)/(i-r),this.labels.push(this.addSubView(n=new o({cssClass:"sliderbar-label",partial:""+t}))),n.setX(s+"%")},e.prototype.addLabels=function(){var t,e,n,i,o,r,s,a,u,l,c,p,h,d;if(s=this.getOptions(),o=s.maxValue,r=s.minValue,t=s.interval,h=s.showLabels,Array.isArray(h)){for(c=[],e=0,i=h.length;i>e;e++)d=h[e],c.push(this._createLabel(d));return c}for(p=[],d=n=a=r,u=o,l=t;l>0?u>=n:n>=u;d=n+=l)p.push(this._createLabel(d));return p},e.prototype.getValues=function(){var t,e,n,i,o;for(i=this.handles,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t.getOptions().value);return o},e.prototype.setValue=function(t,e,n){return null==e&&(e=this.handles.first),null==n&&(n=!0),n&&e.setValue(t),this.getOption("drawBar")&&this.drawBar(),this.getOption("drawOpposite")&&this.drawOppositeBar(),this.setLimits(),this.emit("ValueIsChanging",e.value),this.emit("ValueChanged",e)},e.prototype.setLimits=function(){var t,e,n,i,o,r,s,a,u,l,c,p,h;if(u=this.getOptions(),r=u.maxValue,s=u.minValue,n=u.interval,1===this.handles.length)return this.handles.first.options.leftLimit=s,this.handles.first.options.rightLimit=r;for(l=this.handles,h=[],e=i=0,o=l.length;o>i;e=++i)t=l[e],a=t.getOptions(),a.leftLimit=(null!=(c=this.handles[e-1])?c.value:void 0)+n||s,h.push(a.rightLimit=(null!=(p=this.handles[e+1])?p.value:void 0)-n||r);return h},e.prototype.attachEvents=function(){return this.on("click",function(t){var e,n,i,o,r,s,a,u,l,c,p,h,d,f,g;for(p=this.getOptions(),u=p.maxValue,l=p.minValue,d=this.getWidth(),e=t.pageX-this.getBounds().x,n=(u-l)*e/d+l,f=this.handles.first.getSnappedValue(n),i=null,c=null,h=this.handles,s=0,a=h.length;a>s;s++)r=h[s],g=r.value,o=Math.abs(n-g),(c>o||!c)&&(c=o,i=r);return i.setValue(f)})},e.prototype.viewAppended=function(){return this.setWidth(this.getOption("width")),this.createHandles(),this.setLimits(),this.getOption("drawBar")&&this.drawBar(),this.getOption("drawOpposite")&&this.drawOppositeBar(),this.getOption("showLabels")&&this.addLabels(),this.attachEvents()},e}(o)},{"../../core/customhtmlview":97,"../../core/kd":100,"./sliderbarhandleview":70}],72:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kd-page",t.cssClass),e.__super__.constructor.call(this,t,n),this._currentCssClass=null}return s(e,t),e.prototype.move=function(t){return t?(this.unsetClass(this._currentCssClass),this._currentCssClass=t,this.setClass(t)):void 0},e}(r)},{"../../core/kd":100,"../../core/view":104}],73:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=t("../../core/kd"),i=t("hammerjs"),s=t("../../core/view"),e.exports=r=function(t){function e(t,n){var r,s,a,u,l,c,p,h;null==t&&(t={}),t.cssClass=o.utils.curry("kd-slide",t.cssClass),null==t.animation&&(t.animation="move"),null==t.direction&&(t.direction="leftToRight"),null==t.touchEnabled&&(t.touchEnabled=!0),e.__super__.constructor.call(this,t,n),this.pages=[],this._coordsY=[],this._currentX=0,l=this.getOptions(),r=l.animation,s=l.direction,h=l.touchEnabled,c=[[r+"FromTop",r+"FromBottom"],[r+"ToBottom",r+"ToTop"]],u=[[r+"FromLeft",r+"FromRight"],[r+"ToRight",r+"ToLeft"]],"topToBottom"===s?(this.xcoordAnimations=c,this.ycoordAnimations=u,p=["nextSubPage","previousSubPage","nextPage","previousPage"]):(this.xcoordAnimations=u,this.ycoordAnimations=c,p=["nextPage","previousPage","nextSubPage","previousSubPage"]),h&&(a=i(this.getElement()),a.on("swipeleft",this.bound(p[0])),a.on("swiperight",this.bound(p[1])),a.on("swipeup",this.bound(p[2])),a.on("swipedown",this.bound(p[3])),a.on("touchmove",function(t){return t.preventDefault()}))}var n,r,s;return a(e,t),s=[1,2],n=s[0],r=s[1],e.prototype.addPage=function(t){return this.addSubView(t),0===this.pages.length&&(t.setClass("current"),this.currentPage=t),this.pages.push([t]),this._coordsY.push(0)},e.prototype.addSubPage=function(t){var e;return this.addSubView(t),e=this.pages.last,e.push(t)},e.prototype.nextPage=function(){return this.jump(this._currentX+1,n)},e.prototype.previousPage=function(){return this.jump(this._currentX-1,n)},e.prototype.nextSubPage=function(){return this.jump(this._coordsY[this._currentX]+1,r)},e.prototype.previousSubPage=function(){return this.jump(this._coordsY[this._currentX]-1,r)},e.prototype.jump=function(t,e,i){var r,s,a,u,l,c,p,h;return null==e&&(e=1),null==i&&(i=o.noop),e===n?(p=[this.pages,this._currentX],c=p[0],r=p[1]):(h=[this.pages[this._currentX],this._coordsY[this._currentX]],c=h[0],r=h[1]),c.length<=1||(u=Math.min(c.length-1,Math.max(0,t)),r===u)?void 0:(a=r>u?0:1,e===n?(s=c[r][this._coordsY[r]],l=c[u][this._coordsY[u]],this._currentX=u,l.move(this.xcoordAnimations[0][a]),s.move(this.xcoordAnimations[1][a])):(s=c[r],l=c[u],this._coordsY[this._currentX]=u,l.move(this.ycoordAnimations[0][a]),s.move(this.ycoordAnimations[1][a])),this.emit("CurrentPageChanged",{x:this._currentX,y:this._coordsY[this._currentX]}),l.setClass("current"),this.currentPage=l,this.utils.wait(600,function(){return s.unsetClass("current"),i()}))},e}(s)},{"../../core/kd":100,"../../core/view":104,hammerjs:115}],74:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=t("../../core/view"),o=t("./splitview"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),t.cssClass||(t.cssClass="kdsplitcomboview"),e.__super__.constructor.call(this,t,n),this.init(t)}return s(e,t),e.prototype.init=function(t){return this.addSubView(this.createSplitView(t.direction,t.sizes,t.views))},e.prototype.createSplitView=function(t,e,n){var i,r,s,a,u,l;for(l=[],s=r=0,a=n.length;a>r;s=++r)i=n[s],"split"===i.type?(u=i.options,l.push(this.createSplitView(u.direction,u.sizes,i.views))):l.push(i);return new o({type:t,sizes:e,views:l})},e}(r)},{"../../core/view":104,"./splitview":77}],75:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=t("debug")("kd:split:splitpanel"),i=t("../../core/kd"),r=t("./splitview"),o=t("../scrollview/scrollview"),e.exports=s=function(t){function e(t,n){var i,o;null==t&&(t={}),null==t.fixed&&(t.fixed=!1),t.view||(t.view=null),e.__super__.constructor.call(this,t,n),o=this.getOptions().type,this.vertical="vertical"===o.toLowerCase(),i=this.getOptions(),this.fixed=i.fixed,this.size=i.size,this.index=i.index}return u(e,t),e.prototype.splitPanel=function(t){var e,n,i,o;return null==t&&(t={}),this.subViews.first instanceof r?void a("panel is already split"):(o=this.subViews.first,e=this.parent.panels.indexOf(this),this.subViews=[],o&&(o.detach(),o.unsetParent(),t.views=[o]),t.colored=!0,i=this.parent.getOptions().splitClass,n=new(i||r)(t),this.parent.setView(n,e),n)},e.prototype._getSize=function(){return this.vertical?this.getWidth():this.getHeight()},e.prototype._setSize=function(t){return this._wouldResize(t)?(0>t&&(t=0),this.vertical?this.setWidth(t):this.setHeight(t),this.parent.sizes[this.index]=this.size=t,this.parent.emit("PanelDidResize",{panel:this}),this.emit("PanelDidResize",{newSize:t}),t):!1},e.prototype._wouldResize=function(t){var e,n,i,o;return n=null!=(i=this.parent.minimums[this.index])?i:0,e=null!=(o=this.parent.maximums[this.index])?o:999999,e>=t&&t>=n?!0:(n>t?this.parent._panelReachedMinimum(this.index):t>e&&this.parent._panelReachedMaximum(this.index),!1)},e.prototype._setOffset=function(t){return t=Math.max(t,0),this.vertical?this.setX(t):this.setY(t)},e.prototype._getOffset=function(){return this.vertical?parseInt(this.getElement().style.left,10):parseInt(this.getElement().style.top,10)},e}(o)},{"../../core/kd":100,"../scrollview/scrollview":69,"./splitview":77,debug:112}],76:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../../core/view"),e.exports=i=function(t){function e(t,n){var i,o;null==t&&(t={}),t.handleSize||(t.handleSize=2),this.isVertical="vertical"===t.type.toLowerCase(),i=this.isVertical?"x":"y",null==t.draggable&&(t.draggable={axis:i}),e.__super__.constructor.call(this,t,n),o=this.getOptions(),this.panel0=o.panel0,this.panel1=o.panel1,this.on("DragFinished",this.dragFinished),this.on("DragInAction",this.dragInAction),this.on("DragStarted",this.dragStarted)}return r(e,t),e.prototype._setOffset=function(t){var e;return 0>t&&(t=0),e=t-this.getOption("handleSize"),this.$().css(this.isVertical?{left:e}:{top:e})},e.prototype._getOffset=function(t){
return this.isVertical?this.getRelativeX():this.getRelativeY()},e.prototype._animateTo=function(t){var e;return e=this.parent.options.duration,this.isVertical?(t-=this.getWidth()/2,this.$().animate({left:t},e)):(t-=this.getHeight()/2,this.$().animate({top:t},e))},e.prototype.dragFinished=function(t,e){return this.parent._resizeDidStop(t)},e.prototype.dragStarted=function(t,e){return this.parent._resizeDidStart(),this.rOffset=this._getOffset(),this.p0Size=this.panel0._getSize(),this.p1Size=this.panel1._getSize(),this.p1Offset=this.panel1._getOffset()},e.prototype.dragInAction=function(t,e){return this.isVertical?this.panel0._wouldResize(t+this.p0Size)?this.parent.resizePanel(t+this.p0Size):this._setOffset(this.panel1._getOffset()):this.panel0._wouldResize(e+this.p0Size)?this.parent.resizePanel(e+this.p0Size):this._setOffset(this.panel1._getOffset())},e}(o)},{"../../core/view":104}],77:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;u=t("debug")("kd:split:splitview"),i=t("../../core/kd"),a=t("../../core/view"),s=t("./splitpanel"),o=t("./splitresizer"),e.exports=r=function(t){function e(t,n){var o;null==t&&(t={}),t.type||(t.type="vertical"),null==t.resizable&&(t.resizable=!0),t.sizes||(t.sizes=[.5,.5]),t.minimums||(t.minimums=[0,0]),t.maximums||(t.maximums=["100%","100%"]),t.views||(t.views=[]),t.fixed||(t.fixed=[]),t.duration||(t.duration=200),t.separator||(t.separator=null),null==t.colored&&(t.colored=!1),t.resizeHandleSize||(t.resizeHandleSize=2),t.type=t.type.toLowerCase(),t.cssClass=i.utils.curry("kdsplitview kdsplitview-"+t.type,t.cssClass),e.__super__.constructor.call(this,t,n),o=this.getOptions(),this.type=o.type,this.resizable=o.resizable,this.panels=[],this.resizer=null,this.sizes=[],this.minimums=[],this.maximums=[],this.size=0}return l(e,t),e.prototype.viewAppended=function(){var t;return this._calculateSizes(),this._createPanels(),this._putPanels(),this._resizePanels(),this._putViews(),this.resizable&&this.panels[1]&&this._createResizer(),this.listenWindowResize(),null!=(t=this.parent)?t.on("PanelDidResize",i.utils.debounce(10,this.bound("_windowDidResize"))):void 0},e.prototype._createPanels=function(){return this._createPanel(0),null!=this.sizes[1]?this._createPanel(1):void 0},e.prototype._createPanel=function(t){var e,n,i,o;return o=this.getOptions(),e=o.fixed,i=o.panelClass,n=new(i||s)({cssClass:"kdsplitview-panel panel-"+t,index:t,type:this.type,size:this.sizes[t],fixed:!!e[t]}),n.on("KDObjectWillBeDestroyed",function(t){return function(){return t._panelIsBeingDestroyed(n)}}(this)),this.emit("SplitPanelCreated",n),this.panels[t]=n,n},e.prototype._putPanels=function(){return this.addSubView(this.panels[0]),this.addSubView(this.panels[1]),this.getOptions().colored?(this.panels[0].setCss({backgroundColor:i.utils.getRandomRGB()}),this.panels[1].setCss({backgroundColor:i.utils.getRandomRGB()})):void 0},e.prototype._resizePanels=function(){return this.resizePanel(this.sizes[0])},e.prototype._panelIsBeingDestroyed=function(t){var e,n;return n=this.getOptions().views,e=t.index,this.panels[e]=null,this.sizes[e]=null,this.minimums[e]=null,this.maximums[e]=null,n[e]=null},e.prototype._createResizer=function(){var t,e,n;return t=this.getOptions(),n=t.type,e=t.resizeHandleSize,this.resizer=this.addSubView(new o({cssClass:"kdsplitview-resizer "+n,type:this.type,panel0:this.panels[0],panel1:this.panels[1],handleSize:e})),this._repositionResizer()},e.prototype._repositionResizer=function(){return this.resizer._setOffset(this.sizes[0])},e.prototype._putViews=function(){var t;return(t=this.getOptions().views)?(t[0]&&this.setView(t[0],0),t[1]?this.setView(t[1],1):void 0):void 0},e.prototype._calculateSizes=function(){var t,e,n,i,o;return this._setMinsAndMaxs(),n=this.getOptions().sizes,t=n,i=this._getSize(),e=[],e[0]=this._getLegitPanelSize(this._sanitizeSize(t[0]),0),e[1]=this._getLegitPanelSize(this._sanitizeSize(t[1]),1),o=e[0]+e[1],o>i?e[1]=i-e[0]:i>o&&(!t[0]||t[1]&&"auto"!==t[1]?!t[1]||t[0]&&"auto"!==t[0]||(e[0]=i-e[1]):e[1]=i-e[0]),this.size=i,this.sizes=e},e.prototype._sanitizeSize=function(t){return"number"==typeof t?1>t&&t>0?this._getSize()*t:t:/px$/.test(t)?parseInt(t,10):/%$/.test(t)?this._getSize()/100*parseInt(t,10):null},e.prototype._setMinsAndMaxs=function(){var t,e,n;return n=this.getOptions(),e=n.minimums,t=n.maximums,this.minimums[0]=this._sanitizeSize(e[0]),this.minimums[1]=this._sanitizeSize(e[1]),this.maximums[0]=this._sanitizeSize(t[0]),this.maximums[1]=this._sanitizeSize(t[1])},e.prototype._getSize=function(){return this.size?this.size:this.isVertical()?this.getWidth():this.getHeight()},e.prototype._setSize=function(t){return this.isVertical()?this.setWidth(t):this.setHeight(t)},e.prototype._getParentSize=function(){return this.isVertical()?this.parent&&this.parent.isInDom()?this.parent.getWidth():window.innerWidth:this.parent&&this.parent.isInDom()?this.parent.getHeight():window.innerHeight},e.prototype._getLegitPanelSize=function(t,e){var n,i;return i=this.minimums[e]||0,n=this.maximums[e]||this._getSize(),Math.min(Math.max(i,t),n)},e.prototype._windowDidResize=function(){return this.size=null,this._setSize(this._getParentSize()),this._calculateSizes(),this._resizePanels(),this.resizable?this._repositionResizer():void 0},e.prototype.mouseUp=function(t){return this.$().unbind("mousemove.resizeHandle")},e.prototype._panelReachedMinimum=function(t){var e;return e=this.panels[t],e.emit("PanelReachedMinimum"),this.emit("PanelReachedMinimum",{panel:e})},e.prototype._panelReachedMaximum=function(t){var e;return e=this.panels[t],e.emit("PanelReachedMaximum"),this.emit("PanelReachedMaximum",{panel:e})},e.prototype._resizeDidStart=function(t){return this.emit("ResizeDidStart",t),document.body.classList.add("resize-in-action")},e.prototype._resizeDidStop=function(){var t;return t=i.utils.throttle(1e3,function(t){return document.body.classList.remove("resize-in-action")}),function(e){var n,i;return n=this.sizes[0]/this._getSize(),i=this.sizes[1]/this._getSize(),this.setOption("sizes",[n,i]),this.emit("ResizeDidStop",e),t(this)}}(),e.prototype.isVertical=function(){return"vertical"===this.type},e.prototype.getPanelIndex=function(t){return t.index},e.prototype.hidePanel=function(t,e){var n;return null==e&&(e=i.noop),n=this.panels[t],n._lastSize=n._getSize(),n.isFloating?(n.setCss("width",0),e({panel:n,index:t})):this.resizePanel(0,t,e.bind(this,{panel:n,index:t}))},e.prototype.showPanel=function(t,e){var n,o,r;return null==e&&(e=i.noop),r=this.panels[t],o=r._lastSize||this.sizes[t]||200,r._lastSize=null,r.isFloating?(r.setCss("width",o),n=r.getRelativeX(),n>0&&r.setCss("left",n-o),i.getSingleton("windowController").addLayer(r),r.once("ReceivedClickElsewhere",function(e){return function(){return e.hidePanel(t)}}(this)),e({panel:r,index:t})):this.resizePanel(o,t,e.bind(this,{panel:r,index:t}))},e.prototype.setFloatingPanel=function(t,e){var n;return null==e&&(e=0),n=this.panels[t],n.setClass("floating"),n.isFloating=!0,n._lastSize=n._getSize(),this.resizePanel(e,t),this.emit("PanelSetToFloating",n)},e.prototype.unsetFloatingPanel=function(t){var e;return e=this.panels[t],delete e.isFloating,e.unsetClass("floating"),this.showPanel(t),this.emit("PanelSetToNormal",e)},e.prototype.resizePanel=function(t,e,n,o){var r,s,a,u;return null==t&&(t=0),null==e&&(e=0),null==n&&(n=i.noop),null==o&&(o=!1),null!=this.sizes[1]&&!this.beingResized&&this.panels.first&&this.panels.last?(this._resizeDidStart(),t=this._sanitizeSize(t),t>this._getSize()&&(t=this._getSize()),s=this.panels[e],r=this.panels[(e+1)%2],s._getSize()!==t||o?(this.beingResized=!0,t=this._getLegitPanelSize(t,e),u=[t,this._getSize()-t],a=e?u[1]:u[0],s._setSize(u[0]),r._setSize(u[1]),this.panels[1]._setOffset(a),this.resizer&&this.resizer._setOffset(a),this._resizeDidStop(),this.beingResized=!1):(this._resizeDidStop(),void n())):void 0},e.prototype.merge=function(){var t;return t=this.getOptions().views,this.getOptions().views=[],t.forEach(function(t){return function(e,n){return e?(e.detach(),e.unsetParent(),t.panels[n].subViews=[]):void 0}}(this)),this.emit("SplitIsBeingMerged",t),this.destroy()},e.prototype.removePanel=function(t){},e.prototype.setView=function(t,e){return t?e>this.panels.length?u("missing index"):t instanceof a?this.panels[e].addSubView(t):u("invalid view type"):u("missing view")},e}(a)},{"../../core/kd":100,"../../core/view":104,"./splitpanel":75,"./splitresizer":76,debug:112}],78:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../../core/view"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),e.__super__.constructor.call(this,t,n),this.tabs=new o({cssClass:"kdtabhandle-tabs clearfix"})}return r(e,t),e.prototype.viewAppended=function(){return this.addSubView(this.tabs)},e}(o)},{"../../core/view":104}],79:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../core/kd"),o=t("../../core/customhtmlview"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.cssClass=i.utils.curry("kdtabhandle-movenav",t.cssClass),e.__super__.constructor.call(this,t,n),this._current=0}return s(e,t),e.prototype.viewAppended=function(){return this.addSubView(this.left=new o({cssClass:"leftButton",click:function(t){return function(){return t.move("right")}}(this)})),this.addSubView(this.right=new o({cssClass:"rightButton",click:function(t){return function(){return t.move("left")}}(this)})),this.listenWindowResize()},e.prototype._windowDidResize=function(){var t;return t=this.getDelegate(),t.getWidth()>t._tabsWidth+50?(this.move("initial"),this.hide()):this.show()},e.prototype.move=function(t){var e,n,i;switch(i=(e=this.getDelegate()).tabHandleContainer,n=e.getOption("maxHandleWidth"),t){case"left":if(n*e.handles.length+100<i.getWidth()-this._current)return;this._current-=n;break;case"right":if(0===this._current)return;this._current+=n;break;case"initial":this._current=0}return i.tabs.setCss("marginLeft",this._current+"px")},e}(o)},{"../../core/customhtmlview":97,"../../core/kd":100}],80:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){null==t&&(t={}),null==t.hidden&&(t.hidden=!1),t.title||(t.title="Title"),null==t.pane&&(t.pane=null),null==t.view&&(t.view=null),null==t.sortable&&(t.sortable=!1),null==t.closable&&(t.closable=!0),null==t.addTitleAttribute&&(t.addTitleAttribute=!0),t.sortable&&(t.draggable={axis:"x"},this.dragStartPosX=null),e.__super__.constructor.call(this,t,n),this.on("DragStarted",function(t){return function(e,n){return t.startedDragFromCloseElement=i(e.target).hasClass("close-tab"),t.handleDragStart(e,n)}}(this)),this.on("DragInAction",function(t){return function(e,n){return t.startedDragFromCloseElement&&(t.dragIsAllowed=!1),t.handleDragInAction(e,n)}}(this)),this.on("DragFinished",function(t){return function(e){return t.handleDragFinished(e),t.getDelegate().showPaneByIndex(t.index)}}(this))}return s(e,t),e.prototype.setDomElement=function(t){var e,n,o,r,s,a,u;return null==t&&(t=""),s=this.getOptions(),r=s.hidden,n=s.closable,a=s.tagName,u=s.title,e=s.addTitleAttribute,t=r?t+" hidden":t,o=n?"<span class='close-tab'></span>":"",u=e?"title='"+u+"'":"",this.domElement=i("<"+a+" "+u+" class='kdtabhandle "+t+"'>"+o+"</"+a+">")},e.prototype.viewAppended=function(){var t;return t=this.getOptions().view,t&&t instanceof r?this.addSubView(t):this.setPartial(this.partial())},e.prototype.partial=function(){return"<b>"+(this.getOptions().title||"Default Title")+"</b>"},e.prototype.makeActive=function(){return this.getDomElement().addClass("active")},e.prototype.makeInactive=function(){return this.getDomElement().removeClass("active")},e.prototype.setTitle=function(t){return this.setAttribute("title",t)},e.prototype.isHidden=function(){return this.getOptions().hidden},e.prototype.getWidth=function(){return this.$().outerWidth(!1)||0},e.prototype.cloneElement=function(t){var e,n,i;return n=this.getOptions().pane,i=n.getDelegate(),e=i.tabHandleContainer.tabs,this.$cloned=this.$().clone(),e.$().append(this.$cloned),this.$cloned.css({marginLeft:-(i.handles.length-this.index)*this.getWidth()})},e.prototype.reorderTabHandles=function(t){var e,n,i,o;if(e=this.dragState.direction,o=this.getWidth(),"left"===e.current.x){if(i=this.index-1,n=-(o*this.draggedItemIndex-o*i-o/2),n>t)return this.emit("HandleIndexHasChanged",this.index,"left"),this.index--}else if(i=this.index+1,n=o*i-o*this.draggedItemIndex-o/2,t>n)return this.emit("HandleIndexHasChanged",this.index,"right"),this.index++},e.prototype.handleDragStart=function(t,e){var n,i,o;return i=this.getOptions().pane,o=i.getDelegate(),n=o.handles,this.index=n.indexOf(this),this.draggedItemIndex=this.index},e.prototype.handleDragInAction=function(t,e){return this.dragIsAllowed?-(this.draggedItemIndex*this.getWidth())>t?this.$().css({left:0}):(this.$cloned||this.cloneElement(t),this.$().css({opacity:0}),this.$cloned.css({left:t}),this.reorderTabHandles(t)):void 0},e.prototype.handleDragFinished=function(t){return this.$cloned?(this.$cloned.remove(),this.$().css({left:"",opacity:1,marginLeft:""}),this.targetTabHandle||0!==this.draggedItemIndex||this.$().css({left:0}),this.targetTabHandle=null,this.$cloned=null):void 0},e}(r)},{"../../core/view":104,jquery:119}],81:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=t("debug")("kd:tabs:tabpaneview"),i=t("../../core/kd"),r=t("../../core/view"),e.exports=o=function(t){function e(t,n){var o;null==t&&(t={}),null==t.hiddenHandle&&(t.hiddenHandle=!1),t.name||(t.name=""),null==t.detachable&&(t.detachable=!0),o="kdtabpaneview kdhiddentab "+i.utils.slugify(t.name.toLowerCase())+" clearfix",t.cssClass=i.utils.curry(o,t.cssClass),e.__super__.constructor.call(this,t,n),this.name=t.name,this.lastScrollTops={parent:0,self:0},this.on("KDTabPaneActive",this.bound("setMainView")),this.on("KDTabPaneLazyViewAdded",this.bound("fireLazyCallback"))}return a(e,t),e.prototype.show=function(){var t;return this.getOption("detachable")&&null!=(t=this.parent)&&t.getElement().appendChild(this.getElement()),this.unsetClass("kdhiddentab"),this.setClass("active"),this.active=!0,this.emit("KDTabPaneActive"),this.applyScrollTops()},e.prototype.hide=function(){var t;if(this.active)return this.setScrollTops(),this.emit("KDTabPaneInactive"),this.unsetClass("active"),this.setClass("kdhiddentab"),this.getOption("detachable")&&null!=(t=this.parent)&&t.getElement().removeChild(this.getElement()),this.active=!1},e.prototype.setScrollTops=function(){var t;return this.lastScrollTops.parent=(null!=(t=this.parent)?t.getElement().scrollTop:void 0)||0,this.lastScrollTops.self=this.getElement().scrollTop},e.prototype.applyScrollTops=function(){return i.utils.defer(function(t){return function(){var e;return t.getElement().scrollTop=t.lastScrollTops.self,null!=(e=t.parent)?e.getElement().scrollTop=t.lastScrollTops.parent:void 0}}(this))},e.prototype.setTitle=function(t){return this.getDelegate().setPaneTitle(this,t),this.name=t},e.prototype.getHandle=function(){return this.getDelegate().getHandleByPane(this)},e.prototype.hideTabCloseIcon=function(){return this.getDelegate().hideCloseIcon(this)},e.prototype.setMainView=function(t){var e,n,i,o,a;if(t||(i=this.getOptions(),t=i.view,a=i.viewOptions),!this.mainView&&(t||a)){if(t instanceof r)this.mainView=this.addSubView(t);else{if(!a)return s("invalid view type");o=a.viewClass,n=a.options,e=a.data,this.mainView=this.addSubView(new o(n,e))}return this.emit("KDTabPaneLazyViewAdded",this,this.mainView),this.mainView}},e.prototype.getMainView=function(){return this.mainView},e.prototype.destroyMainView=function(){return this.mainView.destroy(),this.mainView=null},e.prototype.fireLazyCallback=function(t,e){var n,i;return i=this.getOptions().viewOptions,i&&(n=i.callback)?n.call(this,t,e):void 0},e}(r)},{"../../core/kd":100,"../../core/view":104,debug:112}],82:[function(t,e,n){var i,o,r,s,a,u,l,c,p,h=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;p=t("debug")("kd:tabs:tabpaneview"),i=t("jquery"),o=t("../../core/kd"),u=t("./tabhandleview"),l=t("./tabpaneview"),r=t("../scrollview/scrollview"),s=t("./tabhandlecontainer"),a=t("./tabhandlemovenav"),e.exports=c=function(t){function e(t,n){var i;null==t&&(t={}),null==t.resizeTabHandles&&(t.resizeTabHandles=!1),null==t.maxHandleWidth&&(t.maxHandleWidth=128),null==t.minHandleWidth&&(t.minHandleWidth=30),null==t.lastTabHandleMargin&&(t.lastTabHandleMargin=0),null==t.sortable&&(t.sortable=!1),null==t.hideHandleContainer&&(t.hideHandleContainer=!1),null==t.hideHandleCloseIcons&&(t.hideHandleCloseIcons=!1),null==t.enableMoveTabHandle&&(t.enableMoveTabHandle=!1),null==t.detachPanes&&(t.detachPanes=!0),null==t.tabHandleContainer&&(t.tabHandleContainer=null),t.tabHandleClass||(t.tabHandleClass=u),t.paneData||(t.paneData=[]),t.cssClass=o.utils.curry("kdtabview",t.cssClass),this.handles=[],this.panes=[],this.selectedIndex=[],this.tabConstructor=null!=(i=t.tabClass)?i:l,this.lastOpenPaneIndex=0,e.__super__.constructor.call(this,t,n),this.activePane=null,this.handlesHidden=!1,this.blockTabHandleResize=!1,this.setTabHandleContainer(t.tabHandleContainer),t.enableMoveTabHandle&&this.setTabHandleMoveNav(),t.hideHandleCloseIcons&&this.hideHandleCloseIcons(),t.hideHandleContainer&&this.hideHandleContainer(),this.on("PaneRemoved",function(t){return function(){return t.resizeTabHandles()}}(this)),this.on("PaneAdded",function(t){return function(){return t.blockTabHandleResize=!1,t.resizeTabHandles()}}(this)),this.on("PaneDidShow",this.bound("setActivePane")),t.paneData.length>0&&this.on("viewAppended",function(e){return function(){return e.createPanes(t.paneData)}}(this)),this.tabHandleContainer.on("mouseleave",function(t){return function(){return t.blockTabHandleResize?(t.blockTabHandleResize=!1,t.resizeTabHandles()):void 0}}(this))}return h(e,t),e.prototype.createPanes=function(t){var e,n,i,o;for(null==t&&(t=this.getOptions().paneData),o=[],e=0,n=t.length;n>e;e++)i=t[e],o.push(this.addPane(new this.tabConstructor(i,null)));return o},e.prototype.addPane=function(t,e){var n,i,r,s,a,u,c,h,d,f,g,m,v,y,w,b;return null==e&&(e=null!=(d=t.getOptions().shouldShow)?d:!0),t instanceof l?(f=this.getOptions(),y=f.tabHandleClass,v=f.sortable,i=f.detachPanes,t.setOption("detachable",i),this.panes.push(t),g=t.getOptions(),c=g.name,b=g.title,r=g.hiddenHandle,w=g.tabHandleView,n=g.closable,s=g.lazy,h=t.tabHandle||new y({pane:t,title:c||b,hidden:r,cssClass:o.utils.slugify(c.toLowerCase()),view:w,closable:n,sortable:v,mousedown:function(t){var e,n;return e=this.getOptions().pane,n=e.getDelegate(),n.handleClicked(t,this)}}),this.addHandle(h),t.tabHandle=h,this.appendPane(t),e&&!s&&this.showPane(t),this.emit("PaneAdded",t),m=this.getOptions(),u=m.minHandleWidth,a=m.maxHandleWidth,h.getDomElement().css({maxWidth:a,minWidth:u}),h.on("HandleIndexHasChanged",this.bound("resortTabHandles")),t):(c=(null!=(null!=t?t.constructor:void 0)).name,p("can't add "+(c?c:void 0)+" as a pane, use kd.TabPaneView instead"),!1)},e.prototype.resortTabHandles=function(t,e){var n,i,o,r,s;if(!(0===t&&"left"===e||t===this.handles.length-1&&"right"===e||t>=this.handles.length||0>t))return this.handles[0].unsetClass("first"),"right"===e?(n="insertAfter",s=t+1):(n="insertBefore",s=t-1),this.handles[t].$()[n](this.handles[s].$()),i="left"===e?t-1:t+1,o=this.handles.splice(t,1),r=this.panes.splice(t,1),this.handles.splice(i,0,o[0]),this.panes.splice(i,0,r[0]),this.handles[0].setClass("first"),this.emit("TabsSorted")},e.prototype.removePane=function(t,e){var n,i,o,r,s;return null==e&&(e=!1),t.emit("KDTabPaneDestroy"),o=this.getPaneIndex(t),r=this.getActivePane()===t,this.panes.splice(o,1),i=this.getHandleByIndex(o),this.handles.splice(o,1),e?(this.panes=this.panes.filter(function(e){return e!==t}),this.handles=this.handles.filter(function(t){return t!==i}),t.detach(),i.detach()):(t.destroy(),i.destroy()),r&&((s=this.getPaneByIndex(this.lastOpenPaneIndex))?this.showPane(s):(n=this.getPaneByIndex(0))&&this.showPane(n)),this.emit("PaneRemoved",{pane:t,handle:i}),{pane:t,handle:i}},e.prototype.removePaneByName=function(t){var e,n,i,o,r;for(o=this.panes,r=[],e=0,n=o.length;n>e;e++){if(i=o[e],i.name===t){this.removePane(i);break}r.push(void 0)}return r},e.prototype.appendHandleContainer=function(){return this.addSubView(this.tabHandleContainer)},e.prototype.appendPane=function(t){return t.setDelegate(this),this.addSubView(t)},e.prototype.appendHandle=function(t){var e,n,i;return this.handleHeight||(this.handleHeight=this.tabHandleContainer.getHeight()),t.setDelegate(this),this.tabHandleContainer.tabs.addSubView(t),i=this.getOptions(),e=i.enableMoveTabHandle,n=i.maxHandleWidth,e?this._tabsWidth=this.handles.length*n:void 0},e.prototype.addHandle=function(t){var e;return t instanceof u?(this.handles.push(t),this.appendHandle(t),t.getOptions().hidden&&t.setClass("hidden"),t):(e=(null!=(null!=t?t.constructor:void 0)).name,p("can't add "+(null!=e?e:void 0)+" as a pane, use kd.TabHandleView instead"),!1)},e.prototype.removeHandle=function(){},e.prototype.showPane=function(t){var e,n,i;if(t&&(e=this.getActivePane(),t!==e))return e&&(this.lastOpenPaneIndex=this.getPaneIndex(e)),this.hideAllPanes(),t.show(),i=this.getPaneIndex(t),n=this.getHandleByIndex(i),n.makeActive(),t.emit("PaneDidShow"),this.emit("PaneDidShow",t,i),t},e.prototype.hideAllPanes=function(){var t,e,n,i,o,r,s,a,u;for(s=this.panes,e=0,i=s.length;i>e;e++)r=s[e],r&&r.hide();for(a=this.handles,u=[],n=0,o=a.length;o>n;n++)t=a[n],t&&u.push(t.makeInactive());return u},e.prototype.hideHandleContainer=function(){return this.tabHandleContainer.hide(),this.handlesHidden=!0},e.prototype.showHandleContainer=function(){return this.tabHandleContainer.show(),this.handlesHidden=!1},e.prototype.toggleHandleContainer=function(t){return null==t&&(t=0),this.tabHandleContainer.$().toggle(t)},e.prototype.hideHandleCloseIcons=function(){return this.tabHandleContainer.$().addClass("hide-close-icons")},e.prototype.showHandleCloseIcons=function(){return this.tabHandleContainer.$().removeClass("hide-close-icons")},e.prototype.handleMouseDownDefaultAction=function(t,e){var n,i,o,r,s,a;for(s=this.handles,a=[],o=i=0,r=s.length;r>i;o=++i)n=s[o],t===n&&a.push(this.handleClicked(o,e));return a},e.prototype.handleClicked=function(t,e){var n;return n=e.getOptions().pane,i(t.target).hasClass("close-tab")?(this.blockTabHandleResize=!0,this.removePane(n),!1):this.showPane(n)},e.prototype.setTabHandleContainer=function(t){return null!=t?(null!=this.tabHandleContainer&&this.tabHandleContainer.destroy(),this.tabHandleContainer=t):(this.tabHandleContainer=new s,this.appendHandleContainer()),this.tabHandleContainer.setClass("kdtabhandlecontainer")},e.prototype.getTabHandleContainer=function(){return this.tabHandleContainer},e.prototype.setTabHandleMoveNav=function(){return this.tabHandleContainer.addSubView(new a({delegate:this}))},e.prototype.checkPaneExistenceById=function(t){var e,n,i,o,r;for(r=!1,o=this.panes,e=0,n=o.length;n>e;e++)i=o[e],i.id===t&&(r=!0);return r},e.prototype.getPaneByName=function(t){var e,n,i,o,r;for(r=!1,o=this.panes,e=0,n=o.length;n>e;e++)i=o[e],i.name===t&&(r=i);return r},e.prototype.getPaneById=function(t){var e,n,i,o,r;for(o=null,r=this.panes,e=0,n=r.length;n>e;e++)i=r[e],i.id===t&&(o=i);return o},e.prototype.getActivePane=function(){return this.activePane},e.prototype.getActivePaneIndex=function(){return this.getPaneIndex(this.getActivePane())},e.prototype.setActivePane=function(t){this.activePane=t},e.prototype.getPaneByIndex=function(t){return this.panes[t]},e.prototype.getHandleByIndex=function(t){return this.handles[t]},e.prototype.getPaneIndex=function(t){if(!t)throw new Error("no pane provided!");return this.panes.indexOf(t)},e.prototype.showPaneByIndex=function(t){return this.showPane(this.getPaneByIndex(t))},e.prototype.showPaneByName=function(t){return this.showPane(this.getPaneByName(t))},e.prototype.showNextPane=function(){var t,e;return e=this.getActivePane(),t=this.getPaneIndex(e),this.showPane(this.getPaneByIndex(t+1))},e.prototype.showPreviousPane=function(){var t,e;return e=this.getActivePane(),t=this.getPaneIndex(e),this.showPane(this.getPaneByIndex(t-1))},e.prototype.setPaneTitle=function(t,e){var n;return n=this.getHandleByPane(t),n.getDomElement().find("b").text(e),n.setAttribute("title",e)},e.prototype.getHandleByPane=function(t){var e,n;return n=this.getPaneIndex(t),e=this.getHandleByIndex(n)},e.prototype.hideCloseIcon=function(t){var e,n;return n=this.getPaneIndex(t),e=this.getHandleByIndex(n),e.getDomElement().addClass("hide-close-icon")},e.prototype.getVisibleHandles=function(){return this.handles.filter(function(t){return t.isHidden()===!1})},e.prototype.getVisibleTabs=function(){return this.panes.filter(function(t){return t.tabHandle.isHidden()===!1})},e.prototype.resizeTabHandles=function(){var t,e,n,i,o,r,s,a,u,l,c,p,h,d;if(!(!this.getOptions().resizeTabHandles||this._tabHandleContainerHidden||this.blockTabHandleResize||(r=this.getOptions().lastTabHandleMargin,h=[],d=0,u=this.tabHandleContainer.tabs.getElement().offsetWidth,0>=u))){for(e=u-r,t=100-100*r/e,c=this.handles,i=0,s=c.length;s>i;i++)n=c[i],n.isHidden()||(h.push(n),d+=n.getElement().offsetWidth);for(l=(t/h.length).toFixed(2),p=[],o=0,a=h.length;a>o;o++)n=h[o],p.push(n.setWidth(l,"%"));return p}},e}(r)},{"../../core/kd":100,"../scrollview/scrollview":69,"./tabhandlecontainer":78,"./tabhandlemovenav":79,"./tabhandleview":80,"./tabpaneview":81,debug:112,jquery:119}],83:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("jquery"),s=t("./tabview"),r=t("./tabpaneview"),o=t("../forms/formviewwithfields"),e.exports=a=function(t){function e(t,n){var i;null==t&&(t={}),null==t.navigable&&(t.navigable=!0),null==t.goToNextFormOnSubmit&&(t.goToNextFormOnSubmit=!0),e.__super__.constructor.call(this,t,n),this.forms={},this.hideHandleCloseIcons(),i=this.getOptions().forms,i&&(this.createTabs(i=o.sanitizeFormOptions(i)),this.showPane(this.panes[0])),1===i.length&&this.hideHandleContainer()}return u(e,t),e.prototype.handleClicked=function(t,n){return this.getOptions().navigable?e.__super__.handleClicked.apply(this,arguments):void 0},e.prototype.createTab=function(t,e){var n,i;return this.addPane(i=new r({name:t.title}),t.shouldShow),n=t.callback,t.callback=function(t){return function(i){var o;return t.getOptions().goToNextFormOnSubmit&&t.showNextPane(),"function"==typeof n&&n(i),o=t.getOptions().forms,o&&e===Object.keys(o).length-1?t.fireFinalCallback():void 0}}(this),this.createForm(t,i),i},e.prototype.createTabs=function(t){return t.forEach(function(t){return function(e,n){return t.createTab(e,n)}}(this))},e.prototype.createForm=function(t,e){var n;return e.addSubView(n=new o(t)),this.forms[t.title]=e.form=n,n},e.prototype.getFinalData=function(){var t,e,n,o,r;for(t={},r=this.panes,e=0,n=r.length;n>e;e++)o=r[e],t=i.extend(o.form.getData(),t);return t},e.prototype.fireFinalCallback=function(){var t,e;return e=this.getFinalData(),"function"==typeof(t=this.getOptions()).callback?t.callback(e):void 0},e}(s)},{"../forms/formviewwithfields":34,"./tabpaneview":81,"./tabview":82,jquery:119}],84:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("jquery"),o=t("../../core/kd"),s=t("../../core/view"),a=t("timeago"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),t.tagName="time",e.__super__.constructor.call(this,t,n),e.on("OneMinutePassed",function(t){return function(){return t.updatePartial(a(t.getData()))}}(this))}return u(e,t),e.registerStaticEmitter(),o.utils.repeat(6e4,function(){return e.emit("OneMinutePassed")}),e.prototype.setData=function(){return e.__super__.setData.apply(this,arguments),this.parent?this.updatePartial(a(this.getData())):void 0},e.prototype.viewAppended=function(){return this.setPartial(a(this.getData()))},e}(s)},{"../../core/kd":100,"../../core/view":104,jquery:119,timeago:127}],85:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=t("../../core/kd"),s=t("../../core/view"),i=t("htmlencode"),e.exports=r=function(t){function e(t,n){var i;t.bind||(t.bind="mouseenter mouseleave"),null==t.sticky&&(t.sticky=!1),t.cssClass=o.utils.curry("kdtooltip",t.cssClass),e.__super__.constructor.call(this,t,n),this.visible=!1,this.parentView=this.getDelegate(),this.wrapper=new s({cssClass:"wrapper"}),this.getOptions().animate?this.setClass("out"):this.hide(),this.addListeners(),i=o.getSingleton("windowController"),i.on("ScrollHappened",this.bound("hide")),this.once("viewAppended",function(t){return function(){var e,n,i,o;return n=t.getOptions(),o=n.view,i=n.title,e=n.html,null!=o?t.setView(o):(t.setClass("just-text"),t.setTitle(i,e)),t.parentView.emit("TooltipReady"),t.addSubView(t.wrapper),t.visible=!0}}(this))}var n,r,u,l,c;return a(e,t),e.prototype.show=function(t){var n;return(n=this.getOptions().selector)?void 0:(this.display(),e.__super__.show.apply(this,arguments),this.visible=!0)},e.prototype.hide=function(t){var n,i;if(this.visible)return n=this.getOptions().permanent,e.__super__.hide.apply(this,arguments),this.getDomElement().remove(),i=o.getSingleton("windowController"),n||i.removeLayer(this),this.visible=!1},e.prototype.update=function(t,e){return null==t&&(t=this.getOptions()),e?this.setView(e):(t.selector||(t.selector=null),t.title||(t.title=""),this.setTitle(t.title,t.html),this.display()),this.visible=!0},e.prototype.addListeners=function(){var t,e,n,i,o,r,s,a,u;for(a=this.getOptions(),n=a.events,u=a.sticky,s=a.permanent,e=this.bound("show"),t=this.bound("hide"),i=0,o=n.length;o>i;i++)r=n[i],this.parentView.bindEvent(r);return this.parentView.on("mouseenter",e),u||this.parentView.on("mouseleave",t),s||this.on("ReceivedClickElsewhere",t),this.once("KDObjectWillBeDestroyed",function(n){return function(){return n.parentView.off("mouseenter",e),u?void 0:n.parentView.off("mouseleave",t)}}(this))},e.prototype.setView=function(t){var e,n,i;if(t)return null!=this.wrapper.view&&this.wrapper.view.destroy(),t.constructorName?(i=t.options,n=t.data,e=t.constructorName,this.childView=new e(i,n)):this.wrapper.addSubView(t)},e.prototype.getView=function(){return this.childView},e.prototype.destroy=function(){return this.parentView.tooltip=null,delete this.parentView.tooltip,e.__super__.destroy.apply(this,arguments)},e.prototype.translateCompassDirections=function(t){var e,i;return i=t.placement,e=t.gravity,t.placement=c[i],t.direction=n(t.placement,e),t},e.prototype.display=function(){var t,e,n,i,r,s;return n=this.getOptions(),r=this.getOptions(),i=r.permanent,e=r.gravity,t=r.animate,this.appendToDomBody(),s=o.getSingleton("windowController"),i||s.addLayer(this),e&&(n=this.translateCompassDirections(n)),n.gravity=null,t&&this.setClass("in"),o.utils.defer(function(t){
return function(){return t.setPositions(n)}}(this)),this.visible=!0},e.prototype.getCorrectPositionCoordinates=function(t,e,n){var i,s,a,u,c,p,h,d,f,g,m,v;if(null==t&&(t={}),null==n&&(n=o.noop),i=this.$(),f=this.parentView.$(t.selector),a={container:{height:i.height(),width:i.width()},selector:{offset:f.offset(),height:f.height(),width:f.width()}},d=e.placement,u=e.direction,c=this.getOptions().forcePosition,v=r(l(a,d,u),a.container.width,a.container.height),!c&&Object.keys(v).length>0)for(m=[["top","right"],["right","top"],["right","bottom"],["bottom","right"],["top","left"],["top","center"],["right","center"],["bottom","center"],["bottom","left"],["left","bottom"],["left","center"],["left","top"]],p=0,h=m.length;h>p;p++)if(g=m[p],0===Object.keys(r(l(a,g[0],g[1]),a.container.width,a.container.height)).length){d=g[0],u=g[1];break}return s={coords:l(a,d,u),placement:d,direction:u},n(s),s},e.prototype.setPositions=function(t,e){var n,i,o,r,s,a,u,l,c,p,h,d,f;for(null==t&&(t=this.getOptions()),null==e&&(e=!1),e&&this.setClass("animate-movement"),c=t.placement||"top",i=t.direction||"right",l=Number===typeof t.offset?{top:t.offset,left:0}:t.offset,i=("top"!==c&&"bottom"!==c||"top"!==i&&"bottom"!==i)&&("left"!==c&&"right"!==c||"left"!==i&&"right"!==i)?i:"center",h=this.getCorrectPositionCoordinates(t,{placement:c,direction:i}),n=h.coords,c=h.placement,i=h.direction,d=["top","bottom","left","right"],r=0,a=d.length;a>r;r++)p=d[r],c===p?this.setClass("placement-"+p):this.unsetClass("placement-"+p);for(f=["top","bottom","left","right","center"],s=0,u=f.length;u>s;s++)o=f[s],i===o?this.setClass("direction-"+o):this.unsetClass("direction-"+o);return this.$().css({left:n.left+l.left,top:n.top+l.top}),this.utils.wait(500,function(t){return function(){return t.unsetClass("animate-movement")}}(this))},e.prototype.setTitle=function(t,e){return e||(t=i.htmlEncode(t)),this.wrapper.updatePartial(t)},n=function(t,e){return"top"===t||"bottom"===t?/e/.test(e)?"left":/w/.test(e)?"right":"center":"left"===t||"right"===t?/n/.test(e)?"top":/s/.test(e)?"bottom":t:void 0},c={top:"top",above:"top",below:"bottom",bottom:"bottom",left:"left",right:"right"},r=function(t,e,n){var i;return i={},t.left<0&&(i.left=-t.left),t.top<0&&(i.top=-t.top),t.left+e>window.innerWidth&&(i.right=t.left+e-window.innerWidth),t.top+n>window.innerHeight&&(i.bottom=t.top+n-window.innerHeight),i},u=function(t,e,n){var i;return null==n&&(n=!1),i=t.selector[e]-t.container[e],n?i/2:i},l=function(t,e,n){var i,o,r,s,a,l,c;return i={top:t.selector.offset.top,left:t.selector.offset.left},a=/o/.test(e)?["height","width","top","left","right"]:["width","height","left","top","bottom"],l=a[0],o=a[1],c=a[2],r=a[3],s=a[4],i[c]+=e.length<5?-(t.container[l]+10):t.selector[l]+10,n!==s&&(i[r]+=u(t,o,"center"===n)),i},e}(s)},{"../../core/kd":100,"../../core/view":104,htmlencode:117}],86:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("../list/listitemview"),e.exports=i=function(t){function e(t,n){var i,o,r;null==t&&(t={}),null==n&&(n={}),t.tagName||(t.tagName="li"),t.type||(t.type="jtreeitem"),t.bind||(t.bind="mouseenter contextmenu dragstart dragenter dragleave dragend dragover drop"),t.childClass||(t.childClass=null),t.childOptions||(t.childOptions={}),e.__super__.constructor.call(this,t,n),this.setClass("jtreeitem"),this.expanded=!1,r=this.getOptions(),i=r.childClass,o=r.childOptions,i&&(this.child=new i(o,this.getData()))}return r(e,t),e.prototype.viewAppended=function(){var t;return this.getOptions().childClass?this.addSubView(this.child):this.updatePartial("<span class='arrow'></span>\n"+(null!=(t=this.getData().title)?t:""))},e.prototype.toggle=function(t){return this.expanded?this.collapse():this.expand()},e.prototype.expand=function(t){return this.expanded=!0,this.setClass("expanded")},e.prototype.collapse=function(t){return this.expanded=!1,this.unsetClass("expanded")},e.prototype.decorateSubItemsState=function(t){return null==t&&(t=!0),t?this.setClass("has-sub-items"):this.unsetClass("has-sub-items")},e}(o)},{"../list/listitemview":52}],87:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("../../core/kd"),r=t("../list/listview"),e.exports=i=function(t){function e(t,n){null==t&&(t={}),null==t.animated&&(t.animated=!1),t.cssClass=o.utils.curry("jtreeview expanded",t.cssClass),e.__super__.constructor.call(this,t,n)}return s(e,t),e.prototype.toggle=function(t){return this.expanded?this.collapse(t):this.expand(t)},e.prototype.expand=function(t){return this.getOptions().animated?this.$().slideDown(150,function(e){return function(){return e.setClass("expanded"),"function"==typeof t?t():void 0}}(this)):(this.show(),this.setClass("expanded"),"function"==typeof t?t():void 0)},e.prototype.collapse=function(t){return this.getOptions().animated?this.$().slideUp(100,function(e){return function(){return e.unsetClass("expanded"),"function"==typeof t?t():void 0}}(this)):(this.hide(),this.unsetClass("expanded"),"function"==typeof t?t():void 0)},e.prototype.mouseDown=function(){return o.getSingleton("windowController").setKeyView(this),!1},e.prototype.keyDown=function(t){return this.emit("KeyDownOnTreeView",t)},e.prototype.destroy=function(){return o.getSingleton("windowController").revertKeyView(this),e.__super__.destroy.apply(this,arguments)},e}(r)},{"../../core/kd":100,"../list/listview":53}],88:[function(t,e,n){var i,o,r,s,a,u,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty,h=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};s=t("../../core/kd"),i=t("./treeitemview"),o=t("./treeview"),l=t("../../core/viewcontroller"),u=t("../scrollview/scrollview"),a=t("../list/listviewcontroller"),e.exports=r=function(t){function e(t,n){var r;null==t&&(t={}),null==n&&(n=[]),r=t,r.view||(r.view=new u({cssClass:"jtreeview-wrapper"})),r.listViewControllerClass||(r.listViewControllerClass=a),r.treeItemClass||(r.treeItemClass=i),r.listViewClass||(r.listViewClass=o),r.itemChildClass||(r.itemChildClass=null),r.itemChildOptions||(r.itemChildOptions={}),r.nodeIdPath||(r.nodeIdPath="id"),r.nodeParentIdPath||(r.nodeParentIdPath="parentId"),null==r.contextMenu&&(r.contextMenu=!1),null==r.multipleSelection&&(r.multipleSelection=!1),null==r.addListsCollapsed&&(r.addListsCollapsed=!1),null==r.sortable&&(r.sortable=!1),null==r.putDepthInfo&&(r.putDepthInfo=!0),null==r.addOrphansToRoot&&(r.addOrphansToRoot=!0),null==r.dragdrop&&(r.dragdrop=!1),e.__super__.constructor.call(this,r,n),this.listData={},this.listControllers={},this.nodes={},this.indexedNodes=[],this.selectedNodes=[]}var n,r,l;return c(e,t),l=function(){return{37:"left",38:"up",39:"right",40:"down",8:"backspace",9:"tab",13:"enter",27:"escape"}},r=null,n=function(){return r=document.createElement("img"),r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAYCAMAAAAs/jgVAAAA0lBMVEX///+It9YAAAD///8AAACIt9aIt9aIt9aIt9aIt9aIt9YAAAD///+It9aIt9aIt9aIt9aIt9aIt9aIt9bT09OIt9aIt9aIt9b///+It9bv9fr+/v79/f2QvNn4+PioyuHA2enP4u/09PS41Obf7PTn8ff6+vr29vb3+vygxd78/Pz19fX7+/vs7OzY2NjR0dGwz+Tv7+/T09Pz8/PX19fQ0NCYwdvx8fHLy8vq6urZ2dnX5/H5+fny8vLOzs739/fPz8/W1tbu7u7w8PDH3ezd3d0P0SzzAAAAGHRSTlMAACZqGJkG2/k2rkZV4bG0V9gDaYBabJYxtX/TAAACLElEQVR4Xu3V127bMBQG4NT1SOw4s0kP59Ce3iN7tu//Sj2i0iiKE8AB7Juiv0SIFAR9OAQJ7mwy/9NsvElz61yDA4cEgGWQZA0Evm0xyAFAYkVMr/nCtU8PjsnGcnxw2n7lGMsSnmSMAX9slNxRh2w4naMXjrGEByzgCWPsqtdE7qT7ARDrOuCqL4LdE8tlyCCHWMZmjw3kWuSDuJ5V4K9iKl7BWl7LcgHnXOLFecAHV8jtkU841wqrHGbhreHtWS6QN5nMbiR2BjPkfhaAoh7QEQVfKFqMkNMAoEAp3wNwC05FQGNbXQwAeuEX7z2DXVP0NIAv6uUhl8gslFKGmUzkbIBcx3L4/XUUC+q+crYg5NDSkTBaRIpo33J2qj1NYhCeL2IwRFMBC6Lqy8VWJ8MwxSuUQTgpuN2SI0Tbf6xyKETKaAVFKs4OlWc/Kt4ZX5NadgvuPrxPp+E0xWc4mX2Bi4FgKi6ytVQcESZafMAtnWWKDdnhBLlOnYshJteW+2Vqk0ko8qOSG1FCDJKjihMuIXS0Mpnj6e341sE2HTuWa9U5YgCM5eJyqUQeYCHIxRRAl5ygoIUP4FVcOdSUeAbv16WSPz/l+WWePz3nl/PhpxthjV22zkZo9i4e7i7u5tgeLn4P7TbfDme3+f4PJ0wdZ+o4aegs5wXX7m6D67aRe18ecpizPtlw+mf2RHhfnuWwwPPDDYr9w/PyAFo9z7d8vGJ5399kf+cfyh+807YxJJdmLQAAAABJRU5ErkJggg==",r.width=110}(),e.prototype.loadView=function(t){return this.initTree(this.getData()),this.setKeyView(),this.setMainListeners(),this.registerBoundaries()},e.prototype.registerBoundaries=function(){return this.boundaries={top:this.getView().getY(),left:this.getView().getX(),width:this.getView().getWidth(),height:this.getView().getHeight()}},e.prototype.initTree=function(t){return this.removeAllNodes(),this.addNodes(t)},e.prototype.logTreeStructure=function(){var t,e,n,i,o;n=this.getOptions(),i=this.indexedNodes,o=[];for(t in i)p.call(i,t)&&(e=i[t],o.push(console.log(t,this.getNodeId(e),this.getNodePId(e),e.depth)));return o},e.prototype.getNodeId=function(t){return t[this.getOptions().nodeIdPath]},e.prototype.getNodePId=function(t){return t[this.getOptions().nodeParentIdPath]},e.prototype.getPathIndex=function(t){var e,n,i,o,r;for(r=this.indexedNodes,n=e=0,i=r.length;i>e;n=++e)if(o=r[n],this.getNodeId(o)===t)return n;return-1},e.prototype.repairIds=function(t){var e,n,i,o;return n=this.getOptions(),e=n.nodeIdPath,i=n.nodeParentIdPath,t[e]||(t[e]=this.utils.getUniqueId()),t[e]=""+this.getNodeId(t),t[i]=this.getNodePId(t)?""+this.getNodePId(t):"0",this.nodes[this.getNodeId(t)]={},n.putDepthInfo&&((null!=(o=this.nodes[t[i]])?o.getData:void 0)?t.depth=this.nodes[t[i]].getData().depth+1:t.depth=0),"0"===t[i]||this.nodes[t[i]]||(n.addOrphansToRoot?t[i]="0":t=!1),t},e.prototype.isNodeVisible=function(t){var e,n;return e=t.getData(),n=this.nodes[this.getNodePId(e)],n?n.expanded?this.isNodeVisible(n):!1:!0},e.prototype.areSibling=function(t,e){var n,i;return n=this.getNodePId(t.getData()),i=this.getNodePId(e.getData()),n===i},e.prototype.setFocusState=function(){var t;return t=this.getView(),s.getSingleton("windowController").addLayer(t),t.unsetClass("dim")},e.prototype.setBlurState=function(){var t;return t=this.getView(),s.getSingleton("windowController").removeLayer(t),t.setClass("dim")},e.prototype.addNode=function(t,e){var n,i,o;if(!this.nodes[this.getNodeId(t)]&&(t=this.repairIds(t)))return h.call(this.getData(),t)<0&&this.getData().push(t),this.registerListData(t),o=this.getNodePId(t),null!=this.listControllers[o]?n=this.listControllers[o].getListView():(n=this.createList(o).getListView(),this.addSubList(this.nodes[o],o)),i=n.addItem(t,e),this.emit("NodeWasAdded",i),this.addIndexedNode(t),i},e.prototype.addNodes=function(t){var e,n,i,o;for(o=[],e=0,n=t.length;n>e;e++)i=t[e],o.push(this.addNode(i));return o},e.prototype.removeNode=function(t){var e,n,i,o,r,s,a,u;for(r=null,u=this.getData(),n=e=0,i=u.length;i>e;n=++e)o=u[n],this.getNodeId(o)===t&&(this.removeIndexedNode(o),r=n);return null!=r?(s=this.getData().splice(r,1)[0],this.removeChildNodes(t),a=this.getNodePId(s),this.listControllers[a].getListView().removeItem(this.nodes[t]),delete this.nodes[t]):void 0},e.prototype.removeNodeView=function(t){return this.removeNode(this.getNodeId(t.getData()))},e.prototype.removeAllNodes=function(){var t,e,n;n=this.listControllers;for(t in n)p.call(n,t)&&(e=n[t],e.getListItems().forEach(this.bound("removeNodeView")),null!=e&&e.getView().destroy(),delete this.listControllers[t],delete this.listData[t]);return this.nodes={},this.listData={},this.indexedNodes=[],this.selectedNodes=[],this.listControllers={}},e.prototype.removeChildNodes=function(t){var e,n,i,o,r,s,a,u,l,c;for(n=[],l=this.getData(),o=i=0,s=l.length;s>i;o=++i)u=l[o],this.getNodePId(u)===t&&n.push(this.getNodeId(u));for(r=0,a=n.length;a>r;r++)e=n[r],this.removeNode(e);return null!=(c=this.listControllers[t])&&c.getView().destroy(),delete this.listControllers[t],delete this.listData[t]},e.prototype.nodeWasAdded=function(t){var e,n,i;return n=t.getData(),this.getOptions().dragdrop&&t.$().attr("draggable","true"),e=n.id,i=n.parentId,this.nodes[this.getNodeId(n)]=t,this.nodes[this.getNodePId(n)]&&(this.getOptions().addListsCollapsed||this.expand(this.nodes[this.getNodePId(n)]),this.nodes[this.getNodePId(n)].decorateSubItemsState()),this.listControllers[e]?this.addSubList(t,e):void 0},e.prototype.getChildNodes=function(t){var e;return e=[],this.indexedNodes.forEach(function(n){return function(i,o){return n.getNodePId(i)===n.getNodeId(t)?e.push({node:i,index:o}):void 0}}(this)),e.length?e:!1},e.prototype.getPreviousNeighbor=function(t){var e,n,i;return i=t,e=this.getChildNodes(t),e&&(n=e.last,i=this.getPreviousNeighbor(n.node)),i},e.prototype.addIndexedNode=function(t,e){var n,i,o;return e>=0?void this.indexedNodes.splice(e+1,0,t):(i=this.nodes[this.getNodePId(t)],i?(o=this.getPreviousNeighbor(i.getData()),n=this.indexedNodes.indexOf(o),this.indexedNodes.splice(n+1,0,t)):this.indexedNodes.push(t))},e.prototype.removeIndexedNode=function(t){var e;return h.call(this.indexedNodes,t)>=0&&(e=this.indexedNodes.indexOf(t),this.indexedNodes.splice(e,1),this.nodes[this.getNodePId(t)]&&!this.getChildNodes(this.nodes[this.getNodePId(t)].getData()))?this.nodes[this.getNodePId(t)].decorateSubItemsState(!1):void 0},e.prototype.registerListData=function(t){var e,n;return n=this.getNodePId(t),(e=this.listData)[n]||(e[n]=[]),this.listData[n].push(t)},e.prototype.createList=function(t,e){var n,i,o;return n=this.getOptions(),this.listControllers[t]=new n.listViewControllerClass({id:this.getId()+"_"+t,wrapper:!1,scrollView:!1,selection:null!=(i=n.selection)?i:!1,multipleSelection:null!=(o=n.multipleSelection)?o:!1,view:new n.listViewClass({tagName:"ul",type:n.type,itemClass:n.treeItemClass,itemChildClass:n.itemChildClass,itemChildOptions:n.itemChildOptions})},{items:e}),this.setListenersForList(t),this.listControllers[t]},e.prototype.addSubList=function(t,e){var n,i;return i=this.getOptions(),n=this.listControllers[e].getView(),t?(t.$().after(n.$()),n.parentIsInDom=!0,n.emit("viewAppended"),i.addListsCollapsed?this.collapse(t):this.expand(t)):this.getView().addSubView(n)},e.prototype.setMainListeners=function(){return s.getSingleton("windowController").on("ReceivedMouseUpElsewhere",function(t){return function(e){return t.mouseUp(e)}}(this)),this.getView().on("ReceivedClickElsewhere",function(t){return function(){return t.setBlurState()}}(this))},e.prototype.setListenersForList=function(t){return this.listControllers[t].getView().on("ItemWasAdded",function(t){return function(e,n){return t.setItemListeners(e,n)}}(this)),this.listControllers[t].on("ItemSelectionPerformed",function(t){return function(e,n){var i,o;return i=n.event,o=n.items,t.organizeSelectedNodes(e,o,i)}}(this)),this.listControllers[t].on("ItemDeselectionPerformed",function(t){return function(e,n){var i,o;return i=n.event,o=n.items,t.deselectNodes(e,o,i)}}(this)),this.listControllers[t].getListView().on("KeyDownOnTreeView",function(t){return function(e){return t.keyEventHappened(e)}}(this))},e.prototype.setItemListeners=function(t,e){var n;return t.on("viewAppended",this.nodeWasAdded.bind(this,t)),n=["dblclick","click","mousedown","mouseup","mouseenter","mousemove"],this.getOptions().contextMenu&&n.push("contextmenu"),this.getOptions().dragdrop&&(n=n.concat(["dragstart","dragenter","dragleave","dragend","dragover","drop"])),t.on(n,function(e){return function(n){return e.mouseEventHappened(t,n)}}(this))},e.prototype.organizeSelectedNodes=function(t,e,n){var i,o,r,s;for(null==n&&(n={}),(n.metaKey||n.ctrlKey||n.shiftKey)&&this.getOptions().multipleSelection||this.deselectAllNodes(t),s=[],i=0,o=e.length;o>i;i++)r=e[i],s.push(h.call(this.selectedNodes,r)<0?this.selectedNodes.push(r):void 0);return s},e.prototype.deselectNodes=function(t,e,n){var i,o,r,s;for(s=[],i=0,o=e.length;o>i;i++)r=e[i],s.push(h.call(this.selectedNodes,r)>=0?this.selectedNodes.splice(this.selectedNodes.indexOf(r),1):void 0);return s},e.prototype.deselectAllNodes=function(t){var e,n,i;i=this.listControllers;for(e in i)p.call(i,e)&&(n=i[e],n!==t&&n.deselectAllItems());return this.selectedNodes=[]},e.prototype.selectNode=function(t,e,n){var i;return null==n&&(n=!0),t?(n&&this.setFocusState(),i=this.listControllers[this.getNodePId(t.getData())],i?i.selectItem(t,e):void 0):void 0},e.prototype.deselectNode=function(t,e){return this.listControllers[this.getNodePId(t.getData())].deselectSingleItem(t,e)},e.prototype.selectFirstNode=function(){return this.selectNode(this.nodes[this.getNodeId(this.indexedNodes[0])])},e.prototype.selectNodesByRange=function(t,e){var n,i,o,r,s,a;for(i=[this.indexedNodes.indexOf(t.getData()),this.indexedNodes.indexOf(e.getData())],i.sort(function(t,e){return t-e}),o=this.indexedNodes.slice(i[0],i[1]+1),a=[],n=0,r=o.length;r>n;n++)s=o[n],a.push(this.selectNode(this.nodes[this.getNodeId(s)],{shiftKey:!0}));return a},e.prototype.toggle=function(t){return t.expanded?this.collapse(t):this.expand(t)},e.prototype.expand=function(t){var e,n;return e=t.getData(),t.expand(),null!=(n=this.listControllers[this.getNodeId(e)])?n.getView().expand():void 0},e.prototype.collapse=function(t){var e,n;return e=t.getData(),null!=(n=this.listControllers[this.getNodeId(e)])?n.getView().collapse(function(e){return function(){return t.collapse()}}(this)):void 0},e.prototype.showDragOverFeedback=function(){return s.utils.throttle(function(t,e){var n,i,o;return n=t.getData(),"file"!==n.type?t.setClass("drop-target"):(null!=(i=this.nodes[n.parentPath])&&i.setClass("drop-target"),null!=(o=this.listControllers[n.parentPath])&&o.getListView().setClass("drop-target")),t.setClass("items-hovering")},100)}(),e.prototype.clearDragOverFeedback=function(){return s.utils.throttle(function(t,e){var n,i,o;return n=t.getData(),"file"!==n.type?t.unsetClass("drop-target"):(null!=(i=this.nodes[n.parentPath])&&i.unsetClass("drop-target"),null!=(o=this.listControllers[n.parentPath])&&o.getListView().unsetClass("drop-target")),t.unsetClass("items-hovering")},100)}(),e.prototype.clearAllDragFeedback=function(){return this.utils.wait(101,function(t){return function(){var e,n,i,o,r,s;t.getView().$(".drop-target").removeClass("drop-target"),t.getView().$(".items-hovering").removeClass("items-hovering"),o=t.listControllers;for(i in o)p.call(o,i)&&(e=o[i],e.getListView().unsetClass("drop-target"));r=t.nodes,s=[];for(i in r)p.call(r,i)&&(n=r[i],s.push(n.unsetClass("items-hovering drop-target")));return s}}(this))},e.prototype.mouseEventHappened=function(t,e){switch(e.type){case"mouseenter":return this.mouseEnter(t,e);case"dblclick":return this.dblClick(t,e);case"click":return this.click(t,e);case"mousedown":return this.mouseDown(t,e);case"mouseup":return this.mouseUp(t,e);case"mousemove":return this.mouseMove(t,e);case"contextmenu":return this.contextMenu(t,e);case"dragstart":return this.dragStart(t,e);case"dragenter":return this.dragEnter(t,e);case"dragleave":return this.dragLeave(t,e);case"dragover":return this.dragOver(t,e);case"dragend":return this.dragEnd(t,e);case"drop":return this.drop(t,e)}},e.prototype.dblClick=function(t,e){return this.toggle(t)},e.prototype.click=function(t,e){return/arrow/.test(e.target.className)?(this.toggle(t),this.selectedItems):(this.lastEvent=e,(e.metaKey||e.ctrlKey||e.shiftKey)&&this.getOptions().multipleSelection||this.deselectAllNodes(),null!=t&&(e.shiftKey&&this.selectedNodes.length>0&&this.getOptions().multipleSelection?this.selectNodesByRange(this.selectedNodes[0],t):this.selectNode(t,e)),this.selectedItems)},e.prototype.contextMenu=function(t,e){},e.prototype.mouseDown=function(t,e){return this.lastEvent=e,h.call(this.selectedNodes,t)<0?(this.mouseIsDown=!0,this.cancelDrag=!0,this.mouseDownTempItem=t,this.mouseDownTimer=setTimeout(function(n){return function(){return n.mouseIsDown=!1,n.cancelDrag=!1,n.mouseDownTempItem=null,n.selectNode(t,e)}}(this),1e3)):(this.mouseIsDown=!1,this.mouseDownTempItem=null)},e.prototype.mouseUp=function(t){return clearTimeout(this.mouseDownTimer),this.mouseIsDown=!1,this.cancelDrag=!1,this.mouseDownTempItem=null},e.prototype.mouseEnter=function(t,e){return clearTimeout(this.mouseDownTimer),this.mouseIsDown&&this.getOptions().multipleSelection?(this.cancelDrag=!0,(e.metaKey||e.ctrlKey||e.shiftKey)&&this.getOptions().multipleSelection||this.deselectAllNodes(),this.selectNodesByRange(this.mouseDownTempItem,t)):void 0},e.prototype.dragStart=function(t,e){var n,i,o;return this.cancelDrag?(e.preventDefault(),e.stopPropagation(),!1):(this.dragIsActive=!0,n=e.originalEvent,n.dataTransfer.effectAllowed="copyMove",o=function(){var t,e,n,o;for(n=this.selectedNodes,o=[],t=0,e=n.length;e>t;t++)i=n[t],o.push(this.getNodeId(i.getData()));return o}.call(this),n.dataTransfer.setData("Text",o.join()),this.selectedNodes.length>1&&n.dataTransfer.setDragImage(r,-10,0),t.setClass("drag-started"))},e.prototype.dragEnter=function(t,e){return this.emit("dragEnter",t,e)},e.prototype.dragLeave=function(t,e){return this.clearAllDragFeedback(),this.emit("dragLeave",t,e)},e.prototype.dragOver=function(t,e){return this.emit("dragOver",t,e)},e.prototype.dragEnd=function(t,e){return this.dragIsActive=!1,t.unsetClass("drag-started"),this.clearAllDragFeedback(),this.emit("dragEnd",t,e)},e.prototype.drop=function(t,e){return this.dragIsActive=!1,e.preventDefault(),e.stopPropagation(),this.emit("drop",t,e),!1},e.prototype.setKeyView=function(){return this.listControllers[0]?s.getSingleton("windowController").setKeyView(this.listControllers[0].getListView()):void 0},e.prototype.keyEventHappened=function(t){var e,n,i,o;if(n=l()[t.which],o=this.selectedNodes[0],this.emit("keyEventPerformedOnTreeView",t),o)switch(n){case"down":case"up":if(t.preventDefault(),i=this["perform"+n.capitalize()+"Key"](o,t))return"function"==typeof(e=this.getView()).scrollToSubView?e.scrollToSubView(i):void 0;break;case"left":return this.performLeftKey(o,t);case"right":return this.performRightKey(o,t);case"backspace":return this.performBackspaceKey(o,t);case"enter":return this.performEnterKey(o,t);case"escape":return this.performEscapeKey(o,t);case"tab":return!1}},e.prototype.performDownKey=function(t,e){var n,i,o;return this.selectedNodes.length>1&&(t=this.selectedNodes[this.selectedNodes.length-1],(e.metaKey||e.ctrlKey||e.shiftKey)&&this.getOptions().multipleSelection||(this.deselectAllNodes(),this.selectNode(t))),o=t.getData(),n=this.indexedNodes.indexOf(o)+1,this.indexedNodes[n]?(i=this.nodes[this.getNodeId(this.indexedNodes[n])],this.isNodeVisible(i)?h.call(this.selectedNodes,i)>=0?this.deselectNode(this.nodes[this.getNodeId(o)]):(this.selectNode(i,e),i):this.performDownKey(i,e)):void 0},e.prototype.performUpKey=function(t,e){var n,i,o;return this.selectedNodes.length>1&&(t=this.selectedNodes[this.selectedNodes.length-1],(e.metaKey||e.ctrlKey||e.shiftKey)&&this.getOptions().multipleSelection||(this.deselectAllNodes(),this.selectNode(t))),o=t.getData(),n=this.indexedNodes.indexOf(o)-1,this.indexedNodes[n]&&(i=this.nodes[this.getNodeId(this.indexedNodes[n])],this.isNodeVisible(i)?h.call(this.selectedNodes,i)>=0?this.deselectNode(this.nodes[this.getNodeId(o)]):this.selectNode(i,e):this.performUpKey(i,e)),i},e.prototype.performRightKey=function(t,e){return this.expand(t)},e.prototype.performLeftKey=function(t,e){var n,i;return n=t.getData(),this.nodes[this.getNodePId(n)]&&(i=this.nodes[this.getNodePId(n)],this.selectNode(i)),i},e.prototype.performBackspaceKey=function(t,e){},e.prototype.performEnterKey=function(t,e){},e.prototype.performEscapeKey=function(t,e){},e}(l)},{"../../core/kd":100,"../../core/viewcontroller":105,"../list/listviewcontroller":55,"../scrollview/scrollview":69,"./treeitemview":86,"./treeview":87}],89:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=t("../../core/view"),i=t("../../core/customhtmlview"),e.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.dragEnter=function(t){return t.preventDefault(),t.stopPropagation(),this.setClass("hover")},e.prototype.dragOver=function(t){return t.preventDefault(),t.stopPropagation(),this.setClass("hover")},e.prototype.dragLeave=function(t){return t.preventDefault(),t.stopPropagation(),this.unsetClass("hover")},e.prototype.drop=function(t){var e,n,i,o,r;for(t.preventDefault(),t.stopPropagation(),this.unsetClass("hover"),r=t.originalEvent,n=r.dataTransfer.files,i=0,o=n.length;o>i;i++)e=n[i],this.getDelegate().fileDropped(e);return!1},e.prototype.viewAppended=function(){var t,e;return e=this.getOptions().title,t=this.getDelegate().getOptions(),this.setPartial("<span>"+e+"</span>"),this.addSubView(new i({cssClass:"info",tagName:"span",tooltip:{title:"Max. File Amount: <b>"+t.limit+"</b> files<br/>Max. File Size: <b>"+t.fileMaxSize+"</b> kbytes<br/>Max. Total Size: <b>"+t.totalMaxSize+"</b> kbytes",placement:"above",offset:0,delayIn:300,html:!0,animate:!0,selector:null,partial:"i"}}))},e}(r)},{"../../core/customhtmlview":97,"../../core/view":104}],90:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("../list/listitemview"),e.exports=o=function(t){function e(t,n){e.__super__.constructor.call(this,t,n),this.setClass("kdfileuploadlistitem clearfix"),this.active=!1}return s(e,t),e.prototype.click=function(t){return i(t.target).is("span.iconic.x")?this.emit("removeFile",{orgEvent:t}):void 0},e.prototype.viewAppended=function(){return this.$().append(this.partial(this.data))},e.prototype.partial=function(t){return i("<span class='file-title'>"+t.name+"</span> <span class='file-size'>"+(t.size/1024).toFixed(2)+"kb</span> <span class='x'></span>")},e}(r)},{"../list/listitemview":52,jquery:119}],91:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=t("../list/listview"),i=t("./fileuploadlistitemview"),e.exports=o=function(t){function e(t,n){null==t.itemClass&&(t.itemClass=i),e.__super__.constructor.call(this,t,n),this.setClass("kdfileuploadlist"),this.itemsByName={}}return s(e,t),e.prototype.addItem=function(t){var e;return e=new(this.getOptions().itemClass)({delegate:this},t),this.getDelegate().on("removeFile",this.getDelegate().removeFile),this.addItem(e),this.itemsByName[t.name]=e},e}(r)},{"../list/listview":53,"./fileuploadlistitemview":90}],92:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("jquery"),r=t("../list/listitemview"),e.exports=o=function(t){function e(t,n){e.__super__.constructor.call(this,t,n),this.setClass("kdfileuploadthumbitem clearfix"),this.active=!1}return s(e,t),e.prototype.click=function(t){return i(t.target).is("span.iconic.x")?this.emit("removeFile",{orgEvent:t}):void 0},e.prototype.viewAppended=function(){return this.$().append(this.partial(this.data))},e.getURLVendor=function(){return window.URL||window.webkitURL||window.mozURL},e.prototype.partial=function(t){var e,n,o;return o=/image.*/,e=this.getURLVendor(),n=t.type.match(o)?e.createObjectURL(t):"./a/images/icon.file.png",i("<img class='thumb' src='"+n+"'/> <p class='meta'> <span class='file-title'>"+t.name+"</span> <span class='file-size'>"+(t.size/1024).toFixed(2)+"kb</span> <span class='close-icon'></span> </p>")},e}(r)},{"../list/listitemview":52,jquery:119}],93:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./fileuploadthumbitemview"),i=t("./fileuploadlistview"),e.exports=r=function(t){function e(t,n){null==t.itemClass&&(t.itemClass=o),e.__super__.constructor.call(this,t,n),this.setClass("kdfileuploadthumblist")}return s(e,t),e}(i)},{"./fileuploadlistview":91,"./fileuploadthumbitemview":92}],94:[function(t,e,n){var i,o,r,s,a,u,l,c,p=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;c=t("../../core/view"),a=t("../list/listviewcontroller"),l=t("../notifications/notificationview"),i=t("./fileuploadarea"),o=t("./fileuploadlistview"),r=t("./fileuploadthumblistview"),u=t("./multipartuploader"),e.exports=s=function(t){function e(t,n){null!=window.FileReader?(null==t.limit&&(t.limit=20),null==t.fileMaxSize&&(t.fileMaxSize=4096),null==t.filetotalSize&&(t.filetotalSize=4096),null==t.extensions&&(t.extensions=null),null==t.preview&&(t.preview="list"),null==t.title&&(t.title="Drop your files here!"),null==t.onlyOne&&(t.onlyOne=!1),e.__super__.constructor.call(this,t,n),this.listController=null,this.addDropArea(),this.addList(),this.files={},this.totalSizeToUpload=0,this.setClass("kdfileupload")):(e.__super__.constructor.call(this,t,n),this.setPartial("<p class='warning info'><strong>Oops sorry,</strong> file upload is only working on Chrome, Firefox and Opera at the moment. We're working on a fix.</p>"))}return p(e,t),e.prototype.addDropArea=function(){return this.dropArea=new i({title:this.getOptions().title,bind:"drop dragenter dragleave dragover dragstart dragend",cssClass:"kdfileuploadarea",delegate:this}),this.addSubView(this.dropArea)},e.prototype.addList=function(){return this.fileList=function(){switch(this.getOptions().preview){case"thumbs":return this.addThumbnailList();default:return this.addFileList()}}.call(this),this.listController=new a({view:this.fileList}),this.addSubView(this.listController.getView())},e.prototype.addFileList=function(){return new o({delegate:this})},e.prototype.addThumbnailList=function(){return new r({delegate:this})},e.prototype.fileDropped=function(t){var e;return e=new u({url:"/Upload",file:t}),e.send(),e.once("FileReadComplete",function(e){return function(n){return e.emit("FileReadComplete",{file:t,progressEvent:n}),e.fileReadComplete(t,n)}}(this)),e.once("FileUploadSuccess",function(e){return function(n){return e.fileUploadComplete(t,n)}}(this)),e.once("FileUploadError",this.bound("handleUploadError"))},e.prototype.handleUploadError=function(t){},e.prototype.fileUploadComplete=function(t,e){var n;return null!=(n=this.fileList.itemsByName[t.name])&&n.setClass("uploaded"),this.emit("FileUploadComplete",e)},e.prototype.fileReadComplete=function(t,e){return t.data=e.target.result,this.putFileInQueue(t)},e.prototype.putFileInQueue=function(t){return this.getOptions().onlyOne&&(this.files={},this.fileList.empty()),!this.isDuplicate(t)&&this.checkLimits(t)?(this.files[t.name]=t,this.fileList.addItem(t),!0):!1},e.prototype.removeFile=function(t,e){var n;return n=t.getData(),delete this.files[n.name],this.fileList.removeItem(t)},e.prototype.isDuplicate=function(t){return null!=this.files[t.name]?(this.notify("File is already in queue!"),!0):!1},e.prototype.checkLimits=function(t){return this.checkFileAmount()&&this.checkFileSize(t)&&this.checkTotalSize(t)},e.prototype.checkFileAmount=function(){var t,e,n,i,o;n=this.getOptions().limit,t=1,o=this.files;for(i in o)h.call(o,i)&&(e=o[i],t++);return t>n?(this.notify("Total number of allowed file is "+n),!1):!0},e.prototype.checkTotalSize=function(t){var e,n,i,o;i=this.getOptions().totalMaxSize,o=t.size,n=this.files;for(e in n)h.call(n,e)&&(t=n[e],o+=t.size);return o/1024>i?(this.notify("Total allowed filesize is "+i+" kilobytes"),!1):!0},e.prototype.checkFileSize=function(t){var e;return e=this.getOptions().fileMaxSize,t.size/1024>e?(this.notify("Maximum allowed filesize is "+e+" kilobytes"),!1):!0},e.prototype.notify=function(t){
return new l({title:t,duration:2e3,type:"tray"})},e}(c)},{"../../core/view":104,"../list/listviewcontroller":55,"../notifications/notificationview":61,"./fileuploadarea":89,"./fileuploadlistview":91,"./fileuploadthumblistview":93,"./multipartuploader":95}],95:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../core/eventemitter"),e.exports=o=function(t){function e(t){var n;if(this.url=t.url,this.file=t.file,n=t.id,!("FileReader"in window))throw new Error("FileReader API not found!");e.__super__.constructor.call(this),this.id=null!=n?n:"file"}var n;return r(e,t),n="gc0p4Jq0M2Yt08jU534c0p",e.prototype.makeMultipartItem=function(t,e){return"--"+n+'\r\n Content-Disposition: form-data; name="'+t+'"\r\n\r\n '+e+"\r\n"},e.prototype.serializedToMultipart=function(t){var e;return function(){var n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(this.makeMultipartItem(e.name,e.value));return o}.call(this).join("")},e.prototype.fileToMultipart=function(t){var e,i;return e=new FileReader,this.file?(i=function(t){return function(e){return"--"+n+'\r\n Content-Disposition: form-data; name="'+t.id+'"; filename="'+t.file.name+'"\r\n Content-Type: '+t.file.type+"\r\n\r\n "+e+"\r\n --"+n+"--\r\n"}}(this),e.onload=function(e){return function(n){return n.loaded===n.total?(e.emit("FileReadComplete",n),t(i(n.currentTarget.result))):void 0}}(this),e.readAsBinaryString(this.file)):t("")},e.prototype.send=function(){var t,e,i;return e=new FileReader,i=new XMLHttpRequest,t="",i.open("POST",this.url,!0),i.setRequestHeader("Content-Type","multipart/form-data; boundary="+n),i.onreadystatechange=function(t){return function(){return 4===i.readyState?i.status>=200&&i.status<400?t.emit("FileUploadSuccess",JSON.parse(i.responseText)):t.emit("FileUploadError",i):void 0}}(this),t+=this.serializedToMultipart([{name:this.id+"-size",value:this.file.size}]),this.fileToMultipart(function(e){var n,o,r,s,a;for(t+=e,s=r=t.length,n=new ArrayBuffer(s),a=new Uint8Array(n);r--;)a[r]=255&t.charCodeAt(r);return o=new Blob([a]),i.send(o)}),this},e}(i)},{"../../core/eventemitter":98}],96:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./object"),e.exports=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e}(o)},{"./object":101}],97:[function(t,e,n){var i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./view"),e.exports=i=function(t){function e(t,n){var i,o;null==t&&(t={}),"string"==typeof t&&(this.tagName=t),null==this.tagName&&(this.tagName=null!=(i=t.tagName)?i:"div"),"a"===this.tagName&&null==(null!=(o=t.attributes)?o.href:void 0)&&(t.attributes||(t.attributes={}),t.attributes.href="#"),e.__super__.constructor.call(this,t,n)}return r(e,t),e.prototype.setDomElement=function(t){var n;return e.__super__.setDomElement.apply(this,arguments),this.unsetClass("kdview"),n=this.getElement(),n.classList.length?void 0:n.removeAttribute("class")},e}(o)},{"./view":104}],98:[function(t,e,n){var i,o=[].slice;e.exports=i=function(){function t(t){var e;null==t&&(t={}),e=t.maxListeners,this._e={},this._maxListeners=e>0?e:10}var e,n,i,r;return t.registerStaticEmitter=function(){return this._e={}},i=function(t,e,n){return null==t[e]&&(t[e]=[]),t[e].push(n)},r=function(t,e,n){var i;return e&&"*"!==e?n&&t[e]?(i=t[e].indexOf(n),i>=0?t[e].splice(i,1):void 0):t[e]=[]:t={}},n=function(t,e,n){var o,r,s,a;if(null==e)throw new Error("Try passing an event, genius!");if(null==n)throw new Error("Try passing a listener, genius!");if(Array.isArray(e)){for(a=[],o=0,r=e.length;r>o;o++)s=e[o],a.push(i(t,s,n));return a}return i(t,e,n)},e=function(t,e,n){var i,o,s,a;if(Array.isArray(e)){for(a=[],i=0,o=e.length;o>i;i++)s=e[i],a.push(r(t,s,n));return a}return r(t,e,n)},t.emit=function(){var t,e,n,i,r,s,a;if(null==this._e)throw new Error("Static events are not enabled for this constructor.");for(n=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],a=null!=(e=this._e)[n]?e[n]:e[n]=[],i=0,r=a.length;r>i;i++)s=a[i],s.apply(null,t);return this},t.on=function(t,e){if("function"!=typeof e)throw new Error("listener is not a function");if(null==this._e)throw new Error("Static events are not enabled for this constructor.");return this.emit("newListener",e),n(this._e,t,e),this},t.off=function(t,n){return this.emit("listenerRemoved",t,n),e(this._e,t,n),this},t.prototype.emit=function(){var t,e,n,i;return n=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null==(e=this._e)[n]&&(e[n]=[]),i=[],i=i.concat(this._e[n].slice(0)),i.forEach(function(e){return function(n){return n.apply(e,t)}}(this)),this},t.prototype.on=function(t,e){if("function"!=typeof e)throw new Error("listener is not a function");return this.emit("newListener",t,e),n(this._e,t,e),this},t.prototype.off=function(t,n){return this.emit("listenerRemoved",t,n),e(this._e,t,n),this},t.prototype.once=function(t,e){var n;return n=function(i){return function(){var o;return o=[].slice.call(arguments),i.off(t,n),e.apply(i,o)}}(this),this.on(t,n),this},t}()},{}],99:[function(t,e,n){var i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,s=[].slice;i=t("./eventemitter"),e.exports=i.Wildcard=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.apply(this,arguments),this._delim=t.delimiter||"."}var n,i,r,a;return o(e,t),a="*",i="_listeners",e.prototype.setMaxListeners=function(t){return this._maxListeners=t},n=function(t,e,o){var r,s,u,l;return null==o&&(o=0),r=[],o===e.length&&(u=t[i]),l=t[a],s=t[e[o]],null!=u&&(r=r.concat(u)),null!=l&&(r=r.concat(n(l,e,o+1))),null!=s&&(r=r.concat(n(s,e,o+1))),r},r=function(t,e,n,o){var s,a,u,l;return null==o&&(o=0),s=e[o],l=t[s],null!=l?r(l,e,n,o+1):void(null!=n&&null!=(u=t[i])?t[i]=function(){var t,e,i;for(i=[],t=0,e=u.length;e>t;t++)a=u[t],a!==n&&i.push(a);return i}():t[i]=[])},e.prototype.emit=function(){var t,e,i,o,r,a,u;for(t=arguments[0],u=2<=arguments.length?s.call(arguments,1):[],this.hasOwnProperty("event")&&(a=this.event),this.event=t,r=n(this._e,t.split(this._delim)),e=0,i=r.length;i>e;e++)o=r[e],o.apply(this,u);return null!=a?this.event=a:delete this.event,this},e.prototype.off=function(t,e){return r(this._e,(null!=t?t:"*").split(this._delim),e),this},e.prototype.on=function(t,e){var n,o,r,s,a,u;if("function"!=typeof e)throw new Error("listener is not a function");for(this.emit("newListener",t,e),o=t.split(this._delim),u=this._e,r=0,s=o.length;s>r;r++)n=o[r],u=null!=u[n]?u[n]:u[n]={};return a=null!=u[i]?u[i]:u[i]=[],a.push(e),this},e}(i)},{"./eventemitter":98}],100:[function(t,e,n){var i,o,r,s,a,u,l,c,p,h;i=t("debug")("kd"),h=t("./utils"),r=t("kd-dom"),o={},a={},c={},p=[],l=null,u={},s=function(t){return null!=c[t]?c[t]:(i("could not found singleton "+t),null)},e.exports={extend:function(t){var e,n,i;n=[];for(e in t){if(i=t[e],this[e])throw new Error(e+" is already registered");n.push(this[e]=i)}return n},registerSingleton:function(t,e,n){var o;return null==n&&(n=!1),null!=(o=c[t])?n?(i("overriding singleton "+t),"function"==typeof o.destroy&&o.destroy(),c[t]=e):(i("cowardly refusing to override singleton "+t+" without being explicitly told to do so"),c[t]):(i("registered singleton "+t),c[t]=e)},registerInstance:function(t){return a[t.id]&&i("overriding instance "+t.id),a[t.id]=t},unregisterInstance:function(t){return delete a[t]},deleteInstance:function(t){return delete a[t]},getSingleton:s,singleton:s,getAllKDInstances:function(){return a},getInstanceForTesting:function(t){return u[t]},registerInstanceForTesting:function(t){var e;return e=t.getOption("testPath"),u[e]=t,t.on("KDObjectWillBeDestroyed",function(t){return function(){return delete u[e]}}(this))},noop:function(){},log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),info:console.info.bind(console),time:console.time.bind(console),timeEnd:console.timeEnd.bind(console),debugStates:o,instances:a,singletons:c,subscriptions:p,lastFuncCall:l,instancesToBeTested:u,utils:h,dom:r}},{"./utils":103,debug:112,"kd-dom":120}],101:[function(t,e,n){var i,o,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].slice;i=t("./kd"),o=t("./eventemitter"),e.exports=r=function(t){function e(t,n){null==t&&(t={}),this.id||(this.id=t.id||i.utils.getUniqueId()),this.setOptions(t),n&&this.setData(n),t.delegate&&this.setDelegate(t.delegate),this.registerKDObjectInstance(),e.__super__.constructor.apply(this,arguments),t.testPath&&i.registerInstanceForTesting(this),this.on("error",console.error.bind(console)),this.once("ready",function(t){return function(){return t.readyState=o}}(this))}var n,o,r;return s(e,t),r=[0,1],n=r[0],o=r[1],e.prototype.utils=i.utils,e.prototype.define=function(t,e){return"function"==typeof e&&(e={get:e}),Object.defineProperty(this,t,e)},e.prototype.bound=function(t){var e;if("function"!=typeof this[t])throw new Error("bound: unknown method! "+t);return e="__bound__"+t,e in this||Object.defineProperty(this,e,{value:this[t].bind(this)}),this[e]},e.prototype.lazyBound=function(){var t,e,n;return t=arguments[0],n=2<=arguments.length?u.call(arguments,1):[],(e=this[t]).bind.apply(e,[this].concat(u.call(n)))},e.prototype.forwardEvent=function(t,e,n){return null==n&&(n=""),t.on(e,this.lazyBound("emit",n+e))},e.prototype.forwardEvents=function(t,e,n){var i,o,r,s;for(null==n&&(n=""),s=[],o=0,r=e.length;r>o;o++)i=e[o],s.push(this.forwardEvent(t,i,n));return s},e.prototype.ready=function(t){return("undefined"!=typeof Promise&&null!==Promise?Promise.prototype.nodeify:void 0)?new Promise(function(t){return function(e){return t.readyState===o&&e(),t.once("ready",e)}}(this)).nodeify(t):this.readyState===o?this.utils.defer(t):this.once("ready",t)},e.prototype.registerSingleton=i.registerSingleton,e.prototype.getSingleton=i.getSingleton,e.prototype.getInstance=function(t){var e;return null!=(e=i.getAllKDInstances()[t])?e:null},e.prototype.registerKDObjectInstance=function(){return i.registerInstance(this)},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.setOptions=function(t){this.options=null!=t?t:{}},e.prototype.setOption=function(t,e){return this.options[t]=e},e.prototype.unsetOption=function(t){return this.options[t]?delete this.options[t]:void 0},e.prototype.getOptions=function(){return this.options},e.prototype.getOption=function(t){var e;return null!=(e=this.options[t])?e:null},e.prototype.changeId=function(t){return i.deleteInstance(t),this.id=t,i.registerInstance(this)},e.prototype.getId=function(){return this.id},e.prototype.setDelegate=function(t){this.delegate=t},e.prototype.getDelegate=function(){return this.delegate},e.prototype.destroy=function(){return this.isDestroyed=!0,this.emit("KDObjectWillBeDestroyed"),i.deleteInstance(this.id)},e.prototype.chainNames=function(t){return t.chain,t.newLink,t.chain+"."+t.newLink},e}(o)},{"./eventemitter":98,"./kd":100}],102:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},h=[].slice;u=t("debug")("kd:router"),o=t("./kd"),s=t("./object"),r=t("../components/notifications/notificationview"),i=t("htmlencode"),e.exports=a=function(t){function e(t){e.__super__.constructor.call(this),this.tree={},this.routes={},this.visitedRoutes=[],t&&this.addRoutes(t),o.utils.defer(function(t){return function(){return e.emit("RouterIsReady",t)}}(this))}var n,s,a,d,f;return l(e,t),s=window.history,a="ಠ_ಠ",e.registerStaticEmitter(),n=function(t){var e;if(null!=(null!=t?t.bongo_:void 0)&&null!=t.getId)return{constructorName:null!=(e=t.bongo_)?e.constructorName:void 0,id:t.getId()}},d=function(t,e){return null==(null!=t?t.constructorName:void 0)||null==t.id?e(null):o.remote.cacheable(t.constructorName,t.id,e)},e.prototype.listen=function(){var t;return location.hash.length&&(t=location.hash.substr(1),this.userRoute=t,this.utils.defer(function(e){return function(){return e.handleRoute(t,{shouldPushState:!0,replaceState:!0})}}(this))),this.startListening()},e.prototype.popState=function(t){return d(t.state,function(t){return function(e,n){return e?o.showError(e):t.handleRoute(""+location.pathname+location.search,{shouldPushState:!1,state:n})}}(this))},e.prototype.clear=function(t,e){return null==t&&(t="/"),null==e&&(e=!0),delete this.userRoute,this.handleRoute(t,{replaceState:e})},e.prototype.back=function(){return this.visitedRoutes.length<=1?this.clear():s.back()},e.prototype.startListening=function(){return this.isListening?!1:(this.isListening=!0,window.addEventListener("popstate",this.bound("popState")),!0)},e.prototype.stopListening=function(){return this.isListening?(this.isListening=!1,window.removeEventListener("popstate",this.bound("popState")),!0):!1},e.handleNotFound=function(t){return u("route "+t+" not found")},e.prototype.getCurrentPath=function(){return this.currentPath},e.prototype.handleNotFound=function(t){var e;return e=/<|>/.test(t)?"Invalid route!":"404 Not found! "+i.XSSEncode(t),delete this.userRoute,this.clear(),u("route "+t+" not found"),new r({title:e})},f=function(t,e){return"/"+t.slice(0,e).concat(t.slice(e+1)).join("/")},e.prototype.addRoute=function(t,e){var n,i,o,r,s,u;for(this.routes[t]=e,u=this.tree,t=t.split("/"),t.shift(),i=o=0,s=t.length;s>o;i=++o)n=t[i],r=n.length-1,"?"===n.charAt(r)&&(this.addRoute(f(t,i),e),n=n.substr(0,r)),/^:/.test(n)?(u[":"]||(u[":"]={name:n.substr(1)}),u=u[":"]):(u[n]||(u[n]={}),u=u[n]);return u[a]||(u[a]=[]),p.call(u[a],e)<0?u[a].push(e):void 0},e.prototype.addRoutes=function(t){var e,n,i;n=[];for(i in t)c.call(t,i)&&(e=t[i],n.push(this.addRoute(i,e)));return n},e.prototype.handleRoute=function(t,e){var i,o,r,u,l,c,p,d,f,g,m,v,y,w,b,_,C,x,k,O,D,S,E,T;for(null==e&&(e={}),0===t.indexOf("!")&&(t=t.slice(1)),this.visitedRoutes.last!==t&&this.visitedRoutes.push(t),k=(null!=(x=null!=t?t:"function"==typeof this.getDefaultRoute?this.getDefaultRoute():void 0)?x:"/").split("?"),o=k[0],C=2<=k.length?h.call(k,1):[],C=this.utils.parseQuery(C.join("&")),S=e.shouldPushState,O=e.replaceState,E=e.state,T=e.suppressListeners,null==S&&(S=!0),v=n(E),g=this.tree,w={},o=o.split("/"),o.shift(),o=o.filter(Boolean),b="/"+o.join("/"),_=this.utils.stringifyQuery(C),_.length&&(b+="?"+_),m=!1,r=0,l=o.length;l>r;r++)i=o[r],g[i]?g=g[i]:(y=g[":"],null!=y?(w[y.name]=i,g=y):m=!0);if(!T&&S&&!O&&b===this.currentPath)return void this.emit("AlreadyHere",b,{params:w,frags:o});if(m&&this.handleNotFound(o.join("/")),this.currentPath=b,S&&(f=O?"replaceState":"pushState",s[f](v,b,b)),D={params:w,query:C},this.emit("RouteInfoHandled",{params:w,query:C,path:b}),!T&&(d=g[a],null!=d?d.length:void 0))for(u=0,c=d.length;c>u;u++)p=d[u],p.call(this,D,E,b);return this},e.prototype.handleQuery=function(t){var e;return"string"!=typeof t&&(t=this.utils.stringifyQuery(t)),t.length?(e=this.currentPath+"?"+t,this.handleRoute(e)):void 0},e}(s)},{"../components/notifications/notificationview":61,"./kd":100,"./object":101,debug:112,htmlencode:117}],103:[function(t,e,n){var i,o,r,s=[].slice;r=t("debug")("kd:utils"),i=t("inflector"),e.exports={idCounter:0,extend:function(){var t,e,n,i,o,r,a;for(r=arguments[0],o=2<=arguments.length?s.call(arguments,1):[],t=0,n=o.length;n>t;t++){i=o[t];for(e in i)a=i[e],r[e]=a}return r},dict:Object.create.bind(null,null,Object.create(null)),getNearestElementByTagName:function(t,e){for(;null!=t&&!this.elementHasTag(t,e);)t=t.parentNode;return t},elementShow:function(t){return null!=t?t.classList.remove("hidden"):void 0},elementHide:function(t){return null!=t?t.classList.add("hidden"):void 0},elementHasTag:function(t,e){var n;return Boolean((null!=(n=t.tagName)?n.toLowerCase():void 0)===e.toLowerCase())},elementIsVisible:function(t){var e,n,i,o,r,s,a;if(t.offsetWidth<=0||t.offsetHeight<=0)return!1;for(e=document.documentElement.clientHeight,a=t.getClientRects(),r=function(e){var n,i;return n=(e.left+e.right)/2,i=(e.top+e.bottom)/2,document.elementFromPoint(n,i)===t},n=0,o=a.length;o>n;){if(s=a[n],i=s.top>0?s.top<=e:s.bottom>0&&s.bottom<=e,i&&r(s))return!0;n++}return!1},formatPlural:function(t,e,n){return null==n&&(n=!0),""+(n?(t||0)+" ":"")+(1===t?e:i.pluralize(e))},formatIndefiniteArticle:function(t){var e;return"a"===(e=t[0].toLowerCase())||"e"===e||"i"===e||"o"===e||"u"===e?"an "+t:"a "+t},getSelection:function(){return window.getSelection()},getSelectionRange:function(){var t;return t=this.getSelection(),"None"!==t.type?t.getRangeAt(0):void 0},getCursorNode:function(){return this.getSelectionRange().commonAncestorContainer},addRange:function(t){var e;return e=window.getSelection(),e.removeAllRanges(),e.addRange(t)},selectText:function(t,e,n){var i,o;return null==n&&(n=e),document.body.createTextRange?(i=document.body.createTextRange(),i.moveToElementText(t),i.select()):window.getSelection?(o=window.getSelection(),i=document.createRange(),i.selectNodeContents(t),null!=e&&i.setStart(t,e),null!=n&&i.setEnd(t,n),o.removeAllRanges(),o.addRange(i)):void 0},selectEnd:function(t,e){return e||(e=document.createRange()),t||(t=this.getSelection().focusNode),t?(e.setStartAfter(t),e.collapse(!1),this.addRange(e)):void 0},replaceRange:function(t,e,n,i,o){var r,s;return null==i&&(i=n),null==o&&(o=!0),s=document.createTextNode(" "),r=new Range,null!=n?(r.setStart(t,n),r.setEnd(t,i)):r.selectNode(t),r.deleteContents(),r.insertNode(e),this.selectEnd(e,r),o?(r.insertNode(s),this.selectEnd(s,r)):void 0},getCallerChain:function(t,e){var n,i;for(n=t.callee.caller,i=[n];e--&&(n=null!=n?n.caller:void 0);)i.push(n);return i},createCounter:o=function(t){return null==t&&(t=0),function(){return t++}},getUniqueId:function(t){return function(){return"kd-"+t()}}(o()),getRandomNumber:function(t,e){var n;return null==t&&(t=1e6),null==e&&(e=0),n=Math.floor(Math.random()*t+1),n>e?n:n+e},uniqueId:function(t){var e;return e=this.idCounter++,null!=t?""+t+e:e},getRandomRGB:function(){var t;return t=this.getRandomNumber,"rgb("+t(255)+","+t(255)+","+t(255)+")"},getRandomHex:function(){var t;for(t=(10066329*Math.random()<<0).toString(16);t.length<6;)t+="0";return"#"+t},curry:function(t,e){return t+(e?" "+e:"")},parseQuery:function(){var t,e,n,i;return e=/([^&=]+)=?([^&]*)/g,i=/\+/g,t=function(t){return decodeURIComponent(t.replace(i," "))},n=function(n){var i,o;for(null==n&&(n=location.search.substring(1)),o={};i=e.exec(n);)o[t(i[1])]=t(i[2]);return o}}(),stringifyQuery:function(){var t,e,n;return e=/\s/g,t=function(t){return encodeURIComponent(t.replace(e,"+"))},n=function(e){return Object.keys(e).map(function(n){return t(n)+"="+t(e[n])}).join("&").trim()}}(),capAndRemovePeriods:function(t){var e,n;return n=function(){var n,i,o,r;for(o=t.split("."),r=[],n=0,i=o.length;i>n;n++)e=o[n],r.push(e.capitalize());return r}(),n.join("")},slugify:function(t){var e;return null==t&&(t=""),e=String(t).toLowerCase().replace(/^\s+|\s+$/g,"").replace(/[_|\s]+/g,"-").replace(/[^a-z0-9-]+/g,"").replace(/[-]+/g,"-").replace(/^-+|-+$/g,"")},stripTags:function(t){return t.replace(/<(?:.|\n)*?>/gm,"")},decimalToAnother:function(t,e){var n,i,o,r,s,a,u,l,c;for(o=[],r=s=0;10>=s;r=++s)o[r+1]=r;for(l="",n=t;n>=e;)i=n%e,n=Math.floor(n/e),l+=o[i+1];for(l+=o[n+1],t=l.length,c="",r=a=0,u=t;u>=0?u>a:a>u;r=u>=0?++a:--a)c+=l.substring(t-r-1,t-r);return l=c},enterFullscreen:function(){var t;return t=function(t){return t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():void 0},function(e){return null==e&&(e=document.documentElement),t(e)}}(),exitFullscreen:function(){return document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():void 0},isFullscreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitIsFullScreen},createExternalLink:function(t){var e;return e=document.createElement("a"),e.href=t.indexOf("http")>-1?t:"http://"+t,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},wait:function(t,e){return"function"==typeof t&&(e=t,t=0),setTimeout(e,t)},killWait:function(t){return t&&clearTimeout(t),null},repeat:function(t,e){return"function"==typeof t&&(e=t,t=500),setInterval(e,t)},killRepeat:function(t){return clearInterval(t)},defer:function(t){return("undefined"!=typeof window&&null!==window?window.postMessage:void 0)&&window.addEventListener?(window.addEventListener("message",function(e){return e.source===window&&"kd-tick"===e.data&&(e.stopPropagation(),t.length>0)?t.shift()():void 0},!0),function(e){return t.push(e),window.postMessage("kd-tick","*")}):function(t){return setTimeout(t,1)}}([]),getCancellableCallback:function(t){var e,n;return e=!1,n=function(){var n;return n=1<=arguments.length?s.call(arguments,0):[],e?void 0:t.apply(null,n)},n.cancel=function(){return e=!0},n},getTimedOutCallback:function(t,e,n){var i,o,r,a;return null==n&&(n=5e3),i=!1,a=function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearTimeout(r),i?void 0:t.apply(null,e)},o=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],i||e.apply(null,t),i=!0},r=setTimeout(o,n),a},getTimedOutCallbackOne:function(t){var e,n,i,o,r,a,u,l,c;return null==t&&(t={}),c=t.name||"undefined",l=t.timeout||1e4,r=t.onSuccess||function(){},a=t.onTimeout||function(){},o=t.onResult||function(){},u=!1,i=function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearTimeout(n),t.updateLogTimer(c,n,Date.now()),u?o.apply(null,e):r.apply(null,e)}}(this),e=function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],u=!0,t.updateLogTimer(c,n),a.apply(null,e)}}(this),n=setTimeout(e,l),this.logTimer(c,n,Date.now()),i.cancel=function(){return clearTimeout(n)},i},logTimer:function(t,e,n){var i;return console.log("logTimer name:"+t),(i=this.timers)[t]||(i[t]={}),this.timers[t][e]={start:n,status:"started"}},updateLogTimer:function(t,e,n){var i,o,r,s;return s=this.timers[t][e],r=n?"ended":"failed",o=s.start,i=n-o,s={start:o,end:n,status:r,elapsed:i},this.timers[t][e]=s,console.log("updateLogTimer name:"+t+", status:"+r+" elapsed:"+i)},timers:{},stopDOMEvent:function(t){return t?(t.preventDefault(),t.stopPropagation(),!1):!1},utf8Encode:function(t){var e,n,i;for(t=t.replace(/\r\n/g,"\n"),i="",n=0;n<t.length;)e=t.charCodeAt(n),128>e?i+=String.fromCharCode(e):e>127&&2048>e?(i+=String.fromCharCode(e>>6|192),i+=String.fromCharCode(63&e|128)):(i+=String.fromCharCode(e>>12|224),i+=String.fromCharCode(e>>6&63|128),i+=String.fromCharCode(63&e|128)),n++;return i},utf8Decode:function(t){var e,n,i,o,r,s;for(s="",r=0,e=n=i=0;r<t.length;)e=t.charCodeAt(r),128>e?(s+=String.fromCharCode(e),r++):e>191&&224>e?(i=t.charCodeAt(r+1),s+=String.fromCharCode((31&e)<<6|63&i),r+=2):(i=t.charCodeAt(r+1),o=t.charCodeAt(r+2),s+=String.fromCharCode((15&e)<<12|(63&i)<<6|63&o),r+=3);return s},runXpercent:function(t){var e;return e=Math.floor(100*Math.random()),t>=e},shortenUrl:function(t,e){var n;return n=$.ajax("https://www.googleapis.com/urlshortener/v1/url",{type:"POST",contentType:"application/json",data:JSON.stringify({longUrl:t}),timeout:4e3,dataType:"json"}),n.done(function(n){return function(n){return e((null!=n?n.id:void 0)||t,n)}}(this)),n.error(function(n){var i,o,s;return o=n.status,s=n.statusText,i=n.responseText,r("could not shorten url "+t,o,s,i),e(t)})},formatBytesToHumanReadable:function(t,e){var n,i,o,r;if(null==e&&(e=2),n="",0>t&&(n="-",t*=-1),i=1024,r=["kB","MB","GB","TB","PB","EB","ZB","YB"],o=-1,i>t)return t+" B";for(;;)if(t/=i,++o,!(t>=i))break;return""+n+t.toFixed(e)+" "+r[o]},splitTrim:function(t,e,n){var i,o;return null==e&&(e=","),null==n&&(n=!0),i=null!=(o=null!=t?t.split(e).map(function(t){return t.trim()}):void 0)?o:[],n&&(i=i.filter(Boolean)),i},arrayToObject:function(t,e){var n,i,o,r;for(n={},i=0,o=t.length;o>i;i++)r=t[i],null!=r[e]&&(n[r[e]]=r);return n},partition:function(t,e){var n,i,o,r;for(r=[[],[]],i=0,o=t.length;o>i;i++)n=t[i],r[+!e(n)].push(n);return r},throttle:function(t,e,n){var i,o,r,s,a,u,l;return"number"==typeof e&&(a=[e,t],t=a[0],e=a[1]),o=null,i=null,u=null,l=null,s=0,null==n&&(n={}),r=function(){return s=n.leading===!1?0:Date.now,l=null,u=e.apply(o,i),l?void 0:o=i=null},function(){var a,c;return a=Date.now,s||n.leading!==!1||(s=a),c=t-(a-s),o=this,i=arguments,0>=c||c>t?(l&&(clearTimeout(l),l=null),s=a,u=e.apply(o,i),l||(o=i=null)):l||n.trailing===!1||(l=setTimeout(r,c)),u}},debounce:function(t,e,n){var i,o,r,s,a,u,l;return"number"==typeof e&&(s=[e,t],t=s[0],e=s[1]),u=null,i=null,o=null,l=null,a=null,r=function(){var s;return s=Date.now-l,t>s&&s>=0?u=setTimeout(r,t-s):(u=null,n||(a=e.apply(o,i),u)?void 0:o=i=null)},function(){var s;return o=this,i=arguments,l=Date.now,s=n&&!u,null==u&&(u=setTimeout(r,t)),s&&(a=e.apply(o,i),o=i=null),a}},relativeOffset:function(t,e){var n,i,o;for(i=0,o=0,n=t;n&&(i+=n.offsetLeft,o+=n.offsetTop,n!==e);)if(n=n.parentNode,null==n)throw new Error("Not a descendant!");return[i,o]},isTouchDevice:function(){var t;try{return document.createEvent("TouchEvent"),!0}catch(e){return t=e,!1}}}},{debug:112,inflector:123}],104:[function(t,e,n){var i,o,r,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},h=[].slice;u=t("debug")("kd:view"),i=t("jquery"),o=t("./kd"),r=t("./object"),a=t("mutation-summary"),e.exports=s=function(e){function n(t,e){null==t&&(t={}),t.tagName||(t.tagName="div"),t.domId||(t.domId=null),t.cssClass||(t.cssClass=""),t.parent||(t.parent=null),t.partial||(t.partial=null),t.delegate||(t.delegate=null),t.bind||(t.bind=""),t.draggable||(t.draggable=null),t.size||(t.size=null),t.position||(t.position=null),t.attributes||(t.attributes=null),t.prefix||(t.prefix=""),t.suffix||(t.suffix=""),t.tooltip||(t.tooltip=null),null==t.lazyLoadThreshold&&(t.lazyLoadThreshold=!1),t.droppable||(t.droppable=null),t.resizable||(t.resizable=null),n.__super__.constructor.call(this,t,e),null!=e&&"function"==typeof e.on&&e.on("update",this.bound("render")),this.defaultInit()}var r,s,d,f;return l(n,e),r=Object.defineProperty,s=/^((dbl)?click|key(up|down|press)|mouse(up|down|over|enter|leave|move)|drag(start|end|enter|leave|over)|blur|change|focus|drop|contextmenu|scroll|paste|error|load|wheel)$/,d=function(){return{dblclick:"dblClick",keyup:"keyUp",keydown:"keyDown",keypress:"keyPress",mouseup:"mouseUp",mousedown:"mouseDown",mouseenter:"mouseEnter",mouseleave:"mouseLeave",mousemove:"mouseMove",wheel:"mouseWheel",mousewheel:"mouseWheel",mouseover:"mouseOver",contextmenu:"contextMenu",dragstart:"dragStart",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",paste:"paste",transitionend:"transitionEnd"}},f=function(t){var e,n,i;n=t.overridden;for(i in n)c.call(n,i)&&(e=n[i],t.overrider[i]||(t.overrider[i]=e));return t.overrider},n.prototype.appendToDomBody=function(){return this.parentIsInDom=!0,this.lazy?void 0:(i("body").append(this.$()),this.utils.defer(function(t){return function(){return t.emit("viewAppended")}}(this)))},n.prototype.defaultInit=function(){var t,e,n,i,o,r,s,a,u,l,p,h;return o=this.getOptions(),this.domId=o.domId,this.parent=o.parent,this.subViews=[],e=o.cssClass,t=o.attributes,l=o.size,u=o.position,r=o.partial,n=o.draggable,s=o.pistachio,a=o.pistachioParams,i=o.lazyLoadThreshold,h=o.tooltip,n=o.draggable,p=o.tagName,this.setDomElement(e),this.setDataId(),this.domId&&this.setDomId(this.domId),t&&this.setAttributes(t),u&&this.setPosition(u),r&&this.updatePartial(r),n&&this.setClass("kddraggable"),this.addEventHandlers(o),i&&this.setLazyLoader(i),h&&this.setTooltip(h),n&&this.setDraggable(n),this.bindEvents(),this.on("childAppended",this.childAppended.bind(this)),this.on("viewAppended",function(t){return function(){var e,n,i,o,r,s,a,u;if(t.setViewReady(),t.viewAppended(),t.childAppended(t),t.parentIsInDom=!0,n=function(t){return t.parentIsInDom||(t.parentIsInDom=!0,t.lazy)?void 0:t.emit("viewAppended")},u=t.getSubViews(),Array.isArray(u)){for(s=[],i=0,r=u.length;r>i;i++)e=u[i],s.push(n(e));return s}if(null!=u&&"object"==typeof u){a=[];for(o in u)c.call(u,o)&&(e=u[o],a.push(n(e)));return a}}}(this))},n.prototype.getDomId=function(){return this.domElement.attr("id")},n.prototype.setDomElement=function(t){var e,n,o,r,s,a,l,c;for(null==t&&(t=""),a=this.getOptions(),e=a.domId,c=a.tagName,e&&(n=document.getElementById(e)),this.lazy=null==n?(n=document.createElement(c),e?n.id=e:void 0,!1):!0,l=("kdview "+t).split(" "),o=0,s=l.length;s>o;o++)r=l[o],r.length&&n.classList.add(r);return this.domElement=i(n),this.lazy?(u("lazyElement found with id "+e),this.utils.defer(function(t){return function(){return t.emit("viewAppended")}}(this))):void 0},n.prototype.setDomId=function(t){return this.domElement.attr("id",t)},n.prototype.setData=function(t){var e,i;return null!=(e=this.data)&&"function"==typeof e.off&&e.off("update",this.bound("render")),n.__super__.setData.call(this,t),null!=(i=this.data)&&"function"==typeof i.on&&i.on("update",this.bound("render")),this.parentIsInDom?this.render():void 0},n.prototype.setDataId=function(){return this.domElement.data("data-id",this.getId())},n.prototype.getAttribute=function(t){return this.getElement().getAttribute(t)},n.prototype.setAttribute=function(t,e){return this.getElement().setAttribute(t,e)},n.prototype.setAttributes=function(t){var e,n,i;n=[];for(e in t)c.call(t,e)&&(i=t[e],n.push(this.setAttribute(e,i)));return n},n.prototype.isInDom=function(){var t;return t=function(t){var e;for(e=t;e.parentNode;)e=e.parentNode;return e},function(){return null!=t(this.$()[0]).body}}(),n.prototype.getDomElement=function(){return this.domElement},n.prototype.getElement=function(){return this.getDomElement()[0]},n.prototype.getTagName=function(){return this.options.tagName||"div"},n.prototype.$=function(t){return t?this.getDomElement().find(t):this.getDomElement()},n.prototype.append=function(t,e){return this.$(e).append(t.$()),this.parentIsInDom&&t.emit("viewAppended"),this},n.prototype.appendTo=function(t,e){return this.$().appendTo(t.$(e)),this.parentIsInDom&&this.emit("viewAppended"),this},n.prototype.appendToSelector=function(t){return i(t).append(this.$()),this.emit("viewAppended")},n.prototype.prepend=function(t,e){return this.$(e).prepend(t.$()),this.parentIsInDom&&t.emit("viewAppended"),this},n.prototype.prependTo=function(t,e){return this.$().prependTo(t.$(e)),this.parentIsInDom&&this.emit("viewAppended"),this},n.prototype.prependToSelector=function(t){return i(t).prepend(this.$()),this.emit("viewAppended")},n.prototype.setPartial=function(t,e){return this.$(e).append(t),this},n.prototype.updatePartial=function(t,e){return this.$(e).html(t)},n.prototype.clear=function(){return this.getElement().innerHTML=""},n.setElementClass=function(t,e,n){var i,o,r,s,a;for(s=n.split(" "),a=[],o=0,r=s.length;r>o;o++)i=s[o],""!==i&&a.push(t.classList[e](i));return a},n.prototype.setCss=function(t,e){return this.$().css(t,e)},n.prototype.setStyle=function(t){
var e,n,i;n=[];for(e in t)c.call(t,e)&&(i=t[e],n.push(this.$().css(e,i)));return n},n.prototype.setClass=function(t){return t?(n.setElementClass(this.getElement(),"add",t),this):void 0},n.prototype.unsetClass=function(t){return t?(n.setElementClass(this.getElement(),"remove",t),this):void 0},n.prototype.toggleClass=function(t){return this.hasClass(t)?this.unsetClass(t):this.setClass(t),this},n.prototype.hasClass=function(t){return t?this.getElement().classList.contains(t):!1},n.prototype.getBounds=function(){return{x:this.getX(),y:this.getY(),w:this.getWidth(),h:this.getHeight(),n:this.constructor.name}},n.prototype.setRandomBG=function(){return this.getDomElement().css("background-color",o.utils.getRandomRGB())},n.prototype.hide=function(t){return this.setClass("hidden")},n.prototype.show=function(t){return this.unsetClass("hidden")},n.prototype.setPosition=function(){var t;return t=this.getOptions().position,t.position="absolute",this.$().css(t)},n.prototype.getWidth=function(){return this.$().outerWidth(!1)},n.prototype.setWidth=function(t,e){return null==e&&(e="px"),this.getElement().style.width=""+t+e,this.emit("ViewResized",{newWidth:t,unit:e})},n.prototype.getHeight=function(){return this.getDomElement().outerHeight(!1)},n.prototype.setHeight=function(t,e){return null==e&&(e="px"),this.getElement().style.height=""+t+e,this.emit("ViewResized",{newHeight:t,unit:e})},n.prototype.setX=function(t){return this.$().css({left:t})},n.prototype.setY=function(t){return this.$().css({top:t})},n.prototype.getX=function(){return this.getElement().getBoundingClientRect().left},n.prototype.getY=function(){return this.getElement().getBoundingClientRect().top},n.prototype.getRelativeX=function(){return this.$().position().left},n.prototype.getRelativeY=function(){return this.$().position().top},n.prototype.destroyChild=function(t){var e;return null!=this[t]?("function"==typeof(e=this[t]).destroy&&e.destroy(),delete this[t],!0):!1},n.prototype.attach=function(t){return this.getElement().appendChild(t.getElement()),t.setParent(this),this.subViews.push(t)},n.prototype.detach=function(){var t;return null!=(t=this.parent)&&t.getElement().removeChild(this.getElement()),this.orphanize(),this.unsetParent()},n.prototype.orphanize=function(){var t,e;return(null!=(e=this.parent)?e.subViews:void 0)&&(t=this.parent.subViews.indexOf(this))>=0?(this.parent.subViews.splice(t,1),this.unsetParent()):void 0},n.prototype.destroy=function(){return this.getSubViews().length>0&&this.destroySubViews(),this.orphanize(),this.getDomElement().remove(),null!=this.$overlay&&this.removeOverlay(),n.__super__.destroy.apply(this,arguments)},n.prototype.destroySubViews=function(){var t,e,n,i;for(n=this.getSubViews().slice(),t=0,e=n.length;e>t;t++)i=n[t],"function"==typeof i.destroy&&i.destroy()},n.prototype.addSubView=function(t,e,n){if(null==t)throw new Error("no subview was specified");return this.subViews.push(t),t.setParent(this),t.parentIsInDom=this.parentIsInDom,t.lazy||(n?this.prepend(t,e):this.append(t,e)),t.on("ViewResized",function(){return t.parentDidResize()}),null!=this.template&&this.template.addSymbol(t),t},n.prototype.removeSubView=function(t){return t.destroy()},n.prototype.getSubViews=function(){var t;return t=this.subViews,null!=this.items&&(t=t.concat([].slice.call(this.items))),t},n.prototype.setParent=function(t){return null!=this.parent?u("view already has a parent",this,this.parent):r?r(this,"parent",{value:t,configurable:!0}):this.parent=t},n.prototype.unsetParent=function(){return delete this.parent},n.prototype.embedChild=function(t,e,n){return this.addSubView(e,"#"+t,!1),n?void 0:this.$("#"+t).replaceWith(e.$())},n.prototype.render=function(t){return null!=this.template?this.template.update(t):void 0},n.prototype.addEventHandlers=function(t){var e,n,i;i=[];for(n in t)c.call(t,n)&&(e=t[n],i.push(s.test(n)&&"function"==typeof e?this.on(n,e):void 0));return i},n.prototype.parentDidResize=function(t,e){var n,i,o,r,s;if(this.getSubViews()){for(o=this.getSubViews(),r=[],n=0,i=o.length;i>n;n++)s=o[n],r.push(s.parentDidResize(t,e));return r}},n.prototype.setLazyLoader=function(t){var e,n;return null==t&&(t=.75),e=this.getOptions().bind,/scroll/.test(e)||(this.getOptions().bind=o.utils.curry("scroll",e)),n=this,this.on("scroll",function(){var e;return t=Math.max(50,t),e=0,function(n){var i,o,r,s,a,u;return s=this.getElement(),a=s.scrollHeight,u=s.scrollTop,r=this.getHeight(),0>u?e=r:r>a-u?void 0:(i=u+r,o=i>e?"down":"up","up"===o&&t>u&&this.emit("TopLazyLoadThresholdReached"),"down"===o&&i>a-t&&this.emit("LazyLoadThresholdReached"),e=i)}}())},n.prototype.bindEvents=function(t){var e,n,i,o;return t||(t=this.getDomElement()),e="mousedown mouseup click dblclick",o=this.getOptions().bind,i=function(){var t,r;if(o){for(i=e.trim().split(" "),o=o.trim().split(" "),t=0,r=o.length;r>t;t++)n=o[t],p.call(i,n)<0&&i.push(n);return i.join(" ")}return e}(),t.bind(i,function(t){return function(e){var n;return n=t.handleEvent(e),n||e.stopPropagation(),!0}}(this)),i},n.prototype.bindTransitionEnd=function(){var t,e,n,i,o;t=document.createElement("fakeelement"),i={OTransition:"oTransitionEnd",MozTransition:"transitionend",webkitTransition:"webkitTransitionEnd"},n="transitionend";for(e in i)if(c.call(i,e)&&(o=i[e],e in t.style)){n=o;break}return this.bindEvent(n),"transitionend"!==n?this.on(n,this.emit.bind(this,"transitionend")):void 0},n.prototype.bindEvent=function(t,e){var n;return e||(n=[t,this.$()],e=n[0],t=n[1]),t.bind(e,function(t){return function(e){var n;return n=t.handleEvent(e),n||e.stopPropagation(),!0}}(this))},n.prototype.handleEvent=function(t){var e,n;return e=d()[t.type]||t.type,n=null!=this[e]?this[e](t):!0,n!==!1&&this.emit(t.type,t),n},n.prototype.scroll=function(t){return!0},n.prototype.load=function(t){return!0},n.prototype.error=function(t){return!0},n.prototype.keyUp=function(t){return!0},n.prototype.keyDown=function(t){return!0},n.prototype.keyPress=function(t){return!0},n.prototype.dblClick=function(t){return!0},n.prototype.click=function(t){return!0},n.prototype.contextMenu=function(t){return!0},n.prototype.mouseMove=function(t){return!0},n.prototype.mouseEnter=function(t){return!0},n.prototype.mouseLeave=function(t){return!0},n.prototype.mouseUp=function(t){return!0},n.prototype.mouseOver=function(t){return!0},n.prototype.mouseWheel=function(t){return!0},n.prototype.mouseDown=function(t){return this.unsetKeyView(),!0},n.prototype.paste=function(t){return!0},n.prototype.dragEnter=function(t){return t.preventDefault(),t.stopPropagation()},n.prototype.dragOver=function(t){return t.preventDefault(),t.stopPropagation()},n.prototype.dragLeave=function(t){return t.preventDefault(),t.stopPropagation()},n.prototype.drop=function(t){return t.preventDefault(),t.stopPropagation()},n.prototype.submit=function(t){return!1},n.prototype.setEmptyDragState=function(t){var e;return null==t&&(t=!1),t&&this.dragState&&(e=this.$(),e.css("left",0),e.css("top",0)),this.dragState={containment:null,handle:null,axis:null,direction:{current:{x:null,y:null},global:{x:null,y:null}},position:{relative:{x:0,y:0},initial:{x:0,y:0},global:{x:0,y:0}},meta:{top:0,right:0,bottom:0,left:0}}},n.prototype.setDraggable=function(t){var e;return null==t&&(t={}),t===!0&&(t={}),this.setEmptyDragState(),e=t.handle instanceof n?t.handle:this,this.on("DragFinished",function(t){return function(e){return t.beingDragged=!1}}(this)),e.on("mousedown",function(e){return function(r){var s,a,u,l,p,h,d,f,g,m;if("string"!=typeof t.handle||0!==i(r.target).closest(t.handle).length){if(e.dragIsAllowed=!0,e.setEmptyDragState(),p=e.dragState,t.containment){if(p.containment={},p.containment.m={w:e.getWidth(),h:e.getHeight()},m=t.containment.view,s="string"==typeof m?e[m].getBounds():m instanceof n?m.getBounds():e.parent.getBounds(),p.containment.viewBounds=s,f={top:0,right:0,bottom:0,left:0},h=t.containment.padding,"number"==typeof h)for(d in f)c.call(f,d)&&(g=f[d],g=h);else"object"==typeof h&&o.utils.extend(f,h);p.containment.padding=f}return p.handle=t.handle,p.axis=t.axis,u=p.meta,a=e.getElement(),u.top=parseInt(a.style.top,10)||0,u.right=parseInt(a.style.right,10)||0,u.bottom=parseInt(a.style.bottom,10)||0,u.left=parseInt(a.style.left,10)||0,l=e.dragState.position,l.initial.x=r.pageX,l.initial.y=r.pageY,o.getSingleton("windowController").setDragView(e),e.emit("DragStarted",r,e.dragState),r.stopPropagation(),r.preventDefault(),!1}}}(this))},n.prototype.drag=function(t,e){var n,i,o,r,s,a,u,l,c,p,h,d,f,g,m,v,y,w,b,_,C,x,k,O;return _=this.dragState,r=_.directionX,s=_.directionY,n=_.axis,i=_.containment,k=e.x,O=e.y,d=this.dragState.position,f=d.relative,p=d.initial,c=d.global,u=this.dragState.direction,l=u.global,a=u.current,n=this.getOptions().draggable.axis,g=n?Math.abs("x"===n?k:O):Math.max(Math.abs(k),Math.abs(O)),this.dragIsAllowed=this.beingDragged=!(20>g&&!this.beingDragged),k>f.x?a.x="right":k<f.x&&(a.x="left"),O>f.y?a.y="bottom":O<f.y&&(a.y="top"),c.x=p.x+k,c.y=p.y+O,l.x=k>0?"right":"left",l.y=O>0?"bottom":"top",this.dragIsAllowed&&(m=this.$(),h=this.dragState.meta,C=h.right&&!h.left?"right":"left",x=h.bottom&&!h.top?"bottom":"top",y="left"===C?h.left+f.x:h.right-f.x,w="top"===x?h.top+f.y:h.bottom-f.y,i&&(v=i.m,b=i.viewBounds,o=i.padding,y<=o.left&&(y=o.left),w<=o.top&&(w=o.top),y+v.w>=b.w-o.right&&(y=b.w-v.w-o.right),w+v.h>=b.h-o.bottom&&(w=b.h-v.h-o.bottom)),"y"!==n&&m.css(C,y),"x"!==n&&m.css(x,w)),f.x=k,f.y=O,this.emit("DragInAction",k,O)},n.prototype.viewAppended=function(){},n.prototype.childAppended=function(t){var e;return null!=(e=this.parent)?e.emit("childAppended",t):void 0},n.prototype.setViewReady=function(){return this.viewIsReady=!0},n.prototype.isViewReady=function(){return this.viewIsReady||!1},n.prototype.observeMutations=function(){var t,e;if(a)return t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e=new a({callback:function(t){return function(){var e;return e=1<=arguments.length?h.call(arguments,0):[],t.emit.apply(t,["MutationHappened"].concat(h.call(e)))}}(this),rootNode:this.getElement(),queries:[{all:!0}]})},n.prototype.putOverlay=function(e){var n;return null==e&&(e={}),e.delegate=this,n=t("../components/overlay/overlayview"),this.overlay=new n(e)},n.prototype.removeOverlay=function(){var t;return null!=(t=this.overlay)?t.destroy():void 0},n.prototype.unsetTooltip=function(){var t;return null!=(t=this.tooltip)&&t.destroy(),this.tooltip=null},n.prototype.setTooltip=function(e){var n,i;return null==e&&(e={}),i={above:"s",below:"n",left:"e",right:"w"},e.title||(e.title=""),e.cssClass||(e.cssClass=""),e.placement||(e.placement="top"),e.direction||(e.direction="center"),e.offset||(e.offset={top:0,left:0}),e.delayIn||(e.delayIn=0),e.delayOut||(e.delayOut=0),null==e.html&&(e.html=!0),null==e.animate&&(e.animate=!1),e.selector||(e.selector=null),e.gravity||(e.gravity=i[e.placement]),e.fade||(e.fade=e.animate),e.fallback||(e.fallback=e.title),e.view||(e.view=null),null==e.sticky&&(e.sticky=!1),null==e.permanent&&(e.permanent=!1),e.delegate||(e.delegate=this),e.events||(e.events=["mouseenter","mouseleave","mousemove"]),this.unsetTooltip(),n=t("../components/tooltip/tooltip"),this.tooltip=new n(e,{})},n.prototype.getTooltip=function(){return this.tooltip},n.prototype._windowDidResize=function(){},n.prototype.listenWindowResize=function(t){var e;return null==t&&(t=!0),e=o.getSingleton("windowController"),t?e.registerWindowResizeListener(this):e.unregisterWindowResizeListener(this)},n.prototype.setKeyView=function(){var t;return t=o.getSingleton("windowController"),t.setKeyView(this)},n.prototype.unsetKeyView=function(){var t;return t=o.getSingleton("windowController"),t.setKeyView(null)},n.prototype.activateKeyView=function(){return"function"==typeof this.emit?this.emit("KDViewBecameKeyView"):void 0},n}(r)},{"../components/overlay/overlayview":62,"../components/tooltip/tooltip":85,"./kd":100,"./object":101,debug:112,jquery:119,"mutation-summary":125}],105:[function(t,e,n){var i,o,r,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("./kd"),r=t("./view"),o=t("./controller"),e.exports=s=function(t){function e(t,n){null==t&&(t={}),t.view||(t.view=new r),e.__super__.constructor.call(this,t,n),this.getOptions().view&&this.setView(this.getOptions().view)}return a(e,t),e.prototype.loadView=function(t){},e.prototype.getView=function(){return this.mainView},e.prototype.setView=function(t){var e;return this.mainView=t,this.emit("ControllerHasSetItsView"),e=this.loadView.bind(this,t),t.isViewReady()?e():(t.once("viewAppended",e),t.once("KDObjectWillBeDestroyed",function(t){return function(){return i.utils.defer(t.bound("destroy"))}}(this)))},e}(o)},{"./controller":96,"./kd":100,"./view":104}],106:[function(t,e,n){var i,o,r,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};a=t("debug")("kd:windowcontroller"),i=t("jquery"),o=t("./kd"),r=t("./controller"),e.exports=s=function(t){function e(t,n){this.windowResizeListeners={},this.keyEventsToBeListened=["keydown","keyup","keypress"],this.keyView=null,this.dragView=null,this.layers=[],this.unloadListeners={},this.focusListeners=[],this.focused=!0,this.bindEvents(),e.__super__.constructor.call(this,t,n)}var n;return u(e,t),n=function(t,e,n){return null==n&&(n=!0),window.addEventListener(t,e,n)},e.prototype.addLayer=function(t){return c.call(this.layers,t)<0?(this.layers.push(t),t.on("KDObjectWillBeDestroyed",function(e){return function(){return e.removeLayer(t)}}(this))):void 0},e.prototype.removeLayer=function(t){var e;return c.call(this.layers,t)>=0?(e=this.layers.indexOf(t),this.layers.splice(e,1)):void 0},e.prototype.bindEvents=function(){var t,e,r,s,a;for(a=this.keyEventsToBeListened,e=0,s=a.length;s>e;e++)t=a[e],window.addEventListener(t,this.bound("key"));return window.addEventListener("resize",this.bound("notifyWindowResizeListeners")),document.addEventListener("scroll",function(t){return function(){var e,n;return n=null,e=document.body,o.utils.throttle(function(e){return t.emit("ScrollHappened",e)},50)}}(this)(),!1),n("dragenter",function(t){return function(e){return t.dragInAction?void 0:(t.emit("DragEnterOnWindow",e),t.setDragInAction(!0))}}(this)),n("dragleave",function(t){return function(e){var n,i;return 0<(n=e.clientX)&&n<t.winWidth&&0<(i=e.clientY)&&i<t.winHeight?void 0:(t.emit("DragExitOnWindow",e),t.setDragInAction(!1))}}(this)),n("drop",function(t){return function(e){return t.emit("DragExitOnWindow",e),t.emit("DropOnWindow",e),t.setDragInAction(!1)}}(this)),r=this.layers,n("mousedown",function(t){return function(e){var n;return n=r.last,n&&0===i(e.target).closest(null!=n?n.$():void 0).length?(n.emit("ReceivedClickElsewhere",e),t.removeLayer(n)):void 0}}(this)),n("mouseup",function(t){return function(e){return t.dragView&&t.unsetDragView(e),t.emit("ReceivedMouseUpElsewhere",e)}}(this)),n("mousemove",function(t){return function(e){return t.dragView?t.redirectMouseMoveEvent(e):void 0}}(this)),n("click",function(t){var e,n,i,r,s;if(r=o.utils.getNearestElementByTagName(t.target,"a"),0===(null!=r&&null!=(s=r.target)?s.length:void 0)){if(e=r.getAttribute("href"),n=0===(null!=e?e.indexOf("http"):void 0),i=0===(null!=e?e.indexOf("mailto"):void 0),n)return r.target="_blank";if(!i&&(t.preventDefault(),e&&!/^#/.test(e)))return o.getSingleton("router").handleRoute(e)}},!1),n("beforeunload",this.bound("beforeUnload")),window.onfocus=this.bound("focusChange"),window.onblur=this.bound("focusChange")},e.prototype.addUnloadListener=function(t,e){var n;return(n=this.unloadListeners)[t]||(n[t]=[]),this.unloadListeners[t].push(e)},e.prototype.clearUnloadListeners=function(t){return t?this.unloadListeners[t]=[]:this.unloadListeners={}},e.prototype.isFocused=function(){return this.focused},e.prototype.addFocusListener=function(t){return this.focusListeners.push(t)},e.prototype.focusChange=function(t){var e,n,i,o,r;if(t){for(this.focused=document.hasFocus(),o=this.focusListeners,r=[],e=0,n=o.length;n>e;e++)i=o[e],r.push(i(this.focused,t));return r}},e.prototype.beforeUnload=function(t){var e,n,i,o,r,s,a;if(t){a=this.unloadListeners;for(n in a)if(l.call(a,n))for(r=a[n],e=0,i=r.length;i>e;e++)if(o=r[e],o()===!1)return s="window"!==n?" on "+n:"","Please make sure that you saved all your work"+s+"."}},e.prototype.setDragInAction=function(t){return this.dragInAction=null!=t?t:!1,document.body.classList[this.dragInAction?"add":"remove"]("dragInAction")},e.prototype.setMainView=function(t){this.mainView=t},e.prototype.getMainView=function(t){return this.mainView},e.prototype.revertKeyView=function(t){return t?t===this.keyView&&this.keyView!==this.oldKeyView?this.setKeyView(this.oldKeyView):void 0:void a("missing view")},e.prototype.setKeyView=function(t){return null!=t&&"function"==typeof t.activateKeyView&&t.activateKeyView(),t!==this.keyView?(this.oldKeyView=this.keyView,this.keyView=t,null!=t&&"function"==typeof t.activateKeyView&&t.activateKeyView(),this.emit("WindowChangeKeyView",t)):void 0},e.prototype.setDragView=function(t){return this.setDragInAction(!0),this.dragView=t},e.prototype.unsetDragView=function(t){return this.setDragInAction(!1),this.dragView.emit("DragFinished",t),this.dragView=null},e.prototype.redirectMouseMoveEvent=function(t){var e,n,i,o,r,s,a;return a=this.dragView,r=t.pageX,s=t.pageY,n=a.dragState.position.initial,i=n.x,o=n.y,e={x:r-i,y:s-o},a.drag(t,e)},e.prototype.getKeyView=function(){return this.keyView},e.prototype.key=function(t){var e;return this.emit(t.type,t),null!=(e=this.keyView)?e.handleEvent(t):void 0},e.prototype.registerWindowResizeListener=function(t){return this.windowResizeListeners[t.id]=t,t.on("KDObjectWillBeDestroyed",function(e){return function(){return e.windowResizeListeners[t.id]=null}}(this))},e.prototype.unregisterWindowResizeListener=function(t){return this.windowResizeListeners[t.id]=null},e.prototype.notifyWindowResizeListeners=function(t){var e,n,i,o;t||(t={type:"resize"}),i=this.windowResizeListeners,o=[];for(n in i)l.call(i,n)&&(e=i[n],(null!=e?e._windowDidResize:void 0)&&o.push(e._windowDidResize(t)));return o},e}(r),function(){return o=t("./kd"),o.registerSingleton("windowController",new s)}()},{"./controller":96,"./kd":100,debug:112,jquery:119}],107:[function(t,e,n){t("kd-polyfills"),e.exports=t("./core/kd"),e.exports.extend({debug:t("debug"),AutoComplete:t("./components/autocomplete/autocomplete"),AutoCompleteController:t("./components/autocomplete/autocompletecontroller"),AutoCompletedItem:t("./components/autocomplete/autocompleteditems"),AutoCompleteFetchingItem:t("./components/autocomplete/autocompletefetchingitem"),AutoCompleteListView:t("./components/autocomplete/autocompletelist"),AutoCompleteListItemView:t("./components/autocomplete/autocompletelistitem"),AutoCompleteNothingFoundItem:t("./components/autocomplete/autocompletenothingfounditem"),AutocompleteUnselecteableItem:t("./components/autocomplete/autocompleteunselecteableitem"),MultipleInputListView:t("./components/autocomplete/multipleinputlistview"),MultipleInputView:t("./components/autocomplete/multipleinputview"),MultipleListItemView:t("./components/autocomplete/multiplelistitemview"),NoAutocompleteInputView:t("./components/autocomplete/noautocompleteinputview"),NoAutocompleteMultipleListView:t("./components/autocomplete/noautocompletemultiplelistview"),SimpleAutocomplete:t("./components/autocomplete/simpleautocomplete"),ButtonBar:t("./components/buttons/buttonbar"),ButtonGroupView:t("./components/buttons/buttongroupview"),JButtonMenu:t("./components/buttons/buttonmenu"),ButtonView:t("./components/buttons/buttonview"),ButtonViewWithMenu:t("./components/buttons/buttonviewwithmenu"),ToggleButton:t("./components/buttons/togglebutton"),ContextMenu:t("./components/contextmenu/contextmenu"),JContextMenuItem:t("./components/contextmenu/contextmenuitem"),JContextMenuTreeView:t("./components/contextmenu/contextmenutreeview"),JContextMenuTreeViewController:t("./components/contextmenu/contextmenutreeviewcontroller"),CounterDigitView:t("./components/counter/counterdigitview"),CounterView:t("./components/counter/counterview"),DiaContainer:t("./components/dia/diacontainer"),DiaJoint:t("./components/dia/diajoint"),DiaObject:t("./components/dia/diaobject"),DiaScene:t("./components/dia/diascene"),DialogView:t("./components/dialog/dialogview"),FormView:t("./components/forms/formview"),FormViewWithFields:t("./components/forms/formviewwithfields"),HeaderView:t("./components/header/headerview"),WebcamView:t("./components/image/webcamview"),CheckBox:t("./components/inputs/checkbox"),ContentEditableView:t("./components/inputs/contenteditableview"),DelimitedInputView:t("./components/inputs/delimitedinputview"),HitEnterInputView:t("./components/inputs/hitenterinputview"),InputCheckboxGroup:t("./components/inputs/inputcheckboxgroup"),InputRadioGroup:t("./components/inputs/inputradiogroup"),InputSwitch:t("./components/inputs/inputswitch"),InputValidator:t("./components/inputs/inputvalidator"),InputView:t("./components/inputs/inputview"),LabelView:t("./components/inputs/labelview"),MultipleChoice:t("./components/inputs/multiplechoice"),OnOffSwitch:t("./components/inputs/onoffswitch"),SelectBox:t("./components/inputs/selectbox"),TokenizedInput:t("./components/inputs/tokenizedinputview"),WmdInput:t("./components/inputs/wmdinput"),ListItemView:t("./components/list/listitemview"),ListView:t("./components/list/listview"),ListViewBox:t("./components/list/listviewbox"),ListViewController:t("./components/list/listviewcontroller"),LoaderView:t("./components/loader/loaderview"),BlockingModalView:t("./components/modals/blockingmodalview"),ModalView:t("./components/modals/modalview"),ModalViewStack:t("./components/modals/modalviewstack"),ModalViewWithForms:t("./components/modals/modalviewwithforms"),NotificationView:t("./components/notifications/notificationview"),OverlayView:t("./components/overlay/overlayview"),SpotlightView:t("./components/overlay/spotlightview"),ProgressBarView:t("./components/progressbar/progressbarview"),CustomScrollView:t("./components/scrollview/customscrollview"),CustomScrollViewWrapper:t("./components/scrollview/customscrollviewinner"),ScrollThumb:t("./components/scrollview/scrollthumb"),ScrollTrack:t("./components/scrollview/scrolltrack"),ScrollView:t("./components/scrollview/scrollview"),SliderBarHandleView:t("./components/sliderbar/sliderbarhandleview"),SliderBarView:t("./components/sliderbar/sliderbarview"),SlidePageView:t("./components/slideshow/slidepageview"),SlideShowView:t("./components/slideshow/slideshowview"),SplitComboView:t("./components/split/splitcomboview"),SplitViewPanel:t("./components/split/splitpanel"),SplitResizer:t("./components/split/splitresizer"),SplitView:t("./components/split/splitview"),TabHandleContainer:t("./components/tabs/tabhandlecontainer"),TabHandleMoveNav:t("./components/tabs/tabhandlemovenav"),TabHandleView:t("./components/tabs/tabhandleview"),TabPaneView:t("./components/tabs/tabpaneview"),TabView:t("./components/tabs/tabview"),TabViewWithForms:t("./components/tabs/tabviewwithforms"),TimeAgoView:t("./components/time/timeagoview"),Tooltip:t("./components/tooltip/tooltip"),JTreeItemView:t("./components/tree/treeitemview"),JTreeView:t("./components/tree/treeview"),JTreeViewController:t("./components/tree/treeviewcontroller"),FileUploadArea:t("./components/upload/fileuploadarea"),FileUploadListItemView:t("./components/upload/fileuploadlistitemview"),FileUploadListView:t("./components/upload/fileuploadlistview"),FileUploadThumbItemView:t("./components/upload/fileuploadthumbitemview"),FileUploadThumbListView:t("./components/upload/fileuploadthumblistview"),FileUploadView:t("./components/upload/fileuploadview"),MultipartUploader:t("./components/upload/multipartuploader"),Controller:t("./core/controller"),CustomHTMLView:t("./core/customhtmlview"),EventEmitter:t("./core/eventemitter"),EventEmitterWildcard:t("./core/eventemitterwildcard"),Object:t("./core/object"),Router:t("./core/router"),View:t("./core/view"),ViewController:t("./core/viewcontroller"),WindowController:t("./core/windowcontroller")})},{"./components/autocomplete/autocomplete":2,"./components/autocomplete/autocompletecontroller":3,"./components/autocomplete/autocompleteditems":4,"./components/autocomplete/autocompletefetchingitem":5,"./components/autocomplete/autocompletelist":6,"./components/autocomplete/autocompletelistitem":7,"./components/autocomplete/autocompletenothingfounditem":8,"./components/autocomplete/autocompleteunselecteableitem":9,"./components/autocomplete/multipleinputlistview":10,"./components/autocomplete/multipleinputview":11,"./components/autocomplete/multiplelistitemview":12,"./components/autocomplete/noautocompleteinputview":13,"./components/autocomplete/noautocompletemultiplelistview":14,"./components/autocomplete/simpleautocomplete":15,"./components/buttons/buttonbar":16,"./components/buttons/buttongroupview":17,"./components/buttons/buttonmenu":18,"./components/buttons/buttonview":19,"./components/buttons/buttonviewwithmenu":20,"./components/buttons/togglebutton":21,"./components/contextmenu/contextmenu":22,"./components/contextmenu/contextmenuitem":23,"./components/contextmenu/contextmenutreeview":24,"./components/contextmenu/contextmenutreeviewcontroller":25,"./components/counter/counterdigitview":26,"./components/counter/counterview":27,"./components/dia/diacontainer":28,"./components/dia/diajoint":29,"./components/dia/diaobject":30,"./components/dia/diascene":31,"./components/dialog/dialogview":32,"./components/forms/formview":33,"./components/forms/formviewwithfields":34,"./components/header/headerview":35,"./components/image/webcamview":36,"./components/inputs/checkbox":37,"./components/inputs/contenteditableview":38,"./components/inputs/delimitedinputview":39,"./components/inputs/hitenterinputview":40,"./components/inputs/inputcheckboxgroup":41,"./components/inputs/inputradiogroup":42,"./components/inputs/inputswitch":43,"./components/inputs/inputvalidator":44,"./components/inputs/inputview":45,"./components/inputs/labelview":46,"./components/inputs/multiplechoice":47,"./components/inputs/onoffswitch":48,"./components/inputs/selectbox":49,"./components/inputs/tokenizedinputview":50,"./components/inputs/wmdinput":51,"./components/list/listitemview":52,"./components/list/listview":53,"./components/list/listviewbox":54,"./components/list/listviewcontroller":55,"./components/loader/loaderview":56,"./components/modals/blockingmodalview":57,"./components/modals/modalview":58,"./components/modals/modalviewstack":59,"./components/modals/modalviewwithforms":60,"./components/notifications/notificationview":61,"./components/overlay/overlayview":62,"./components/overlay/spotlightview":63,"./components/progressbar/progressbarview":64,"./components/scrollview/customscrollview":65,"./components/scrollview/customscrollviewinner":66,"./components/scrollview/scrollthumb":67,"./components/scrollview/scrolltrack":68,"./components/scrollview/scrollview":69,"./components/sliderbar/sliderbarhandleview":70,"./components/sliderbar/sliderbarview":71,"./components/slideshow/slidepageview":72,"./components/slideshow/slideshowview":73,"./components/split/splitcomboview":74,"./components/split/splitpanel":75,"./components/split/splitresizer":76,"./components/split/splitview":77,"./components/tabs/tabhandlecontainer":78,"./components/tabs/tabhandlemovenav":79,"./components/tabs/tabhandleview":80,"./components/tabs/tabpaneview":81,"./components/tabs/tabview":82,"./components/tabs/tabviewwithforms":83,"./components/time/timeagoview":84,"./components/tooltip/tooltip":85,"./components/tree/treeitemview":86,"./components/tree/treeview":87,"./components/tree/treeviewcontroller":88,"./components/upload/fileuploadarea":89,"./components/upload/fileuploadlistitemview":90,"./components/upload/fileuploadlistview":91,"./components/upload/fileuploadthumbitemview":92,"./components/upload/fileuploadthumblistview":93,"./components/upload/fileuploadview":94,"./components/upload/multipartuploader":95,"./core/controller":96,"./core/customhtmlview":97,"./core/eventemitter":98,"./core/eventemitterwildcard":99,"./core/kd":100,"./core/object":101,"./core/router":102,"./core/view":104,"./core/viewcontroller":105,"./core/windowcontroller":106,debug:112,"kd-polyfills":121}],108:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],109:[function(t,e,n){function i(){var t,e,n;if(!a){for(a=!0,e=s.length;e;){for(t=s,s=[],n=-1;++n<e;)t[n]();e=s.length}a=!1}}function o(){}var r=e.exports={},s=[],a=!1;r.nextTick=function(t){s.push(t),a||setTimeout(i,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=o,r.addListener=o,r.once=o,r.off=o,r.removeListener=o,r.removeAllListeners=o,r.emit=o,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],110:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],111:[function(t,e,n){(function(e,i){function o(t,e){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(e)?i.showHidden=e:e&&n._extend(i,e),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),u(i,t,i.depth)}function r(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,i){var o,r,s,g,m,v,y,b,_,x;if(t.customInspect&&e&&D(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e))return o=e.inspect(i,t),w(o)||(o=u(t,o,i)),o;if(r=l(t,e))return r;if(s=Object.keys(e),g=a(s),t.showHidden&&(s=Object.getOwnPropertyNames(e)),O(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(D(e))return m=e.name?": "+e.name:"",t.stylize("[Function"+m+"]","special");if(C(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(k(e))return t.stylize(Date.prototype.toString.call(e),"date");if(O(e))return c(e)}return v="",y=!1,b=["{","}"],f(e)&&(y=!0,b=["[","]"]),D(e)&&(_=e.name?": "+e.name:"",v=" [Function"+_+"]"),C(e)&&(v=" "+RegExp.prototype.toString.call(e)),k(e)&&(v=" "+Date.prototype.toUTCString.call(e)),O(e)&&(v=" "+c(e)),0!==s.length||y&&0!=e.length?0>i?C(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),x=y?p(t,e,i,g,s):s.map(function(n){return h(t,e,i,g,n,y)}),t.seen.pop(),d(x,v,b)):b[0]+v+b[1]}function l(t,e){if(_(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,i,o){var r,s,a=[];for(r=0,s=e.length;s>r;++r)a.push(V(e,String(r))?h(t,e,n,i,String(r),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||a.push(h(t,e,n,i,o,!0))}),a}function h(t,e,n,i,o,r){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),
V(i,o)||(s="["+o+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(n)?u(t,l.value,null):u(t,l.value,n-1),a.indexOf("\n")>-1&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(s)){if(r&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,n){var i=0,o=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function w(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function _(t){return void 0===t}function C(t){return x(t)&&"[object RegExp]"===E(t)}function x(t){return"object"==typeof t&&null!==t}function k(t){return x(t)&&"[object Date]"===E(t)}function O(t){return x(t)&&("[object Error]"===E(t)||t instanceof Error)}function D(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function E(t){return Object.prototype.toString.call(t)}function T(t){return 10>t?"0"+t.toString(10):t.toString(10)}function I(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A,P,N,L=/%[sdj%]/g;n.format=function(t){var e,n,i,r,s,a;if(!w(t)){for(e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(n=1,i=arguments,r=i.length,s=String(t).replace(L,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];r>n;a=i[++n])s+=m(a)||!x(a)?" "+a:" "+o(a);return s},n.deprecate=function(t,o){function r(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),s=!0}return t.apply(this,arguments)}if(_(i.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return r},A={},n.debuglog=function(t){if(_(P)&&(P=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!A[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var i=e.pid;A[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else A[t]=function(){};return A[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=w,n.isSymbol=b,n.isUndefined=_,n.isRegExp=C,n.isObject=x,n.isDate=k,n.isError=O,n.isFunction=D,n.isPrimitive=S,n.isBuffer=t("./support/isBuffer"),N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){var n,i;if(!e||!x(e))return t;for(n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":110,_process:109,inherits:108}],112:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t,e,i,o=arguments,r=this.useColors;return o[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+o[0]+(r?"%c ":" ")+"+"+n.humanize(this.diff),r?(t="color: "+this.color,o=[o[0],t,"color: inherit"].concat(Array.prototype.slice.call(o,1)),e=0,i=0,o[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(e++,"%c"===t&&(i=e))}),o.splice(i,0,t),o):o}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?l.removeItem("debug"):l.debug=t}catch(e){}}function a(){var t;try{t=l.debug}catch(e){}return t}function u(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=r,n.formatArgs=o,n.save=s,n.load=a,n.useColors=i;var l;l="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":113}],113:[function(t,e,n){function i(){return n.colors[l++%n.colors.length]}function o(t){function e(){}function o(){var t,e,r,s=o,a=+new Date,u=a-(c||a);s.diff=u,s.prev=c,s.curr=a,c=a,null==s.useColors&&(s.useColors=n.useColors()),null==s.color&&s.useColors&&(s.color=i()),t=Array.prototype.slice.call(arguments),t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t)),e=0,t[0]=t[0].replace(/%([a-z%])/g,function(i,o){var r,a;return"%%"===i?i:(e++,r=n.formatters[o],"function"==typeof r&&(a=t[e],i=r.call(s,a),t.splice(e,1),e--),i)}),"function"==typeof n.formatArgs&&(t=n.formatArgs.apply(s,t)),r=o.log||n.log||console.log.bind(console),r.apply(s,t)}e.enabled=!1,o.enabled=!0;var r=n.enabled(t)?o:e;return r.namespace=t,r}function r(t){var e,i,o;for(n.save(t),e=(t||"").split(/[\s,]+/),i=e.length,o=0;i>o;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,i;for(e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}var l,c;n=e.exports=o,n.coerce=u,n.disable=s,n.enable=r,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={},l=0},{ms:114}],114:[function(t,e,n){function i(t){var e,n,i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i)switch(e=parseFloat(i[1]),n=(i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return e*p;case"days":case"day":case"d":return e*c;case"hours":case"hour":case"hrs":case"hr":case"h":return e*l;case"minutes":case"minute":case"mins":case"min":case"m":return e*u;case"seconds":case"second":case"secs":case"sec":case"s":return e*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e}}function o(t){return t>=c?Math.round(t/c)+"d":t>=l?Math.round(t/l)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function r(t){return s(t,c,"day")||s(t,l,"hour")||s(t,u,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,l=60*u,c=24*l,p=365.25*c;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?r(t):o(t)}},{}],115:[function(e,n,i){!function(e,i,o,r){"use strict";function s(t,e,n){return setTimeout(h(t,n),e)}function a(t,e,n){return Array.isArray(t)?(u(t,n[e],n),!0):!1}function u(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function l(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===r)&&(t[i[o]]=e[i[o]]),o++;return t}function c(t,e){return l(t,e,!0)}function p(t,e,n){var i,o=e.prototype;i=t.prototype=Object.create(o),i.constructor=t,i._super=o,n&&l(i,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==Ht?t.apply(e?e[0]||r:r,e):t}function f(t,e){return t===r?e:t}function g(t,e,n){u(w(e),function(e){t.addEventListener(e,n,!1)})}function m(t,e,n){u(w(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function C(t,e,n){for(var i,o=[],r=[],s=0;s<t.length;)i=e?t[s][e]:t[s],b(r,i)<0&&o.push(t[s]),r[s]=i,s++;return n&&(o=e?o.sort(function(t,n){return t[e]>n[e]}):o.sort()),o}function x(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),s=0;s<Ft.length;){if(n=Ft[s],i=n?n+o:e,i in t)return i;s++}return r}function k(){return Wt++}function O(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e,n=t.options.inputClass;return new(e=n?n:Xt?H:Yt?B:Kt?U:j)(t,E)}function E(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&ee&&i-o===0,s=e&(ie|oe)&&i-o===0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n,i,o,r,s,a=t.session,u=e.pointers,l=u.length;a.firstInput||(a.firstInput=A(e)),l>1&&!a.firstMultiple?a.firstMultiple=A(e):1===l&&(a.firstMultiple=!1),n=a.firstInput,i=a.firstMultiple,o=i?i.center:n.center,r=e.center=P(u),e.timeStamp=Bt(),e.deltaTime=e.timeStamp-n.timeStamp,e.angle=R(o,r),e.distance=z(o,r),I(a,e),e.offsetDirection=L(e.deltaX,e.deltaY),e.scale=i?F(i.pointers,u):1,e.rotation=i?M(i.pointers,u):0,V(a,e),s=t.element,v(e.srcEvent.target,s)&&(s=e.srcEvent.target),e.target=s}function I(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};(e.eventType===ee||r.eventType===ie)&&(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}function V(t,e){var n,i,o,s,a,u,l,c=t.lastInterval||e,p=e.timeStamp-c.timeStamp;e.eventType!=oe&&(p>te||c.velocity===r)?(a=c.deltaX-e.deltaX,u=c.deltaY-e.deltaY,l=N(p,a,u),i=l.x,o=l.y,n=qt(l.x)>qt(l.y)?l.x:l.y,s=L(a,u),t.lastInterval=e):(n=c.velocity,i=c.velocityX,o=c.velocityY,s=c.direction),e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=s}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:$t(t.pointers[n].clientX),clientY:$t(t.pointers[n].clientY)},n++;return{timeStamp:Bt(),pointers:e,center:P(e),deltaX:t.deltaX,deltaY:t.deltaY}}function P(t){var e,n,i,o=t.length;if(1===o)return{x:$t(t[0].clientX),y:$t(t[0].clientY)};for(e=0,n=0,i=0;o>i;)e+=t[i].clientX,n+=t[i].clientY,i++;return{x:$t(e/o),y:$t(n/o)}}function N(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?re:qt(t)>=qt(e)?t>0?se:ae:e>0?ue:le}function z(t,e,n){n||(n=de);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function R(t,e,n){n||(n=de);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function M(t,e){return R(e[1],e[0],fe)-R(t[1],t[0],fe)}function F(t,e){return z(e[0],e[1],fe)/z(t[0],t[1],fe)}function j(){this.evEl=pt,this.evWin=ht,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function H(){this.evEl=gt,this.evWin=mt,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=yt,this.evWin=wt,this.started=!1,D.apply(this,arguments)}function q(t,e){var n=_(t.touches),i=_(t.changedTouches);return e&(ie|oe)&&(n=C(n.concat(i),"identifier",!0)),[n,i]}function B(){this.evTarget=_t,this.targetIds={},D.apply(this,arguments)}function W(t,e){var n,i,o,r,s,a=_(t.touches),u=this.targetIds;if(e&(ee|ne)&&1===a.length)return u[a[0].identifier]=!0,[a,a];if(o=_(t.changedTouches),r=[],s=this.target,i=a.filter(function(t){return v(t.target,s)}),e===ee)for(n=0;n<i.length;)u[i[n].identifier]=!0,n++;for(n=0;n<o.length;)u[o[n].identifier]&&r.push(o[n]),e&(ie|oe)&&delete u[o[n].identifier],n++;return r.length?[C(i.concat(r),"identifier",!0),r]:void 0}function U(){D.apply(this,arguments);var t=h(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new j(this.manager,t)}function K(t,e){this.manager=t,this.set(e)}function X(t){var e,n;return y(t,St)?St:(e=y(t,Et),n=y(t,Tt),e&&n?Et+" "+Tt:e||n?e?Et:Tt:y(t,Dt)?Dt:Ot)}function Y(t){this.id=k(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=It,this.simultaneous={},this.requireFail=[]}function J(t){return t&Lt?"cancel":t&Pt?"end":t&At?"move":t&Vt?"start":""}function G(t){return t==le?"down":t==ue?"up":t==se?"left":t==ae?"right":""}function Q(t,e){var n=e.manager;return n?n.get(t):t}function Z(){Y.apply(this,arguments)}function tt(){Z.apply(this,arguments),this.pX=null,this.pY=null}function et(){Z.apply(this,arguments)}function nt(){Y.apply(this,arguments),this._timer=null,this._input=null}function it(){Z.apply(this,arguments)}function ot(){Z.apply(this,arguments)}function rt(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function st(t,e){return e=e||{},e.recognizers=f(e.recognizers,st.defaults.preset),new at(t,e)}function at(t,e){e=e||{},this.options=c(e,st.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new K(this,this.options.touchAction),ut(this,!0),u(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ut(t,e){var n=t.element;u(t.options.cssProps,function(t,i){n.style[x(n.style,i)]=e?t:""})}function lt(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ct,pt,ht,dt,ft,gt,mt,vt,yt,wt,bt,_t,Ct,xt,kt,Ot,Dt,St,Et,Tt,It,Vt,At,Pt,Nt,Lt,zt,Rt,Mt,Ft=["","webkit","moz","MS","ms","o"],jt=i.createElement("div"),Ht="function",$t=Math.round,qt=Math.abs,Bt=Date.now,Wt=1,Ut=/mobile|tablet|ip(ad|hone|od)|android/i,Kt="ontouchstart"in e,Xt=x(e,"PointerEvent")!==r,Yt=Kt&&Ut.test(navigator.userAgent),Jt="touch",Gt="pen",Qt="mouse",Zt="kinect",te=25,ee=1,ne=2,ie=4,oe=8,re=1,se=2,ae=4,ue=8,le=16,ce=se|ae,pe=ue|le,he=ce|pe,de=["x","y"],fe=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(O(this.element),this.evWin,this.domHandler)}},ct={mousedown:ee,mousemove:ne,mouseup:ie},pt="mousedown",ht="mousemove mouseup",p(j,D,{handler:function(t){var e=ct[t.type];e&ee&&0===t.button&&(this.pressed=!0),e&ne&&1!==t.which&&(e=ie),this.pressed&&this.allow&&(e&ie&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Qt,srcEvent:t}))}}),dt={pointerdown:ee,pointermove:ne,pointerup:ie,pointercancel:oe,pointerout:oe},ft={2:Jt,3:Gt,4:Qt,5:Zt},gt="pointerdown",mt="pointermove pointerup pointercancel",e.MSPointerEvent&&(gt="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),p(H,D,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=dt[i],r=ft[t.pointerType]||t.pointerType,s=r==Jt,a=b(e,t.pointerId,"pointerId");o&ee&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):o&(ie|oe)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))}}),vt={touchstart:ee,touchmove:ne,touchend:ie,touchcancel:oe},yt="touchstart",wt="touchstart touchmove touchend touchcancel",p($,D,{handler:function(t){var e,n=vt[t.type];n===ee&&(this.started=!0),this.started&&(e=q.call(this,t,n),n&(ie|oe)&&e[0].length-e[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:Jt,srcEvent:t}))}}),bt={touchstart:ee,touchmove:ne,touchend:ie,touchcancel:oe},_t="touchstart touchmove touchend touchcancel",p(B,D,{handler:function(t){var e=bt[t.type],n=W.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Jt,srcEvent:t})}}),p(U,D,{handler:function(t,e,n){var i=n.pointerType==Jt,o=n.pointerType==Qt;if(i)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(ie|oe)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),Ct=x(jt.style,"touchAction"),xt=Ct!==r,kt="compute",Ot="auto",Dt="manipulation",St="none",Et="pan-x",Tt="pan-y",K.prototype={set:function(t){t==kt&&(t=this.compute()),xt&&(this.manager.element.style[Ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){var e,n,i,o,r,s;if(!xt)return e=t.srcEvent,n=t.offsetDirection,this.manager.session.prevented?void e.preventDefault():(i=this.actions,o=y(i,St),r=y(i,Tt),s=y(i,Et),o||r&&n&ce||s&&n&pe?this.preventSrc(e):void 0)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},It=1,Vt=2,At=4,Pt=8,Nt=Pt,Lt=16,zt=32,Y.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?J(i):""),t)}var n=this,i=this.state;Pt>i&&e(!0),e(),i>=Pt&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=zt)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(zt|It)))return!1;t++}return!0},recognize:function(t){var e=l({},t);return d(this.options.enable,[this,e])?(this.state&(Nt|Lt|zt)&&(this.state=It),this.state=this.process(e),void(this.state&(Vt|At|Pt|Lt)&&this.tryEmit(e))):(this.reset(),void(this.state=zt))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(Z,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Vt|At),o=this.attrTest(t);return i&&(n&oe||!o)?e|Lt:i||o?n&ie?e|Pt:e&Vt?e|At:Vt:zt}}),p(tt,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:he},getTouchAction:function(){var t=this.options.direction,e=[];return t&ce&&e.push(Tt),t&pe&&e.push(Et),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&ce?(o=0===r?re:0>r?se:ae,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?re:0>s?ue:le,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&Vt||!(this.state&Vt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p(et,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Vt)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(nt,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(ie|oe)&&!o)this.reset();else if(t.eventType&ee)this.reset(),this._timer=s(function(){this.state=Nt,this.tryEmit()},e.time,this);else if(t.eventType&ie)return Nt;return zt},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&ie?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Bt(),this.manager.emit(this.options.event,this._input)))}}),p(it,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Vt)}}),p(ot,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:ce|pe,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(ce|pe)?e=t.velocity:n&ce?e=t.velocityX:n&pe&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&qt(e)>this.options.velocity&&t.eventType&ie},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(rt,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Dt]},process:function(t){var e,n,i,o=this.options,r=t.pointers.length===o.pointers,a=t.distance<o.threshold,u=t.deltaTime<o.time;if(this.reset(),t.eventType&ee&&0===this.count)return this.failTimeout();if(a&&u&&r){if(t.eventType!=ie)return this.failTimeout();if(e=this.pTime?t.timeStamp-this.pTime<o.interval:!0,n=!this.pCenter||z(this.pCenter,t.center)<o.posThreshold,this.pTime=t.timeStamp,this.pCenter=t.center,n&&e?this.count+=1:this.count=1,this._input=t,i=this.count%o.taps,0===i)return this.hasRequireFailures()?(this._timer=s(function(){this.state=Nt,this.tryEmit()},o.interval,this),Vt):Nt}return zt},failTimeout:function(){return this._timer=s(function(){this.state=zt},this.options.interval,this),zt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),st.VERSION="2.0.4",st.defaults={domEvents:!1,touchAction:kt,enable:!0,inputTarget:null,inputClass:null,preset:[[it,{enable:!1}],[et,{enable:!1},["rotate"]],[ot,{direction:ce}],[tt,{direction:ce},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Rt=1,Mt=2,at.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Mt:Rt},recognize:function(t){var e,n,i,o,r=this.session;if(!r.stopped)for(this.touchAction.preventDefaults(t),n=this.recognizers,i=r.curRecognizer,(!i||i&&i.state&Nt)&&(i=r.curRecognizer=null),o=0;o<n.length;)e=n[o],r.stopped===Mt||i&&e!=i&&!e.canRecognizeWith(i)?e.reset():e.recognize(t),!i&&e.state&(Vt|At|Pt)&&(i=r.curRecognizer=e),o++},get:function(t){var e,n;if(t instanceof Y)return t;for(e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return u(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return u(w(t),function(t){e?n[t].splice(b(n[t],e),1):delete n[t]}),this},emit:function(t,e){var n,i;if(this.options.domEvents&&lt(t,e),n=this.handlers[t]&&this.handlers[t].slice(),n&&n.length)for(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},i=0;i<n.length;)n[i](e),i++},destroy:function(){this.element&&ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(st,{INPUT_START:ee,INPUT_MOVE:ne,INPUT_END:ie,INPUT_CANCEL:oe,STATE_POSSIBLE:It,STATE_BEGAN:Vt,STATE_CHANGED:At,STATE_ENDED:Pt,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Lt,STATE_FAILED:zt,DIRECTION_NONE:re,DIRECTION_LEFT:se,DIRECTION_RIGHT:ae,DIRECTION_UP:ue,DIRECTION_DOWN:le,DIRECTION_HORIZONTAL:ce,DIRECTION_VERTICAL:pe,DIRECTION_ALL:he,Manager:at,Input:D,TouchAction:K,TouchInput:B,MouseInput:j,PointerEventInput:H,TouchMouseInput:U,SingleTouchInput:$,Recognizer:Y,AttrRecognizer:Z,Tap:rt,Pan:tt,Swipe:ot,Pinch:et,Rotate:it,Press:nt,on:g,off:m,each:u,merge:c,extend:l,inherit:p,bindFn:h,prefixed:x}),typeof t==Ht&&t.amd?t(function(){return st}):"undefined"!=typeof n&&n.exports?n.exports=st:e[o]=st}(window,document,"Hammer")},{}],116:[function(t,e,n){e.exports={EncodeType:"entity",isEmpty:function(t){return t?null===t||0==t.length||/^\s+$/.test(t):!0},arr1:["&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&OElig;","&oelig;","&Scaron;","&scaron;","&Yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&Alpha;","&Beta;","&Gamma;","&Delta;","&Epsilon;","&Zeta;","&Eta;","&Theta;","&Iota;","&Kappa;","&Lambda;","&Mu;","&Nu;","&Xi;","&Omicron;","&Pi;","&Rho;","&Sigma;","&Tau;","&Upsilon;","&Phi;","&Chi;","&Psi;","&Omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&Prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;"],arr2:["&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;"],HTML2Numerical:function(t){return this.swapArrayVals(t,this.arr1,this.arr2)},NumericalToHTML:function(t){return this.swapArrayVals(t,this.arr2,this.arr1)},numEncode:function(t){var e,n,i,o;if(this.isEmpty(t))return"";for(e=[],n=t.length,i=0;n>i;i++)o=t.charAt(i)," ">o||o>"~"?(e.push("&#"),e.push(o.charCodeAt()),e.push(";")):e.push(o);return e.join("")},htmlDecode:function(t){var e,n,i,o,r=t;if(this.isEmpty(r))return"";if(r=this.HTML2Numerical(r),i=r.match(/&#[0-9]{1,5};/g),null!=i)for(o=0;o<i.length;o++)n=i[o],e=n.substring(2,n.length-1),r=e>=-32768&&65535>=e?r.replace(n,String.fromCharCode(e)):r.replace(n,"");return r},htmlEncode:function(t,e){return this.isEmpty(t)?"":(e=e||!1,e&&(t="numerical"==this.EncodeType?t.replace(/&/g,"&#38;"):t.replace(/&/g,"&amp;")),t=this.XSSEncode(t,!1),"numerical"!=this.EncodeType&&e||(t=this.HTML2Numerical(t)),t=this.numEncode(t),e||(t=t.replace(/&#/g,"##AMPHASH##"),t="numerical"==this.EncodeType?t.replace(/&/g,"&#38;"):t.replace(/&/g,"&amp;"),t=t.replace(/##AMPHASH##/g,"&#")),t=t.replace(/&#\d*([^\d;]|$)/g,"$1"),e||(t=this.correctEncoding(t)),"entity"==this.EncodeType&&(t=this.NumericalToHTML(t)),t)},XSSEncode:function(t,e){return this.isEmpty(t)?"":(e=e||!0,e?(t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")):(t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&#34;"),
t=t.replace(/</g,"&#60;"),t=t.replace(/>/g,"&#62;")),t)},hasEncoded:function(t){return/&#[0-9]{1,5};/g.test(t)?!0:/&[A-Z]{2,6};/gi.test(t)?!0:!1},stripUnicode:function(t){return t.replace(/[^\x20-\x7E]/g,"")},correctEncoding:function(t){return t.replace(/(&amp;)(amp;)+/,"$1")},swapArrayVals:function(t,e,n){var i,o,r;if(this.isEmpty(t))return"";if(e&&n&&e.length==n.length)for(o=0,r=e.length;r>o;o++)i=new RegExp(e[o],"g"),t=t.replace(i,n[o]);return t},inArray:function(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}}},{}],117:[function(t,e,n){var i,o=t("./encoder"),r=t("util")._extend,s=function(t){return t&&(this.EncodeType=t),this};r(s.prototype,o),i=new s,Object.defineProperty(e.exports,"EncodeType",{enumerable:!0,get:function(){return i.EncodeType},set:function(t){return i.EncodeType=t}}),["HTML2Numerical","NumericalToHTML","numEncode","htmlDecode","htmlEncode","XSSEncode","hasEncoded","stripUnicode","correctEncoding"].forEach(function(t){e.exports[t]=i[t].bind(i)}),e.exports.Encoder=s},{"./encoder":116,util:111}],118:[function(e,n,i){!function(e){"function"==typeof t&&t.amd?t(["jquery"],e):"object"==typeof i?n.exports=e:e(jQuery)}(function(t){function e(e){var s,u,l,p=e||window.event,h=c.call(arguments,1),d=0,f=0,g=0,m=0,v=0,y=0;return e=t.event.fix(p),e.type="mousewheel","detail"in p&&(g=-1*p.detail),"wheelDelta"in p&&(g=p.wheelDelta),"wheelDeltaY"in p&&(g=p.wheelDeltaY),"wheelDeltaX"in p&&(f=-1*p.wheelDeltaX),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(f=-1*g,g=0),d=0===g?f:g,"deltaY"in p&&(g=-1*p.deltaY,d=g),"deltaX"in p&&(f=p.deltaX,0===g&&(d=-1*f)),0!==g||0!==f?(1===p.deltaMode?(s=t.data(this,"mousewheel-line-height"),d*=s,g*=s,f*=s):2===p.deltaMode&&(u=t.data(this,"mousewheel-page-height"),d*=u,g*=u,f*=u),m=Math.max(Math.abs(g),Math.abs(f)),(!r||r>m)&&(r=m,i(p,m)&&(r/=40)),i(p,m)&&(d/=40,f/=40,g/=40),d=Math[d>=1?"floor":"ceil"](d/r),f=Math[f>=1?"floor":"ceil"](f/r),g=Math[g>=1?"floor":"ceil"](g/r),a.settings.normalizeOffset&&this.getBoundingClientRect&&(l=this.getBoundingClientRect(),v=e.clientX-l.left,y=e.clientY-l.top),e.deltaX=f,e.deltaY=g,e.deltaFactor=r,e.offsetX=v,e.offsetY=y,e.deltaMode=0,h.unshift(e,d,f,g),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,h)):void 0}function n(){r=null}function i(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,r,s,a,u=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(t.event.fixHooks)for(s=u.length;s;)t.event.fixHooks[u[--s]]=t.event.mouseHooks;a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=l.length;n;)this.addEventListener(l[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=l.length;n;)this.removeEventListener(l[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},{}],119:[function(e,n,i){!function(t,e){"object"==typeof n&&"object"==typeof n.exports?n.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(e,n){function i(t){var e=t.length,n=Ne.type(t);return"function"===n||Ne.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){if(Ne.isFunction(e))return Ne.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Ne.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(U.test(e))return Ne.filter(e,t,n);e=Ne.filter(e,t)}return Ne.grep(t,function(t){return Se.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=Z[t]={};return Ne.each(t.match(Q)||[],function(t,n){e[n]=!0}),e}function a(){Ae.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Ne.ready()}function u(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Ne.expando+u.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(rt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ot.test(n)?Ne.parseJSON(n):n}catch(o){}it.set(t,e,n)}else n=void 0;return n}function c(){return!0}function p(){return!1}function h(){try{return Ae.activeElement}catch(t){}}function d(t,e){return Ne.nodeName(t,"table")&&Ne.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function g(t){var e=_t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,i=t.length;i>n;n++)nt.set(t[n],"globalEval",!e||nt.get(e[n],"globalEval"))}function v(t,e){var n,i,o,r,s,a,u,l;if(1===e.nodeType){if(nt.hasData(t)&&(r=nt.access(t),s=nt.set(e,r),l=r.events)){delete s.handle,s.events={};for(o in l)for(n=0,i=l[o].length;i>n;n++)Ne.event.add(e,o,l[o][n])}it.hasData(t)&&(a=it.access(t),u=Ne.extend({},a),it.set(e,u))}}function y(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Ne.nodeName(t,e)?Ne.merge([t],n):n}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&lt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(t,n){var i,o=Ne(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:Ne.css(o[0],"display");return o.detach(),r}function _(t){var e=Ae,n=Ot[t];return n||(n=b(t,e),"none"!==n&&n||(kt=(kt||Ne("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=kt[0].contentDocument,e.write(),e.close(),n=b(t,e),kt.detach()),Ot[t]=n),n}function C(t,e,n){var i,o,r,s,a=t.style;return n=n||Et(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Ne.contains(t.ownerDocument,t)||(s=Ne.style(t,e)),St.test(s)&&Dt.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,o=Nt.length;o--;)if(e=Nt[o]+n,e in t)return e;return i}function O(t,e,n){var i=It.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function D(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=Ne.css(t,n+at[r],!0,o)),i?("content"===n&&(s-=Ne.css(t,"padding"+at[r],!0,o)),"margin"!==n&&(s-=Ne.css(t,"border"+at[r]+"Width",!0,o))):(s+=Ne.css(t,"padding"+at[r],!0,o),"padding"!==n&&(s+=Ne.css(t,"border"+at[r]+"Width",!0,o)));return s}function S(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Et(t),s="border-box"===Ne.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=C(t,e,r),(0>o||null==o)&&(o=t.style[e]),St.test(o))return o;i=s&&(Ve.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+D(t,e,n||(s?"border":"content"),i,r)+"px"}function E(t,e){for(var n,i,o,r=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(r[s]=nt.get(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&ut(i)&&(r[s]=nt.access(i,"olddisplay",_(i.nodeName)))):(o=ut(i),"none"===n&&o||nt.set(i,"olddisplay",o?n:Ne.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function T(t,e,n,i,o){return new T.prototype.init(t,e,n,i,o)}function I(){return setTimeout(function(){Lt=void 0}),Lt=Ne.now()}function V(t,e){var n,i=0,o={height:t};for(e=e?1:0;4>i;i+=2-e)n=at[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function A(t,e,n){for(var i,o=(Ht[e]||[]).concat(Ht["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,e,t))return i}function P(t,e,n){var i,o,r,s,a,u,l,c,p=this,h={},d=t.style,f=t.nodeType&&ut(t),g=nt.get(t,"fxshow");n.queue||(a=Ne._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Ne.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Ne.css(t,"display"),c="none"===l?nt.get(t,"olddisplay")||_(t.nodeName):l,"inline"===c&&"none"===Ne.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Rt.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||Ne.style(t,i)}else l=void 0;if(Ne.isEmptyObject(h))"inline"===("none"===l?_(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(f=g.hidden):g=nt.access(t,"fxshow",{}),r&&(g.hidden=!f),f?Ne(t).show():p.done(function(){Ne(t).hide()}),p.done(function(){var e;nt.remove(t,"fxshow");for(e in h)Ne.style(t,e,h[e])});for(i in h)s=A(f?g[i]:0,i,p),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function N(t,e){var n,i,o,r,s;for(n in t)if(i=Ne.camelCase(n),o=e[i],r=t[n],Ne.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),s=Ne.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function L(t,e,n){var i,o,r=0,s=jt.length,a=Ne.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=Lt||I(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,r=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(r);return a.notifyWith(t,[l,r,n]),1>r&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:Ne.extend({},e),opts:Ne.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Lt||I(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Ne.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),c=l.props;for(N(c,l.opts.specialEasing);s>r;r++)if(i=jt[r].call(l,t,c,l.opts))return i;return Ne.map(c,A,l),Ne.isFunction(l.opts.start)&&l.opts.start.call(t,l),Ne.fx.timer(Ne.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(Q)||[];if(Ne.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function R(t,e,n,i){function o(a){var u;return r[a]=!0,Ne.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||r[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),u}var r={},s=t===oe;return o(e.dataTypes[0])||!r["*"]&&o("*")}function M(t,e){var n,i,o=Ne.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Ne.extend(!0,t,i),t}function F(t,e,n){for(var i,o,r,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){u.unshift(o);break}if(u[0]in n)r=u[0];else{for(o in n){if(!u[0]||t.converters[o+" "+u[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==u[0]&&u.unshift(r),n[r]):void 0}function j(t,e,n,i){var o,r,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=c.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(s=l[u+" "+r]||l["* "+r],!s)for(o in l)if(a=o.split(" "),a[1]===r&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[o]:l[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}function H(t,e,n,i){var o;if(Ne.isArray(e))Ne.each(e,function(e,o){n||le.test(t)?i(t,o):H(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==Ne.type(e))i(t,e);else for(o in e)H(t+"["+o+"]",e[o],n,i)}function $(t){return Ne.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q,B,W,U,K,X,Y,J,G,Q,Z,tt,et,nt,it,ot,rt,st,at,ut,lt,ct,pt,ht,dt,ft,gt,mt,vt,yt,wt,bt,_t,Ct,xt,kt,Ot,Dt,St,Et,Tt,It,Vt,At,Pt,Nt,Lt,zt,Rt,Mt,Ft,jt,Ht,$t,qt,Bt,Wt,Ut,Kt,Xt,Yt,Jt,Gt,Qt,Zt,te,ee,ne,ie,oe,re,se,ae,ue,le,ce,pe,he,de,fe,ge,me,ve,ye,we,be,_e,Ce,xe=[],ke=xe.slice,Oe=xe.concat,De=xe.push,Se=xe.indexOf,Ee={},Te=Ee.toString,Ie=Ee.hasOwnProperty,Ve={},Ae=e.document,Pe="2.1.3",Ne=function(t,e){return new Ne.fn.init(t,e)},Le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ze=/^-ms-/,Re=/-([\da-z])/gi,Me=function(t,e){return e.toUpperCase()};return Ne.fn=Ne.prototype={jquery:Pe,constructor:Ne,selector:"",length:0,toArray:function(){return ke.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:ke.call(this)},pushStack:function(t){var e=Ne.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Ne.each(this,t,e)},map:function(t){return this.pushStack(Ne.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ke.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:De,sort:xe.sort,splice:xe.splice},Ne.extend=Ne.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Ne.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(Ne.isPlainObject(i)||(o=Ne.isArray(i)))?(o?(o=!1,r=n&&Ne.isArray(n)?n:[]):r=n&&Ne.isPlainObject(n)?n:{},s[e]=Ne.extend(l,r,i)):void 0!==i&&(s[e]=i));return s},Ne.extend({expando:"jQuery"+(Pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Ne.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Ne.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Ne.type(t)||t.nodeType||Ne.isWindow(t)?!1:t.constructor&&!Ie.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Ee[Te.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Ne.trim(t),t&&(1===t.indexOf("use strict")?(e=Ae.createElement("script"),e.text=t,Ae.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ze,"ms-").replace(Re,Me)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,s=t.length,a=i(t);if(n){if(a)for(;s>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(Le,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Ne.merge(n,"string"==typeof t?[t]:t):De.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:Se.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,s=t.length,a=!n;s>r;r++)i=!e(t[r],r),i!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,s=t.length,a=i(t),u=[];if(a)for(;s>r;r++)o=e(t[r],r,n),null!=o&&u.push(o);else for(r in t)o=e(t[r],r,n),null!=o&&u.push(o);return Oe.apply([],u)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),Ne.isFunction(t)?(i=ke.call(arguments,2),o=function(){return t.apply(e||this,i.concat(ke.call(arguments)))},o.guid=t.guid=t.guid||Ne.guid++,o):void 0},now:Date.now,support:Ve}),Ne.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Ee["[object "+e+"]"]=e.toLowerCase()}),q=function(t){function e(t,e,n,i){var o,r,s,a,u,l,p,d,f,g;if((e?e.ownerDocument||e:j)!==A&&V(e),e=e||A,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&N){if(11!==a&&(o=yt.exec(t)))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&M(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&_.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!L||!L.test(t))){if(d=p=F,f=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=O(t),(p=e.getAttribute("id"))?d=p.replace(bt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+h(l[u]);f=wt.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return Q.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{p||e.removeAttribute("id")}}}return S(t.replace(ut,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function o(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=$++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,u,l=[H,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(u=e[F]||(e[F]={}),(a=u[i])&&a[0]===H&&a[1]===r)return l[2]=a[2];if(u[i]=l,l[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var o=0,r=n.length;r>o;o++)e(t,n[o],i);return i}function m(t,e,n,i,o){for(var r,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(r=t[a])&&(!n||n(r,i,o))&&(s.push(r),l&&e.push(a));return s}function v(t,e,n,o,r,s){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,s)),i(function(i,s,a,u){var l,c,p,h=[],d=[],f=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,h,t,a,u),w=n?r||(i?t:f||o)?[]:s:y;if(n&&n(y,w,a,u),o)for(l=m(w,d),o(l,[],a,u),c=l.length;c--;)(p=l[c])&&(w[d[c]]=!(y[d[c]]=p));if(i){if(r||t){if(r){for(l=[],c=w.length;c--;)(p=w[c])&&l.push(y[c]=p);r(null,w=[],l,u)}for(c=w.length;c--;)(p=w[c])&&(l=r?tt(i,p):h[c])>-1&&(i[l]=!(s[l]=p))}}else w=m(w===s?w.splice(f,w.length):w),r?r(null,s,w,u):Q.apply(s,w)})}function y(t){for(var e,n,i,o=t.length,r=C.relative[t[0].type],s=r||C.relative[" "],a=r?1:0,u=d(function(t){return t===e},s,!0),l=d(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var o=!r&&(i||n!==E)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,o}];o>a;a++)if(n=C.relative[t[a].type])c=[d(f(c),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;o>i&&!C.relative[t[i].type];i++);return v(a>1&&f(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ut,"$1"),n,i>a&&y(t.slice(a,i)),o>i&&y(t=t.slice(i)),o>i&&h(t))}c.push(n)}return f(c)}function w(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,u,l){var c,p,h,d=0,f="0",g=i&&[],v=[],y=E,w=i||r&&C.find.TAG("*",l),b=H+=null==y?1:Math.random()||.1,_=w.length;for(l&&(E=s!==A&&s);f!==_&&null!=(c=w[f]);f++){if(r&&c){for(p=0;h=t[p++];)if(h(c,s,a)){u.push(c);break}l&&(H=b)}o&&((c=!h&&c)&&d--,i&&g.push(c))}if(d+=f,o&&f!==d){for(p=0;h=n[p++];)h(g,v,s,a);if(i){if(d>0)for(;f--;)g[f]||v[f]||(v[f]=J.call(u));v=m(v)}Q.apply(u,v),l&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(H=b,E=y),g};return o?i(s):s}var b,_,C,x,k,O,D,S,E,T,I,V,A,P,N,L,z,R,M,F="sizzle"+1*new Date,j=t.document,H=0,$=0,q=n(),B=n(),W=n(),U=function(t,e){return t===e&&(I=!0),0},K=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,G=Y.push,Q=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),pt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(st),dt=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){V()};try{Q.apply(Y=Z.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(kt){Q={apply:Y.length?function(t,e){G.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},V=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,P=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),N=!k(i),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(i.getElementsByClassName),_.getById=o(function(t){return P.appendChild(t).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),_.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(_t,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(_t,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=_.getElementsByClassName&&function(t,e){return N?e.getElementsByClassName(t):void 0},z=[],L=[],(_.qsa=vt.test(i.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=vt.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){_.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),z.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),z=z.length&&new RegExp(z.join("|")),e=vt.test(P.compareDocumentPosition),M=e||vt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===j&&M(j,t)?-1:e===i||e.ownerDocument===j&&M(j,e)?1:T?tt(T,t)-tt(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,o=0,r=t.parentNode,a=e.parentNode,u=[t],l=[e];if(!r||!a)return t===i?-1:e===i?1:r?-1:a?1:T?tt(T,t)-tt(T,e):0;if(r===a)return s(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[o]===l[o];)o++;return o?s(u[o],l[o]):u[o]===j?-1:l[o]===j?1:0},i):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&V(t),n=n.replace(pt,"='$1']"),!(!_.matchesSelector||!N||z&&z.test(n)||L&&L.test(n)))try{var i=R.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&V(t),M(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&V(t);var n=C.attrHandle[e.toLowerCase()],i=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:_.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(I=!_.detectDuplicates,T=!_.sortStable&&t.slice(0),t.sort(U),I){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return T=null,t},x=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=O(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,u){var l,c,p,h,d,f,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(m){if(r){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[F]||(m[F]={}),l=c[t]||[],d=l[0]===H&&l[1],h=l[0]===H&&l[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(h=d=0)||f.pop();)if(1===p.nodeType&&++h&&p===e){c[t]=[H,d,h];break}}else if(y&&(l=(e[F]||(e[F]={}))[t])&&l[0]===H)h=l[1];else for(;(p=++d&&p&&p[g]||(h=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++h||(y&&((p[F]||(p[F]={}))[t]=[H,h]),p!==e)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var o,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[F]?r(n):r.length>1?(o=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)i=tt(t,o[s]),t[i]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=D(t.replace(ut,"$1"));return o[F]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,Ct),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,Ct).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){
return t===P},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=u(b);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,O=e.tokenize=function(t,n){var i,o,r,s,a,u,l,c=B[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=C.preFilter;a;){(!i||(o=lt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),u.push(r=[])),i=!1,(o=ct.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ut," ")}),a=a.slice(i.length));for(s in C.filter)!(o=ft[s].exec(a))||l[s]&&!(o=l[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):B(t,u).slice(0)},D=e.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=O(t)),n=e.length;n--;)r=y(e[n]),r[F]?i.push(r):o.push(r);r=W(t,w(o,i)),r.selector=t}return r},S=e.select=function(t,e,n,i){var o,r,s,a,u,l="function"==typeof t&&t,p=!i&&O(t=l.selector||t);if(n=n||[],1===p.length){if(r=p[0]=p[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&_.getById&&9===e.nodeType&&N&&C.relative[r[1].type]){if(e=(C.find.ID(s.matches[0].replace(_t,Ct),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((u=C.find[a])&&(i=u(s.matches[0].replace(_t,Ct),wt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&h(r),!t)return Q.apply(n,i),n;break}}return(l||D(t,p))(i,e,!N,n,wt.test(t)&&c(e.parentNode)||e),n},_.sortStable=F.split("").sort(U).join("")===F,_.detectDuplicates=!!I,V(),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(e),Ne.find=q,Ne.expr=q.selectors,Ne.expr[":"]=Ne.expr.pseudos,Ne.unique=q.uniqueSort,Ne.text=q.getText,Ne.isXMLDoc=q.isXML,Ne.contains=q.contains,B=Ne.expr.match.needsContext,W=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/^.[^:#\[\.,]*$/,Ne.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Ne.find.matchesSelector(i,t)?[i]:[]:Ne.find.matches(t,Ne.grep(e,function(t){return 1===t.nodeType}))},Ne.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(Ne(t).filter(function(){for(e=0;n>e;e++)if(Ne.contains(o[e],this))return!0}));for(e=0;n>e;e++)Ne.find(t,o[e],i);return i=this.pushStack(n>1?Ne.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&B.test(t)?Ne(t):t||[],!1).length}}),X=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Y=Ne.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:X.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||K).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Ne?e[0]:e,Ne.merge(this,Ne.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Ae,!0)),W.test(n[1])&&Ne.isPlainObject(e))for(n in e)Ne.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Ae.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Ae,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Ne.isFunction(t)?"undefined"!=typeof K.ready?K.ready(t):t(Ne):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Ne.makeArray(t,this))},Y.prototype=Ne.fn,K=Ne(Ae),J=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0},Ne.extend({dir:function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Ne(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Ne.fn.extend({has:function(t){var e=Ne(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Ne.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=B.test(t)||"string"!=typeof t?Ne(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Ne.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?Ne.unique(r):r)},index:function(t){return t?"string"==typeof t?Se.call(Ne(t),this[0]):Se.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Ne.unique(Ne.merge(this.get(),Ne(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Ne.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Ne.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Ne.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Ne.dir(t,"nextSibling")},prevAll:function(t){return Ne.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Ne.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Ne.dir(t,"previousSibling",n)},siblings:function(t){return Ne.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Ne.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Ne.merge([],t.childNodes)}},function(t,e){Ne.fn[t]=function(n,i){var o=Ne.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=Ne.filter(i,o)),this.length>1&&(G[t]||Ne.unique(o),J.test(t)&&o.reverse()),this.pushStack(o)}}),Q=/\S+/g,Z={},Ne.Callbacks=function(t){t="string"==typeof t?Z[t]||s(t):Ne.extend({},t);var e,n,i,o,r,a,u=[],l=!t.once&&[],c=function(s){for(e=t.memory&&s,n=!0,a=o||0,o=0,r=u.length,i=!0;u&&r>a;a++)if(u[a].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:p.disable())},p={add:function(){if(u){var n=u.length;!function s(e){Ne.each(e,function(e,n){var i=Ne.type(n);"function"===i?t.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?r=u.length:e&&(o=n,c(e))}return this},remove:function(){return u&&Ne.each(arguments,function(t,e){for(var n;(n=Ne.inArray(e,u,n))>-1;)u.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(t){return t?Ne.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],r=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||p.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):c(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},Ne.extend({Deferred:function(t){var e=[["resolve","done",Ne.Callbacks("once memory"),"resolved"],["reject","fail",Ne.Callbacks("once memory"),"rejected"],["notify","progress",Ne.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Ne.Deferred(function(n){Ne.each(e,function(e,r){var s=Ne.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&Ne.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Ne.extend(t,i):i}},o={};return i.pipe=i.then,Ne.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=ke.call(arguments),s=r.length,a=1!==s||t&&Ne.isFunction(t.promise)?s:0,u=1===a?t:Ne.Deferred(),l=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ke.call(arguments):o,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&Ne.isFunction(r[o].promise)?r[o].promise().done(l(o,i,r)).fail(u.reject).progress(l(o,n,e)):--a;return a||u.resolveWith(i,r),u.promise()}}),Ne.fn.ready=function(t){return Ne.ready.promise().done(t),this},Ne.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Ne.readyWait++:Ne.ready(!0)},ready:function(t){(t===!0?--Ne.readyWait:Ne.isReady)||(Ne.isReady=!0,t!==!0&&--Ne.readyWait>0||(tt.resolveWith(Ae,[Ne]),Ne.fn.triggerHandler&&(Ne(Ae).triggerHandler("ready"),Ne(Ae).off("ready"))))}}),Ne.ready.promise=function(t){return tt||(tt=Ne.Deferred(),"complete"===Ae.readyState?setTimeout(Ne.ready):(Ae.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),tt.promise(t)},Ne.ready.promise(),et=Ne.access=function(t,e,n,i,o,r,s){var a=0,u=t.length,l=null==n;if("object"===Ne.type(n)){o=!0;for(a in n)Ne.access(t,e,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,Ne.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(Ne(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):u?e(t[0],n):r},Ne.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},u.uid=1,u.accepts=Ne.acceptData,u.prototype={key:function(t){if(!u.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=u.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Ne.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(Ne.isEmptyObject(r))Ne.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Ne.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=this.key(t),s=this.cache[r];if(void 0===e)this.cache[r]={};else{Ne.isArray(e)?i=e.concat(e.map(Ne.camelCase)):(o=Ne.camelCase(e),e in s?i=[e,o]:(i=o,i=i in s?[i]:i.match(Q)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!Ne.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},nt=new u,it=new u,ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rt=/([A-Z])/g,Ne.extend({hasData:function(t){return it.hasData(t)||nt.hasData(t)},data:function(t,e,n){return it.access(t,e,n)},removeData:function(t,e){it.remove(t,e)},_data:function(t,e,n){return nt.access(t,e,n)},_removeData:function(t,e){nt.remove(t,e)}}),Ne.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=it.get(r),1===r.nodeType&&!nt.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Ne.camelCase(i.slice(5)),l(r,i,o[i])));nt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){it.set(this,t)}):et(this,function(e){var n,i=Ne.camelCase(t);if(r&&void 0===e){if(n=it.get(r,t),void 0!==n)return n;if(n=it.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else this.each(function(){var n=it.get(this,i);it.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&it.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){it.remove(this,t)})}}),Ne.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=nt.get(t,e),n&&(!i||Ne.isArray(n)?i=nt.access(t,e,Ne.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Ne.queue(t,e),i=n.length,o=n.shift(),r=Ne._queueHooks(t,e),s=function(){Ne.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return nt.get(t,n)||nt.access(t,n,{empty:Ne.Callbacks("once memory").add(function(){nt.remove(t,[e+"queue",n])})})}}),Ne.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Ne.queue(this[0],t):void 0===e?this:this.each(function(){var n=Ne.queue(this,t,e);Ne._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Ne.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Ne.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Ne.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=nt.get(r[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}}),st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,at=["Top","Right","Bottom","Left"],ut=function(t,e){return t=e||t,"none"===Ne.css(t,"display")||!Ne.contains(t.ownerDocument,t)},lt=/^(?:checkbox|radio)$/i,function(){var t=Ae.createDocumentFragment(),e=t.appendChild(Ae.createElement("div")),n=Ae.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Ve.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Ve.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}(),ct="undefined",Ve.focusinBubbles="onfocusin"in e,pt=/^key/,ht=/^(?:mouse|pointer|contextmenu)|click/,dt=/^(?:focusinfocus|focusoutblur)$/,ft=/^([^.]*)(?:\.(.+)|)$/,Ne.event={global:{},add:function(t,e,n,i,o){var r,s,a,u,l,c,p,h,d,f,g,m=nt.get(t);if(m)for(n.handler&&(r=n,n=r.handler,o=r.selector),n.guid||(n.guid=Ne.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Ne!==ct&&Ne.event.triggered!==e.type?Ne.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Q)||[""],l=e.length;l--;)a=ft.exec(e[l])||[],d=g=a[1],f=(a[2]||"").split(".").sort(),d&&(p=Ne.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=Ne.event.special[d]||{},c=Ne.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Ne.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=u[d])||(h=u[d]=[],h.delegateCount=0,p.setup&&p.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),Ne.event.global[d]=!0)},remove:function(t,e,n,i,o){var r,s,a,u,l,c,p,h,d,f,g,m=nt.hasData(t)&&nt.get(t);if(m&&(u=m.events)){for(e=(e||"").match(Q)||[""],l=e.length;l--;)if(a=ft.exec(e[l])||[],d=g=a[1],f=(a[2]||"").split(".").sort(),d){for(p=Ne.event.special[d]||{},d=(i?p.delegateType:p.bindType)||d,h=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)c=h[r],!o&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,p.remove&&p.remove.call(t,c));s&&!h.length&&(p.teardown&&p.teardown.call(t,f,m.handle)!==!1||Ne.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)Ne.event.remove(t,d+e[l],n,i,!0);Ne.isEmptyObject(u)&&(delete m.handle,nt.remove(t,"events"))}},trigger:function(t,n,i,o){var r,s,a,u,l,c,p,h=[i||Ae],d=Ie.call(t,"type")?t.type:t,f=Ie.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||Ae,3!==i.nodeType&&8!==i.nodeType&&!dt.test(d+Ne.event.triggered)&&(d.indexOf(".")>=0&&(f=d.split("."),d=f.shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Ne.expando]?t:new Ne.Event(d,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Ne.makeArray(n,[t]),p=Ne.event.special[d]||{},o||!p.trigger||p.trigger.apply(i,n)!==!1)){if(!o&&!p.noBubble&&!Ne.isWindow(i)){for(u=p.delegateType||d,dt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||Ae)&&h.push(a.defaultView||a.parentWindow||e)}for(r=0;(s=h[r++])&&!t.isPropagationStopped();)t.type=r>1?u:p.bindType||d,c=(nt.get(s,"events")||{})[t.type]&&nt.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Ne.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,o||t.isDefaultPrevented()||p._default&&p._default.apply(h.pop(),n)!==!1||!Ne.acceptData(i)||l&&Ne.isFunction(i[d])&&!Ne.isWindow(i)&&(a=i[l],a&&(i[l]=null),Ne.event.triggered=d,i[d](),Ne.event.triggered=void 0,a&&(i[l]=a)),t.result}},dispatch:function(t){t=Ne.event.fix(t);var e,n,i,o,r,s=[],a=ke.call(arguments),u=(nt.get(this,"events")||{})[t.type]||[],l=Ne.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=Ne.event.handlers.call(this,t,u),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((Ne.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)r=e[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?Ne(o,this).index(u)>=0:Ne.find(o,this,null,[u]).length),i[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Ae,i=n.documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[Ne.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=ht.test(o)?this.mouseHooks:pt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new Ne.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=Ae),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Ne.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Ne.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=Ne.extend(new Ne.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Ne.event.trigger(o,null,e):Ne.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},Ne.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Ne.Event=function(t,e){return this instanceof Ne.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:p):this.type=t,e&&Ne.extend(this,e),this.timeStamp=t&&t.timeStamp||Ne.now(),void(this[Ne.expando]=!0)):new Ne.Event(t,e)},Ne.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Ne.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!Ne.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),Ve.focusinBubbles||Ne.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Ne.event.simulate(e,t.target,Ne.event.fix(t),!0)};Ne.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=nt.access(i,e);o||i.addEventListener(t,n,!0),nt.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=nt.access(i,e)-1;o?nt.access(i,e,o):(i.removeEventListener(t,n,!0),nt.remove(i,e))}}}),Ne.fn.extend({on:function(t,e,n,i,o){var r,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===o&&(r=i,i=function(t){return Ne().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=Ne.guid++)),this.each(function(){Ne.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Ne(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){Ne.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Ne.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Ne.event.trigger(t,e,n,!0):void 0}}),gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mt=/<([\w:]+)/,vt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,wt=/checked\s*(?:[^=]|=\s*.checked.)/i,bt=/^$|\/(?:java|ecma)script/i,_t=/^true\/(.*)/,Ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,xt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},xt.optgroup=xt.option,xt.tbody=xt.tfoot=xt.colgroup=xt.caption=xt.thead,xt.th=xt.td,Ne.extend({clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),u=Ne.contains(t.ownerDocument,t);if(!(Ve.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Ne.isXMLDoc(t)))for(s=y(a),r=y(t),i=0,o=r.length;o>i;i++)w(r[i],s[i]);if(e)if(n)for(r=r||y(t),s=s||y(a),i=0,o=r.length;o>i;i++)v(r[i],s[i]);else v(t,a);return s=y(a,"script"),s.length>0&&m(s,!u&&y(t,"script")),a},buildFragment:function(t,e,n,i){for(var o,r,s,a,u,l,c=e.createDocumentFragment(),p=[],h=0,d=t.length;d>h;h++)if(o=t[h],o||0===o)if("object"===Ne.type(o))Ne.merge(p,o.nodeType?[o]:o);else if(vt.test(o)){for(r=r||c.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),a=xt[s]||xt._default,r.innerHTML=a[1]+o.replace(gt,"<$1></$2>")+a[2],l=a[0];l--;)r=r.lastChild;Ne.merge(p,r.childNodes),r=c.firstChild,r.textContent=""}else p.push(e.createTextNode(o));for(c.textContent="",h=0;o=p[h++];)if((!i||-1===Ne.inArray(o,i))&&(u=Ne.contains(o.ownerDocument,o),r=y(c.appendChild(o),"script"),u&&m(r),n))for(l=0;o=r[l++];)bt.test(o.type||"")&&n.push(o);return c},cleanData:function(t){for(var e,n,i,o,r=Ne.event.special,s=0;void 0!==(n=t[s]);s++){if(Ne.acceptData(n)&&(o=n[nt.expando],o&&(e=nt.cache[o]))){if(e.events)for(i in e.events)r[i]?Ne.event.remove(n,i):Ne.removeEvent(n,i,e.handle);nt.cache[o]&&delete nt.cache[o]}delete it.cache[n[it.expando]]}}}),Ne.fn.extend({text:function(t){return et(this,function(t){return void 0===t?Ne.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Ne.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||Ne.cleanData(y(n)),n.parentNode&&(e&&Ne.contains(n.ownerDocument,n)&&m(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ne.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Ne.clone(this,t,e)})},html:function(t){return et(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!yt.test(t)&&!xt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(gt,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Ne.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Ne.cleanData(y(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Oe.apply([],t);var n,i,o,r,s,a,u=0,l=this.length,c=this,p=l-1,h=t[0],d=Ne.isFunction(h);if(d||l>1&&"string"==typeof h&&!Ve.checkClone&&wt.test(h))return this.each(function(n){var i=c.eq(n);d&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=Ne.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(o=Ne.map(y(n,"script"),f),r=o.length;l>u;u++)s=n,u!==p&&(s=Ne.clone(s,!0,!0),r&&Ne.merge(o,y(s,"script"))),e.call(this[u],s,u);if(r)for(a=o[o.length-1].ownerDocument,Ne.map(o,g),u=0;r>u;u++)s=o[u],bt.test(s.type||"")&&!nt.access(s,"globalEval")&&Ne.contains(a,s)&&(s.src?Ne._evalUrl&&Ne._evalUrl(s.src):Ne.globalEval(s.textContent.replace(Ct,"")))}return this}}),Ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Ne.fn[t]=function(t){for(var n,i=[],o=Ne(t),r=o.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),Ne(o[s])[e](n),De.apply(i,n.get());return this.pushStack(i)}}),Ot={},Dt=/^margin/,St=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r);var t=e.getComputedStyle(s,null);n="1%"!==t.top,i="4px"===t.width,o.removeChild(r)}var n,i,o=Ae.documentElement,r=Ae.createElement("div"),s=Ae.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Ve.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),e.getComputedStyle&&Ne.extend(Ve,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(Ae.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(r),s.removeChild(n),t}}))}(),Ne.swap=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o},Tt=/^(none|table(?!-c[ea]).+)/,It=new RegExp("^("+st+")(.*)$","i"),Vt=new RegExp("^([+-])=("+st+")","i"),At={position:"absolute",visibility:"hidden",display:"block"},Pt={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],Ne.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=Ne.camelCase(e),u=t.style;return e=Ne.cssProps[a]||(Ne.cssProps[a]=k(u,a)),s=Ne.cssHooks[e]||Ne.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:u[e]:(r=typeof n,"string"===r&&(o=Vt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Ne.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||Ne.cssNumber[a]||(n+="px"),Ve.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var o,r,s,a=Ne.camelCase(e);return e=Ne.cssProps[a]||(Ne.cssProps[a]=k(t.style,a)),s=Ne.cssHooks[e]||Ne.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=C(t,e,i)),"normal"===o&&e in Pt&&(o=Pt[e]),""===n||n?(r=parseFloat(o),n===!0||Ne.isNumeric(r)?r||0:o):o}}),Ne.each(["height","width"],function(t,e){Ne.cssHooks[e]={get:function(t,n,i){return n?Tt.test(Ne.css(t,"display"))&&0===t.offsetWidth?Ne.swap(t,At,function(){return S(t,e,i)}):S(t,e,i):void 0},set:function(t,n,i){var o=i&&Et(t);return O(t,n,i?D(t,e,i,"border-box"===Ne.css(t,"boxSizing",!1,o),o):0)}}}),Ne.cssHooks.marginRight=x(Ve.reliableMarginRight,function(t,e){
return e?Ne.swap(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),Ne.each({margin:"",padding:"",border:"Width"},function(t,e){Ne.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+at[i]+e]=r[i]||r[i-2]||r[0];return o}},Dt.test(t)||(Ne.cssHooks[t+e].set=O)}),Ne.fn.extend({css:function(t,e){return et(this,function(t,e,n){var i,o,r={},s=0;if(Ne.isArray(e)){for(i=Et(t),o=e.length;o>s;s++)r[e[s]]=Ne.css(t,e[s],!1,i);return r}return void 0!==n?Ne.style(t,e,n):Ne.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ut(this)?Ne(this).show():Ne(this).hide()})}}),Ne.Tween=T,T.prototype={constructor:T,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Ne.cssNumber[n]?"":"px")},cur:function(){var t=T.propHooks[this.prop];return t&&t.get?t.get(this):T.propHooks._default.get(this)},run:function(t){var e,n=T.propHooks[this.prop];return this.options.duration?this.pos=e=Ne.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Ne.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Ne.fx.step[t.prop]?Ne.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Ne.cssProps[t.prop]]||Ne.cssHooks[t.prop])?Ne.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Ne.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Ne.fx=T.prototype.init,Ne.fx.step={},Rt=/^(?:toggle|show|hide)$/,Mt=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Ft=/queueHooks$/,jt=[P],Ht={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Mt.exec(e),r=o&&o[3]||(Ne.cssNumber[t]?"":"px"),s=(Ne.cssNumber[t]||"px"!==r&&+i)&&Mt.exec(Ne.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,Ne.style(n.elem,t,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]},Ne.Animation=Ne.extend(L,{tweener:function(t,e){Ne.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],Ht[n]=Ht[n]||[],Ht[n].unshift(e)},prefilter:function(t,e){e?jt.unshift(t):jt.push(t)}}),Ne.speed=function(t,e,n){var i=t&&"object"==typeof t?Ne.extend({},t):{complete:n||!n&&e||Ne.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Ne.isFunction(e)&&e};return i.duration=Ne.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Ne.fx.speeds?Ne.fx.speeds[i.duration]:Ne.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Ne.isFunction(i.old)&&i.old.call(this),i.queue&&Ne.dequeue(this,i.queue)},i},Ne.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=Ne.isEmptyObject(t),r=Ne.speed(e,n,i),s=function(){var e=L(this,Ne.extend({},t),r);(o||nt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=Ne.timers,s=nt.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Ft.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));(e||!n)&&Ne.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=nt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=Ne.timers,s=i?i.length:0;for(n.finish=!0,Ne.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Ne.each(["toggle","show","hide"],function(t,e){var n=Ne.fn[e];Ne.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(V(e,!0),t,i,o)}}),Ne.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Ne.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Ne.timers=[],Ne.fx.tick=function(){var t,e=0,n=Ne.timers;for(Lt=Ne.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Ne.fx.stop(),Lt=void 0},Ne.fx.timer=function(t){Ne.timers.push(t),t()?Ne.fx.start():Ne.timers.pop()},Ne.fx.interval=13,Ne.fx.start=function(){zt||(zt=setInterval(Ne.fx.tick,Ne.fx.interval))},Ne.fx.stop=function(){clearInterval(zt),zt=null},Ne.fx.speeds={slow:600,fast:200,_default:400},Ne.fn.delay=function(t,e){return t=Ne.fx?Ne.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Ae.createElement("input"),e=Ae.createElement("select"),n=e.appendChild(Ae.createElement("option"));t.type="checkbox",Ve.checkOn=""!==t.value,Ve.optSelected=n.selected,e.disabled=!0,Ve.optDisabled=!n.disabled,t=Ae.createElement("input"),t.value="t",t.type="radio",Ve.radioValue="t"===t.value}(),Bt=Ne.expr.attrHandle,Ne.fn.extend({attr:function(t,e){return et(this,Ne.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Ne.removeAttr(this,t)})}}),Ne.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===ct?Ne.prop(t,e,n):(1===r&&Ne.isXMLDoc(t)||(e=e.toLowerCase(),i=Ne.attrHooks[e]||(Ne.expr.match.bool.test(e)?qt:$t)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=Ne.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void Ne.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Q);if(r&&1===t.nodeType)for(;n=r[o++];)i=Ne.propFix[n]||n,Ne.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Ve.radioValue&&"radio"===e&&Ne.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),qt={set:function(t,e,n){return e===!1?Ne.removeAttr(t,n):t.setAttribute(n,n),n}},Ne.each(Ne.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Bt[e]||Ne.find.attr;Bt[e]=function(t,e,i){var o,r;return i||(r=Bt[e],Bt[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Bt[e]=r),o}}),Wt=/^(?:input|select|textarea|button)$/i,Ne.fn.extend({prop:function(t,e){return et(this,Ne.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Ne.propFix[t]||t]})}}),Ne.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return r=1!==s||!Ne.isXMLDoc(t),r&&(e=Ne.propFix[e]||e,o=Ne.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Wt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Ve.optSelected||(Ne.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ne.propFix[this.toLowerCase()]=this}),Ut=/[\t\r\n\f]/g,Ne.fn.extend({addClass:function(t){var e,n,i,o,r,s,a="string"==typeof t&&t,u=0,l=this.length;if(Ne.isFunction(t))return this.each(function(e){Ne(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(Q)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ut," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Ne.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,o,r,s,a=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(Ne.isFunction(t))return this.each(function(e){Ne(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(Q)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ut," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=t?Ne.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Ne.isFunction(t)?function(n){Ne(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,o=Ne(this),r=t.match(Q)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===ct||"boolean"===n)&&(this.className&&nt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":nt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ut," ").indexOf(e)>=0)return!0;return!1}}),Kt=/\r/g,Ne.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=Ne.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,Ne(this).val()):t,null==o?o="":"number"==typeof o?o+="":Ne.isArray(o)&&(o=Ne.map(o,function(t){return null==t?"":t+""})),e=Ne.valHooks[this.type]||Ne.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=Ne.valHooks[o.type]||Ne.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Kt,""):null==n?"":n)}}}),Ne.extend({valHooks:{option:{get:function(t){var e=Ne.find.attr(t,"value");return null!=e?e:Ne.trim(Ne.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:i.length,u=0>o?a:r?o:0;a>u;u++)if(n=i[u],!(!n.selected&&u!==o||(Ve.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Ne.nodeName(n.parentNode,"optgroup"))){if(e=Ne(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=Ne.makeArray(e),s=o.length;s--;)i=o[s],(i.selected=Ne.inArray(i.value,r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),Ne.each(["radio","checkbox"],function(){Ne.valHooks[this]={set:function(t,e){return Ne.isArray(e)?t.checked=Ne.inArray(Ne(t).val(),e)>=0:void 0}},Ve.checkOn||(Ne.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Ne.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Ne.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),Xt=Ne.now(),Yt=/\?/,Ne.parseJSON=function(t){return JSON.parse(t+"")},Ne.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Ne.error("Invalid XML: "+t),e},Jt=/#.*$/,Gt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Zt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,te=/^(?:GET|HEAD)$/,ee=/^\/\//,ne=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ie={},oe={},re="*/".concat("*"),se=e.location.href,ae=ne.exec(se.toLowerCase())||[],Ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:se,type:"GET",isLocal:Zt.test(ae[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Ne.parseJSON,"text xml":Ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?M(M(t,Ne.ajaxSettings),e):M(Ne.ajaxSettings,t)},ajaxPrefilter:z(ie),ajaxTransport:z(oe),ajax:function(t,e){function n(t,e,n,s){var u,c,v,y,b,C=e;2!==w&&(w=2,a&&clearTimeout(a),i=void 0,r=s||"",_.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=F(p,_,n)),y=j(p,y,_,u),u?(p.ifModified&&(b=_.getResponseHeader("Last-Modified"),b&&(Ne.lastModified[o]=b),b=_.getResponseHeader("etag"),b&&(Ne.etag[o]=b)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=y.state,c=y.data,v=y.error,u=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),_.status=t,_.statusText=(e||C)+"",u?f.resolveWith(h,[c,C,_]):f.rejectWith(h,[_,C,v]),_.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[_,p,u?c:v]),g.fireWith(h,[_,C]),l&&(d.trigger("ajaxComplete",[_,p]),--Ne.active||Ne.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,s,a,u,l,c,p=Ne.ajaxSetup({},e),h=p.context||p,d=p.context&&(h.nodeType||h.jquery)?Ne(h):Ne.event,f=Ne.Deferred(),g=Ne.Callbacks("once memory"),m=p.statusCode||{},v={},y={},w=0,b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=Qt.exec(r);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||b;return i&&i.abort(e),n(0,e),this}};if(f.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,p.url=((t||p.url||se)+"").replace(Jt,"").replace(ee,ae[1]+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=Ne.trim(p.dataType||"*").toLowerCase().match(Q)||[""],null==p.crossDomain&&(u=ne.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===ae[1]&&u[2]===ae[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(ae[3]||("http:"===ae[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Ne.param(p.data,p.traditional)),R(ie,p,e,_),2===w)return _;l=Ne.event&&p.global,l&&0===Ne.active++&&Ne.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!te.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Yt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Gt.test(o)?o.replace(Gt,"$1_="+Xt++):o+(Yt.test(o)?"&":"?")+"_="+Xt++)),p.ifModified&&(Ne.lastModified[o]&&_.setRequestHeader("If-Modified-Since",Ne.lastModified[o]),Ne.etag[o]&&_.setRequestHeader("If-None-Match",Ne.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+re+"; q=0.01":""):p.accepts["*"]);for(c in p.headers)_.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(p.beforeSend.call(h,_,p)===!1||2===w))return _.abort();b="abort";for(c in{success:1,error:1,complete:1})_[c](p[c]);if(i=R(oe,p,e,_)){_.readyState=1,l&&d.trigger("ajaxSend",[_,p]),p.async&&p.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},p.timeout));try{w=1,i.send(v,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return Ne.get(t,e,n,"json")},getScript:function(t,e){return Ne.get(t,void 0,e,"script")}}),Ne.each(["get","post"],function(t,e){Ne[e]=function(t,n,i,o){return Ne.isFunction(n)&&(o=o||i,i=n,n=void 0),Ne.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),Ne._evalUrl=function(t){return Ne.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Ne.fn.extend({wrapAll:function(t){var e;return Ne.isFunction(t)?this.each(function(e){Ne(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Ne(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Ne.isFunction(t)?function(e){Ne(this).wrapInner(t.call(this,e))}:function(){var e=Ne(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Ne.isFunction(t);return this.each(function(n){Ne(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Ne.nodeName(this,"body")||Ne(this).replaceWith(this.childNodes)}).end()}}),Ne.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Ne.expr.filters.visible=function(t){return!Ne.expr.filters.hidden(t)},ue=/%20/g,le=/\[\]$/,ce=/\r?\n/g,pe=/^(?:submit|button|image|reset|file)$/i,he=/^(?:input|select|textarea|keygen)/i,Ne.param=function(t,e){var n,i=[],o=function(t,e){e=Ne.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Ne.ajaxSettings&&Ne.ajaxSettings.traditional),Ne.isArray(t)||t.jquery&&!Ne.isPlainObject(t))Ne.each(t,function(){o(this.name,this.value)});else for(n in t)H(n,t[n],e,o);return i.join("&").replace(ue,"+")},Ne.fn.extend({serialize:function(){return Ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Ne.prop(this,"elements");return t?Ne.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Ne(this).is(":disabled")&&he.test(this.nodeName)&&!pe.test(t)&&(this.checked||!lt.test(t))}).map(function(t,e){var n=Ne(this).val();return null==n?null:Ne.isArray(n)?Ne.map(n,function(t){return{name:e.name,value:t.replace(ce,"\r\n")}}):{name:e.name,value:n.replace(ce,"\r\n")}}).get()}}),Ne.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}},de=0,fe={},ge={0:200,1223:204},me=Ne.ajaxSettings.xhr(),e.attachEvent&&e.attachEvent("onunload",function(){for(var t in fe)fe[t]()}),Ve.cors=!!me&&"withCredentials"in me,Ve.ajax=me=!!me,Ne.ajaxTransport(function(t){var e;return Ve.cors||me&&!t.crossDomain?{send:function(n,i){var o,r=t.xhr(),s=++de;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)r.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(delete fe[s],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?i(r.status,r.statusText):i(ge[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=fe[s]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Ne.globalEval(t),t}}}),Ne.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Ne.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=Ne("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),Ae.head.appendChild(e[0])},abort:function(){n&&n()}}}}),ve=[],ye=/(=)\?(?=&|$)|\?\?/,Ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ve.pop()||Ne.expando+"_"+Xt++;return this[t]=!0,t}}),Ne.ajaxPrefilter("json jsonp",function(t,n,i){var o,r,s,a=t.jsonp!==!1&&(ye.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ye.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Ne.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ye,"$1"+o):t.jsonp!==!1&&(t.url+=(Yt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||Ne.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,ve.push(o)),s&&Ne.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),Ne.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Ae;var i=W.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=Ne.buildFragment([t],e,o),o&&o.length&&Ne(o).remove(),Ne.merge([],i.childNodes))},we=Ne.fn.load,Ne.fn.load=function(t,e,n){if("string"!=typeof t&&we)return we.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>=0&&(i=Ne.trim(t.slice(a)),t=t.slice(0,a)),Ne.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&Ne.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?Ne("<div>").append(Ne.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},Ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Ne.fn[e]=function(t){return this.on(e,t)}}),Ne.expr.filters.animated=function(t){return Ne.grep(Ne.timers,function(e){return t===e.elem}).length},be=e.document.documentElement,Ne.offset={setOffset:function(t,e,n){var i,o,r,s,a,u,l,c=Ne.css(t,"position"),p=Ne(t),h={};"static"===c&&(t.style.position="relative"),a=p.offset(),r=Ne.css(t,"top"),u=Ne.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(r+u).indexOf("auto")>-1,l?(i=p.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(u)||0),Ne.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):p.css(h)}},Ne.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Ne.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;if(r)return e=r.documentElement,Ne.contains(e,i)?(typeof i.getBoundingClientRect!==ct&&(o=i.getBoundingClientRect()),n=$(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Ne.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Ne.nodeName(t[0],"html")||(i=t.offset()),i.top+=Ne.css(t[0],"borderTopWidth",!0),i.left+=Ne.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Ne.css(n,"marginTop",!0),left:e.left-i.left-Ne.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||be;t&&!Ne.nodeName(t,"html")&&"static"===Ne.css(t,"position");)t=t.offsetParent;return t||be})}}),Ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Ne.fn[t]=function(o){return et(this,function(t,o,r){var s=$(t);return void 0===r?s?s[n]:t[o]:void(s?s.scrollTo(i?e.pageXOffset:r,i?r:e.pageYOffset):t[o]=r)},t,o,arguments.length,null)}}),Ne.each(["top","left"],function(t,e){Ne.cssHooks[e]=x(Ve.pixelPosition,function(t,n){return n?(n=C(t,e),St.test(n)?Ne(t).position()[e]+"px":n):void 0})}),Ne.each({Height:"height",Width:"width"},function(t,e){Ne.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Ne.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return et(this,function(e,n,i){var o;return Ne.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?Ne.css(e,n,s):Ne.style(e,n,i,s)},e,r?i:void 0,r,null)}})}),Ne.fn.size=function(){return this.length},Ne.fn.andSelf=Ne.fn.addBack,"function"==typeof t&&t.amd&&t("jquery",[],function(){return Ne}),_e=e.jQuery,Ce=e.$,Ne.noConflict=function(t){return e.$===Ne&&(e.$=Ce),t&&e.jQuery===Ne&&(e.jQuery=_e),Ne},typeof n===ct&&(e.jQuery=e.$=Ne),Ne})},{}],120:[function(t,e,n){var i={};i.dom=i.dom||{},function(t){var e,n,o,r,s,a,u,l,c,p,h,d,f,g,m,v,y,w,b,_,C,x,k,O,D,S,E,T,I,V,A,P,N,L,z,R,M,F,j,H,$,q,B,W,U,K,X,Y,J,G,Q,Z,tt,et,nt,it,ot,rt,st=t.document,at=function(t,e){var n=t[e];return"object"==typeof n&&null!==n},ut=function(t,e){var n=t[e],i=typeof n;return"function"==i||"object"==i&&null!==n||"unknown"==i},lt=function(){for(var t=arguments.length;t--;)if(!i.dom[arguments[t]])return!1;return!0},ct=at(st,"documentElement")&&st.documentElement,pt=!!Function.prototype.call,ht=(!(!ct||!at(ct,"style")),function(t){var e,n,i=[];for(e=0,n=t.length;n>e;e++)i[e]=t[e];return i});ct&&ut(ct,"removeEventListener")&&(e=function(t,e,n){t.removeEventListener(e,n,!1)}),ct&&ut(ct,"addEventListener")&&(n=function(t){var e=t.target;return 1!=e.nodeType&&(e=e.parentNode),e}),ct&&ut(ct,"addEventListener")&&(o=function(t,e,n){var i=function(e){n.call(t,e)};return t.addEventListener(e,i,!1),i}),st&&ut(st,"querySelectorAll")&&ht&&(r=function(t,e){return ht((e||document).querySelectorAll(t))}),st&&ut(st,"querySelector")&&(s=function(t,e){return(e||document).querySelector(t)}),a=function(t,e){for(var n=!1,i=0,o=e.length;o>i;i++)if(e[i]===t){n=!0;break}return n},pt&&Function.prototype.bind&&(u=function(t,e){return t.bind.apply(t,Array.prototype.slice.call(arguments,1))}),e&&(l=function(t,n,i){return e(t,n,i)}),o&&n&&pt&&(c=function(t,e,i,r){var s=function(e){var o=r(t,n(e));o&&i.call(o,e,o,t)};return o(t,e,s)}),p=function(t){var e=(t.tagName||t.nodeName).toLowerCase();return e.indexOf("html:")>-1?e.substring(5):e},ct&&at(ct,"parentNode")&&(h=function(t){var e=t.parentNode,n=null;return e&&(e.tagName||1==e.nodeType)&&(n=e),n}),a&&r&&(d=function(t,e){return a(t,r(e))}),ct&&"undefined"!=typeof ct.parentNode&&(f=function(t,e){for(var n=e.parentNode;n&&n!=t;)n=n.parentNode;return n==t}),o&&u&&n&&pt&&(g=function(t,e,i,r,s){var a=u(function(e){var o=r(t,n(e));o&&i.call(s,e,o)},s);return o(t,e,a)}),ct&&at(ct,"classList")&&ut(ct.classList,"contains")&&(m=function(t,e){return t.classList.contains(e)}),window&&ut(window,"addEventListener")&&(v=function(t,e){var n=function(t){e.call(window,t)};return window.addEventListener(t,n,!1),n}),"number"==typeof window.pageXOffset&&"number"==typeof window.pageYOffset&&(y=function(){return[window.pageXOffset,window.pageYOffset]}),ct&&ut(ct,"getBoundingClientRect")&&(w=function(t){var e=t.getBoundingClientRect();return[e.left,e.top]}),ut(document,"getElementById")&&(b=function(t,e){return(e||document).getElementById(t)}),l&&(_=function(t,e,n){return l(t,e,n)}),ut(t,"scrollTo")&&(C=function(t,e){window.scrollTo(t,e)}),x=function(t,e){t.value=e},"number"==typeof t.innerWidth&&(k=function(t){return t||(t=window),[t.innerWidth,t.innerHeight]}),ct&&ut(ct,"addEventListener")&&(O=function(t){var e=t.relatedTarget;return 1!=e.nodeType&&(e=e.parentNode),e}),window&&ut(window,"removeEventListener")&&(D=function(t,e){return window.removeEventListener(t,e)}),e&&(S=function(t,n,i){return e(t,n,i)}),c&&p&&(E=function(t,e,n,i){var o=function(t,e){var i,o;if(p(e)===n)i=e;else for(o=h(e);null!==o&&o!==t;){if(p(o)===n){i=o;break}o=h(o)}return i};return c(t,e,i,o)}),a&&c&&r&&f&&(T=function(t,e,n,i){function o(t){var e,i,o=r(n),s=0;if(a(t,o))return t;for(e=o.length;e>s;s++)if(i=o[s],f(i,t))return i}return c(t,e,i,o)}),g&&r&&f&&(I=function(t,e,n,i,o){var r=function(t,e){var i,o;if(d(e,n))return e;for(i=jessie.query(n),o=0;o<i.length;o++)if(f(i[o],e))return i[o]};return g(t,e,i,r,o)}),g&&m&&h&&(V=function(t,e,n,i,o){var r=function(t,e){var i=e;for(t===i&&(i=null);i&&i!==t&&!m(i,n);)i=h(i),t===i&&(i=null);return i};return g(t,e,i,r,o)}),ct&&ut(ct,"addEventListener")&&(A=function(t){t.stopPropagation()}),ct&&ut(ct,"addEventListener")&&(P=function(t){t.preventDefault()}),st&&ut(st,"addEventListener")&&o&&(N=function(t,e){return o(document,t,e)}),v&&u&&(L=function(t,e,n){var i=u(e,n);return v(t,i)}),u&&o&&(z=function(t,e,n,i){var r=u(n,i);return i=null,o(t,e,r)}),ct&&"string"==typeof ct.textContent?R=function(t,e){t.textContent=e}:ct&&"string"==typeof ct.innerText&&(R=function(t,e){t.innerText=e}),ct&&at(ct,"style")&&(M=function(){var t="number"==typeof ct.style.top?0:"px";return function(e,n,i){null!==n&&n>=0&&(e.style.height=n+t),null!==i&&i>=0&&(e.style.width=i+t)}}()),ct&&at(ct,"style")&&(F=function(t){var e="number"==typeof ct.style.top?0:"px";return function(t,n,i){null!==n&&(t.style.left=n+e),null!==i&&(t.style.top=i+e)}}()),ct&&"string"==typeof ct.innerHTML&&(j=function(t,e){t.innerHTML=e}),ct&&at(ct,"classList")&&ut(ct.classList,"remove")&&(H=function(t,e){return t.classList.remove(e)}),ct&&ut(ct,"removeChild")&&($=function(t,e){return t.removeChild(e)}),ct&&ut(ct,"insertAdjacentHTML")&&(q=function(t,e){t.insertAdjacentHTML("afterBegin",e)}),ct&&"string"==typeof ct.textContent?B=function(t){return t.textContent}:ct&&"string"==typeof ct.innerText&&(B=function(t){return t.innerText}),at(st,"defaultView")&&ut(st.defaultView,"getComputedStyle")&&(W=function(t,e){return document.defaultView.getComputedStyle(t,null)[e]}),w&&y&&(U=function(t){var e=w(t),n=y(),i=e[0]+n[0],o=e[1]+n[1];return[i,o]}),ct&&"number"==typeof ct.offsetWidth&&(K=function(t){return[t.offsetHeight,t.offsetWidth]}),ct&&"number"==typeof ct.clientWidth&&(X=function(t){return[t.clientHeight,t.clientWidth]}),ct&&"string"==typeof ct.innerHTML&&(Y=function(t){return t.innerHTML}),st&&ut(st,"getElementsByTagName")&&ht&&(J=function(t,e){return ht((t||document).getElementsByTagName(e))}),st&&ut(st,"getElementsByClassName")&&ht&&(G=function(t,e){return ht((t||document).getElementsByClassName(e))}),h&&p&&(Q=function(t,e){for(t=h(t);t&&e&&p(t)!=e;)t=h(t);return t}),ct&&"string"==typeof ct.className&&h&&m&&(Z=function(t,e){for(t=h(t);t&&!m(t,e);)t=h(t);return t}),ct&&at(ct,"style")&&(tt=function(t,e){if("string"!=typeof e.style[t]){var n=["Moz","O","Khtml","Webkit","Ms"],i=n.length;for(t=t.charAt(0).toUpperCase()+t.substring(1);i--;)if("undefined"!=typeof e.style[n[i]+t])return n[i]+t;return null}return t}),st&&ut(st,"createElement")&&(et=function(t,e){return(e||document).createElement(t)}),j&&et&&(nt=function(t,e){var n;return elTemp=et("div",e),elTemp&&(j(t),n=elTemp.childNodes,elTemp=null),n}),ct&&ut(ct,"insertAdjacentHTML")&&(it=function(t,e){t.insertAdjacentHTML("beforeEnd",e)}),ct&&ut(ct,"appendChild")&&(ot=function(t,e){return t.appendChild(e)}),ct&&at(ct,"classList")&&ut(ct.classList,"add")&&(rt=function(t,e){return t.classList.add(e)}),i.dom.isHostMethod=ut,i.dom.isHostObjectProperty=at,i.dom.areFeatures=lt,i.dom.toArray=ht,i.dom.detachListener=e,i.dom.getEventTarget=n,i.dom.attachListener=o,i.dom.query=r,i.dom.queryOne=s,i.dom.isNodeInNodeList=a,i.dom.bind=u,i.dom.undelegateListener=l,i.dom.delegateListener=c,i.dom.getElementTagName=p,i.dom.getElementParentElement=h,i.dom.isInQuery=d,i.dom.isDescendant=f,i.dom.delegateBoundListener=g,i.dom.hasClass=m,i.dom.attachWindowListener=v,i.dom.getViewportScrollPosition=y,i.dom.getPositionRelativeToViewport=w,i.dom.getElement=b,i.dom.undelegateQueryListener=_,i.dom.setViewportScrollPosition=C,i.dom.setInputValue=x,i.dom.getViewportSize=k,i.dom.getEventTargetRelated=O,i.dom.detachWindowListener=D,i.dom.detachBoundListener=S,i.dom.delegateTagNameListener=E,i.dom.delegateQueryListener=T,i.dom.delegateBoundQueryListener=I,i.dom.delegateBoundClassNameListener=V,i.dom.cancelPropagation=A,i.dom.cancelDefault=P,i.dom.attachDocumentListener=N,
i.dom.attachBoundWindowListener=L,i.dom.attachBoundListener=z,i.dom.setText=R,i.dom.setSize=M,i.dom.setPosition=F,i.dom.setHtml=j,i.dom.removeClass=H,i.dom.removeChild=$,i.dom.prependHtml=q,i.dom.getText=B,i.dom.getStyleComputed=W,i.dom.getPositionRelativeToDocument=U,i.dom.getOuterSize=K,i.dom.getInnerSize=X,i.dom.getHtml=Y,i.dom.getDescendantsByTagName=J,i.dom.getDescendantsByClassName=G,i.dom.getAncestorByTagName=Q,i.dom.getAncestorByClassName=Z,i.dom.findProprietaryStyle=tt,i.dom.createElement=et,i.dom.htmlToNodes=nt,i.dom.appendHtml=it,i.dom.appendChild=ot,i.dom.addClass=rt,st=ct=null}(window),e.exports=i.dom},{}],121:[function(t,e,n){try{document.write=document.writeln=function(){throw new Error("document.[write|writeln] is nisht-nisht")}}catch(i){}!function(t){var e,n,i,o,r,s,a,u;if((n=Function.prototype).bind||(n.bind=function(t){var e;return 1<arguments.length?(e=[].slice.call(arguments,1),function(n){return function(){return n.apply(t,arguments.length?e.concat([].slice.call(arguments)):e)}}(this)):function(e){return function(){return arguments.length?e.apply(t,arguments):e.call(t)}}(this)}),t.URL||(t.URL=null!=(i=t.webkitURL)?i:null),t.BlobBuilder||(t.BlobBuilder=null!=(o=null!=(r=t.WebKitBlobBuilder)?r:t.MozBlobBuilder)?o:null),t.requestFileSystem||(t.requestFileSystem=null!=(s=t.webkitRequestFileSystem)?s:null),t.requestAnimationFrame||(t.requestAnimationFrame=null!=(a=null!=(u=t.webkitRequestAnimationFrame)?u:t.mozRequestAnimationFrame)?a:null),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},function(t,e){var n;return n=e.defineProperty,"last"in t||n(t,"last",{get:function(){return this[this.length-1]}}),"first"in t||n(t,"first",{get:function(){return this[0]}})}(Array.prototype,Object),!t.event)try{Object.defineProperty(t,"event",{get:function(){return console.warn('Global "event" property is accessed. Did you forget a parameter in a DOM event handler?')}})}catch(l){e=l,console.log("we fail silently!",e)}}(this)},{}],122:[function(t,e,n){!function(t){"use strict";var e,n=function(t,e){"undefined"==typeof e&&(e={}),this.init(t,e)},i=n.prototype,o=["canvas","vml"],r=["oval","spiral","square","rect","roundRect"],s=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,a=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1])?!0:!1,u=!!document.createElement("canvas").getContext,l=40,c=!0,p=function(t,e,n){var i,o=document.createElement(t);for(i in n)o[i]=n[i];return"undefined"!=typeof e&&e.appendChild(o),o},h=function(t,e){for(var n in e)t.style[n]=e[n];return t},d=function(t,e){for(var n in e)t.setAttribute(n,e[n]);return t},f=function(t,e,n,i){t.save(),t.translate(e,n),t.rotate(i),t.translate(-e,-n),t.beginPath()};i.init=function(t,i){"boolean"==typeof i.safeVML&&(c=i.safeVML);try{void 0!==t?this.mum=t:this.mum=document.body}catch(r){this.mum=document.body}if(i.id="undefined"!=typeof i.id?i.id:"canvasLoader",this.cont=p("span",this.mum,{id:i.id}),this.cont.setAttribute("class","canvas-loader"),u)e=o[0],this.can=p("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=h(p("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(e=o[1],"undefined"==typeof n.vmlSheet){document.getElementsByTagName("head")[0].appendChild(p("style")),n.vmlSheet=document.styleSheets[document.styleSheets.length-1];var s,a=["group","oval","roundrect","fill"];for(s in a)n.vmlSheet.addRule(a[s],"behavior:url(#default#VML); position:absolute;")}this.vml=p("group",this.cont)}this.setColor(this.color),this.draw(),h(this.cont,{display:"none"})},i.cont={},i.can={},i.con={},i.cCan={},i.cCon={},i.timer={},i.activeId=0,i.diameter=40,i.setDiameter=function(t){this.diameter=Math.round(Math.abs(t)),this.redraw()},i.getDiameter=function(){return this.diameter},i.cRGB={},i.color="#000000",i.setColor=function(t){this.color=s.test(t)?t:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},i.getColor=function(){return this.color},i.shape=r[0],i.setShape=function(t){var e;for(e in r)if(t===r[e]){this.shape=t,this.redraw();break}},i.getShape=function(){return this.shape},i.density=40,i.setDensity=function(t){c&&e===o[1]?this.density=Math.round(Math.abs(t))<=l?Math.round(Math.abs(t)):l:this.density=Math.round(Math.abs(t)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},i.getDensity=function(){return this.density},i.range=1.3,i.setRange=function(t){this.range=Math.abs(t),this.redraw()},i.getRange=function(){return this.range},i.speed=2,i.setSpeed=function(t){this.speed=Math.round(Math.abs(t))},i.getSpeed=function(){return this.speed},i.fps=24,i.setFPS=function(t){this.fps=Math.round(Math.abs(t)),this.reset()},i.getFPS=function(){return this.fps},i.getRGB=function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},i.draw=function(){var t,n,i,s,u,l,c,g,m,v,y,w,b,_=0,C=this.density,x=Math.round(C*this.range),k=0,O=1e3,D=0,S=this.cCon,E=this.diameter,T=.47;if(e===o[0])for(S.clearRect(0,0,O,O),d(this.can,{width:E,height:E}),d(this.cCan,{width:E,height:E});C>_;){switch(m=x>=_?1-(1-k)/x*_:m=k,l=270-360/C*_,c=l/180*Math.PI,S.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+m.toString()+")",this.shape){case r[0]:case r[1]:t=.07*E,s=E*T+Math.cos(c)*(E*T-t)-E*T,u=E*T+Math.sin(c)*(E*T-t)-E*T,S.beginPath(),this.shape===r[1]?S.arc(.5*E+s,.5*E+u,t*m,0,2*Math.PI,!1):S.arc(.5*E+s,.5*E+u,t,0,2*Math.PI,!1);break;case r[2]:t=.12*E,s=Math.cos(c)*(E*T-t)+.5*E,u=Math.sin(c)*(E*T-t)+.5*E,f(S,s,u,c),S.fillRect(s,u-.5*t,t,t);break;case r[3]:case r[4]:n=.3*E,i=.27*n,s=Math.cos(c)*(i+.13*(E-i))+.5*E,u=Math.sin(c)*(i+.13*(E-i))+.5*E,f(S,s,u,c),this.shape===r[3]?S.fillRect(s,u-.5*i,n,i):(g=.55*i,S.moveTo(s+g,u-.5*i),S.lineTo(s+n-g,u-.5*i),S.quadraticCurveTo(s+n,u-.5*i,s+n,u-.5*i+g),S.lineTo(s+n,u-.5*i+i-g),S.quadraticCurveTo(s+n,u-.5*i+i,s+n-g,u-.5*i+i),S.lineTo(s+g,u-.5*i+i),S.quadraticCurveTo(s,u-.5*i+i,s,u-.5*i+i-g),S.lineTo(s,u-.5*i+g),S.quadraticCurveTo(s,u-.5*i,s+g,u-.5*i))}S.closePath(),S.fill(),S.restore(),++_}else{switch(h(this.cont,{width:E,height:E}),h(this.vml,{width:E,height:E}),this.shape){case r[0]:case r[1]:w="oval",t=.14*O;break;case r[2]:w="roundrect",t=.12*O;break;case r[3]:case r[4]:w="roundrect",t=.3*O}for(n=i=t,s=.5*O-i,u=.5*-i;C>_;){switch(m=x>=_?1-(1-k)/x*_:m=k,l=270-360/C*_,this.shape){case r[1]:n=i=t*m,s=.5*O-.5*t-t*m*.5,u=.5*(t-t*m);break;case r[0]:case r[2]:a&&(u=0,this.shape===r[2]&&(s=.5*O-.5*i));break;case r[3]:case r[4]:n=.95*t,i=.28*n,a?(s=0,u=.5*O-.5*i):(s=.5*O-n,u=.5*-i),D=this.shape===r[4]?.6:0}y=d(h(p("group",this.vml),{width:O,height:O,rotation:l}),{coordsize:O+","+O,coordorigin:.5*-O+","+.5*-O}),v=h(p(w,y,{stroked:!1,arcSize:D}),{width:n,height:i,top:u,left:s}),b=p("fill",v,{color:this.color,opacity:m}),++_}}this.tick(!0)},i.clean=function(){if(e===o[0])this.con.clearRect(0,0,1e3,1e3);else{var t=this.vml;if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild)}},i.redraw=function(){this.clean(),this.draw()},i.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},i.tick=function(t){var n=this.con,i=this.diameter;t||(this.activeId+=360/this.density*this.speed),e===o[0]?(n.clearRect(0,0,i,i),f(n,.5*i,.5*i,this.activeId/180*Math.PI),n.drawImage(this.cCan,0,0,i,i),n.restore()):(this.activeId>=360&&(this.activeId-=360),h(this.vml,{rotation:this.activeId}))},i.show=function(){if("number"!=typeof this.timer){var t=this;this.timer=self.setInterval(function(){t.tick()},Math.round(1e3/this.fps)),h(this.cont,{display:"block"})}},i.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,h(this.cont,{display:"none"}))},i.kill=function(){var t,n=this.cont;"number"==typeof this.timer&&this.hide(),e===o[0]?(n.removeChild(this.can),n.removeChild(this.cCan)):n.removeChild(this.vml);for(t in this)delete this[t]},t.CanvasLoader=n}(window)},{}],123:[function(t,e,n){var i;e.exports=i=function(){function t(e){return this instanceof t?void(this.value=e):new t(e)}var e,n=Array.prototype.slice,i={uncountable_words:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],plural_rules:[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status|by)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],singular_rules:[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("s$","gi"),""]],non_titlecased_words:["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],id_suffix:new RegExp("(_ids|_id)$","g"),underbar:new RegExp("_","g"),space_or_underbar:new RegExp("[ _]","g"),uppercase:new RegExp("([A-Z])","g"),underbar_prefix:new RegExp("^_"),apply_rules:function(t,e,n,i){var o,r;if(i)t=i;else if(o=n.indexOf(t.toLowerCase())>-1,!o)for(r=0;r<e.length;r++)if(t.match(e[r][0])){t=t.replace(e[r][0],e[r][1]);break}return t}};return i.pluralize=function(t,e){return this.apply_rules(t,this.plural_rules,this.uncountable_words,e)},i.singularize=function(t,e){return this.apply_rules(t,this.singular_rules,this.uncountable_words,e)},i.camelize=function(t,e,n){var i,o,r,s,a;for(n||(t=t.toLowerCase()),i=t.split("/"),o=0;o<i.length;o++){for(r=i[o].split("_"),s=e&&o+1===i.length?1:0,a=s;a<r.length;a++)r[a]=r[a].charAt(0).toUpperCase()+r[a].substring(1);i[o]=r.join("")}return t=i.join("::")},i.underscore=function(t){var e,n=t.split("::");for(e=0;e<n.length;e++)n[e]=n[e].replace(this.uppercase,"_$1"),n[e]=n[e].replace(this.underbar_prefix,"");return t=n.join("/").toLowerCase()},i.humanize=function(t,e){return t=t.toLowerCase(),t=t.replace(this.id_suffix,""),t=t.replace(this.underbar," "),e||(t=this.capitalize(t)),t},i.capitalize=function(t,e){return e||(t=t.toLowerCase()),t=t.substring(0,1).toUpperCase()+t.substring(1)},i.decapitalize=function(t){return t=t.substring(0,1).toLowerCase()+t.substring(1)},i.dasherize=function(t){return t=t.replace(this.space_or_underbar,"-")},i.titleize=function(t){var e,n,i,o;for(t=t.toLowerCase(),t=t.replace(this.underbar," "),e=t.split(" "),n=0;n<e.length;n++){for(i=e[n].split("-"),o=0;o<i.length;o++)this.non_titlecased_words.indexOf(i[o].toLowerCase())<0&&(i[o]=this.capitalize(i[o]));e[n]=i.join("-")}return t=e.join(" "),t=t.substring(0,1).toUpperCase()+t.substring(1)},i.demodulize=function(t){var e=t.split("::");return t=e[e.length-1]},i.tableize=function(t){return t=this.pluralize(this.underscore(t))},i.classify=function(t){return t=this.singularize(this.camelize(t))},i.foreign_key=function(t,e){return t=this.underscore(this.demodulize(t))+(e?"":"_")+"id"},i.ordinalize=function(t){var e,n,i,o,r,s=t.split(" ");for(e=0;e<s.length;e++)n=parseInt(s[e]),n===0/0&&(i=s[e].substring(s[e].length-2),o=s[e].substring(s[e].length-1),r="th","11"!=i&&"12"!=i&&"13"!=i&&("1"===o?r="st":"2"===o?r="nd":"3"===o&&(r="rd")),s[e]+=r);return t=s.join(" ")},e=i,Object.keys(e).forEach(function(i){return t[i]=e[i],t.prototype[i]=function(){return this.value=t[i].apply(t,[this.value].concat(n.call(arguments))),this}}),t.prototype.tap=function(t){return t(this.value),this},t.prototype.inspect=function(){return this+""},t.prototype.toString=function(){return this.value},t.prototype.valueOf=function(){return this.value},t}()},{}],124:[function(t,e,n){var i,o=[].slice;e.exports=i=function(){function t(e,n){return t.setAt({},e,n||{})}var e;return e=/^(string|number|boolean)$/,["forEach","indexOf","join","pop","reverse","shift","sort","splice","unshift","push"].forEach(function(e){return t[e+"At"]=function(){var n,i,r,s;if(n=arguments[0],i=arguments[1],r=3<=arguments.length?o.call(arguments,2):[],s=t.getAt(n,i),"function"==typeof(null!=s?s[e]:void 0))return s[e].apply(s,r);throw new Error("Does not implement method "+e+" at "+i)}}),t.getAt=function(t,e){var n;e="function"==typeof e.split?e.split("."):e.slice();try{return e.reduce(function(t,e){return t[e]},t)}catch(i){n=i}},t.setAt=function(t,n,i){var o,r,s,a,u,l;for(n="function"==typeof n.split?n.split("."):n.slice(),r=n.pop(),s=[],a=t,u=0,l=n.length;l>u;u++){if(o=n[u],e.test(typeof a[o]))throw new Error(""+s.concat(o).join(".")+" is\nprimitive, and cannot be extended.");a=a[o]||(a[o]={}),s.push(o)}return a[r]=i,t},t.assureAt=function(e,n,i){var o;return(o=t.getAt(e,n))?o:(t.setAt(e,n,i),i)},t.deleteAt=function(t,n){var i,o,r,s,a;for(n="function"==typeof n.split?n.split("."):n.slice(),r=[],o=n.pop(),s=0,a=n.length;a>s;s++){if(i=n[s],e.test(typeof t[i]))throw new Error(""+r.concat(i).join(".")+" is\nprimitive; cannot drill any deeper.");if(!(t=t[i]))return!1;r.push(i)}return delete t[o]},t}()},{}],125:[function(t,e,n){function i(t){return'"'+t.replace(/"/,'\\"')+'"'}function o(t){if("string"!=typeof t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(t=t.trim(),!t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!t.match(w))throw Error("Invalid request option. invalid attribute name: "+t);return t}function r(t){var e,n,i,r,s,a;if(!t.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(e={},n={},i=t.split(/\s+/),r=0;r<i.length;r++)if(s=i[r]){if(s=o(s),a=s.toLowerCase(),e[a])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");n[s]=!0,e[a]=!0}return Object.keys(n)}function s(t){var e={};return t.forEach(function(t){t.qualifiers.forEach(function(t){e[t.attrName]=!0})}),Object.keys(e)}var a,u,l,c,p,h,d,f,g,m,v,y,w,b,_=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n};if(a="undefined"!=typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver,void 0===a)throw console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver"),Error("DOM Mutation Observers are required");u=function(){function t(){this.nodes=[],this.values=[]}return t.prototype.isIndex=function(t){return+t===t>>>0},t.prototype.nodeId=function(e){var n=e[t.ID_PROP];return n||(n=e[t.ID_PROP]=t.nextId_++),n},t.prototype.set=function(t,e){var n=this.nodeId(t);this.nodes[n]=t,this.values[n]=e},t.prototype.get=function(t){var e=this.nodeId(t);return this.values[e]},t.prototype.has=function(t){return this.nodeId(t)in this.nodes},t.prototype["delete"]=function(t){var e=this.nodeId(t);delete this.nodes[e],this.values[e]=void 0},t.prototype.keys=function(){var t,e=[];for(t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},t.ID_PROP="__mutation_summary_node_map_id__",t.nextId_=1,t}(),function(t){t[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED"}(l||(l={})),c=function(){function t(t,e,n,i,o,r,s,a){"undefined"==typeof e&&(e=!1),"undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=!1),"undefined"==typeof o&&(o=null),"undefined"==typeof r&&(r=!1),"undefined"==typeof s&&(s=null),"undefined"==typeof a&&(a=null),this.node=t,this.childList=e,this.attributes=n,this.characterData=i,this.oldParentNode=o,this.added=r,this.attributeOldValues=s,this.characterDataOldValue=a,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return t.prototype.getAttributeOldValue=function(t){return this.attributeOldValues?(this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]):void 0},t.prototype.getAttributeNamesMutated=function(){var t,e=[];if(!this.attributeOldValues)return e;for(t in this.attributeOldValues)e.push(t);return e},t.prototype.attributeMutated=function(t,e){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues||(this.attributeOldValues[t]=e)},t.prototype.characterDataMutated=function(t){this.characterData||(this.characterData=!0,this.characterDataOldValue=t)},t.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},t.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},t.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t}(),p=function(){function t(){this.added=new u,this.removed=new u,this.maybeMoved=new u,this.oldPrevious=new u,this.moved=void 0}return t}(),h=function(t){function e(e,n){var i,o,r,s,a;for(t.call(this),this.rootNode=e,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1,i=0;i<n.length;i++)switch(o=n[i],o.type){case"childList":for(this.anyParentsChanged=!0,r=0;r<o.removedNodes.length;r++)s=o.removedNodes[r],this.getChange(s).removedFromParent(o.target);for(r=0;r<o.addedNodes.length;r++)s=o.addedNodes[r],this.getChange(s).insertedIntoParent();break;case"attributes":this.anyAttributesChanged=!0,a=this.getChange(o.target),a.attributeMutated(o.attributeName,o.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,a=this.getChange(o.target),a.characterDataMutated(o.oldValue)}}return _(e,t),e.prototype.getChange=function(t){var e=this.get(t);return e||(e=new c(t),this.set(t,e)),e},e.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},e.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.reachableCache=this.reachableCache||new u;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},e.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.wasReachableCache=this.wasReachableCache||new u;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},e.prototype.reachabilityChange=function(t){return this.getIsReachable(t)?this.getWasReachable(t)?2:1:this.getWasReachable(t)?5:0},e}(u),d=function(){function t(t,e,n,i,o){this.rootNode=t,this.mutations=e,this.selectors=n,this.calcReordered=i,this.calcOldPreviousSibling=o,this.treeChanges=new h(t,e),this.entered=[],this.exited=[],this.stayedIn=new u,this.visited=new u,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return t.prototype.processMutations=function(){var t,e;if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(t=this.treeChanges.keys(),e=0;e<t.length;e++)this.visitNode(t[e],void 0)},t.prototype.visitNode=function(t,e){var n,i,o,r;if(!this.visited.has(t)&&(this.visited.set(t,!0),n=this.treeChanges.get(t),i=e,(n&&n.childList||void 0==i)&&(i=this.treeChanges.reachabilityChange(t)),0!==i&&(this.matchabilityChange(t),1===i?this.entered.push(t):5===i?(this.exited.push(t),this.ensureHasOldPreviousSiblingIfNeeded(t)):2===i&&(o=2,n&&n.childList&&(n.oldParentNode!==t.parentNode?(o=3,this.ensureHasOldPreviousSiblingIfNeeded(t)):this.calcReordered&&this.wasReordered(t)&&(o=4)),this.stayedIn.set(t,o)),2!==i)))for(r=t.firstChild;r;r=r.nextSibling)this.visitNode(r,i)},t.prototype.ensureHasOldPreviousSiblingIfNeeded=function(t){var e,n,i;this.calcOldPreviousSibling&&(this.processChildlistChanges(),e=t.parentNode,n=this.treeChanges.get(t),n&&n.oldParentNode&&(e=n.oldParentNode),i=this.childListChangeMap.get(e),i||(i=new p,this.childListChangeMap.set(e,i)),i.oldPrevious.has(t)||i.oldPrevious.set(t,t.previousSibling))},t.prototype.getChanged=function(t,e,n){var i,o,r,s,a;for(this.selectors=e,this.characterDataOnly=n,i=0;i<this.entered.length;i++)o=this.entered[i],r=this.matchabilityChange(o),(1===r||2===r)&&t.added.push(o);for(s=this.stayedIn.keys(),i=0;i<s.length;i++)o=s[i],r=this.matchabilityChange(o),1===r?t.added.push(o):5===r?t.removed.push(o):2===r&&(t.reparented||t.reordered)&&(a=this.stayedIn.get(o),t.reparented&&3===a?t.reparented.push(o):t.reordered&&4===a&&t.reordered.push(o));for(i=0;i<this.exited.length;i++)o=this.exited[i],r=this.matchabilityChange(o),(5===r||2===r)&&t.removed.push(o)},t.prototype.getOldParentNode=function(t){var e,n=this.treeChanges.get(t);if(n&&n.childList)return n.oldParentNode?n.oldParentNode:null;if(e=this.treeChanges.reachabilityChange(t),0===e||1===e)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},t.prototype.getOldPreviousSibling=function(t){var e,n=t.parentNode,i=this.treeChanges.get(t);if(i&&i.oldParentNode&&(n=i.oldParentNode),e=this.childListChangeMap.get(n),!e)throw Error("getOldPreviousSibling requested on invalid node.");return e.oldPrevious.get(t)},t.prototype.getOldAttribute=function(t,e){var n,i=this.treeChanges.get(t);if(!i||!i.attributes)throw Error("getOldAttribute requested on invalid node.");if(n=i.getAttributeOldValue(e),void 0===n)throw Error("getOldAttribute requested for unchanged attribute name.");return n},t.prototype.attributeChangedNodes=function(t){var e,n,i,o,r,s,a,u,l,c,p,h;if(!this.treeChanges.anyAttributesChanged)return{};if(t)for(e={},n={},i=0;i<t.length;i++)o=t[i],e[o]=!0,n[o.toLowerCase()]=o;for(r={},s=this.treeChanges.keys(),i=0;i<s.length;i++)if(a=s[i],u=this.treeChanges.get(a),u.attributes&&2===this.treeChanges.reachabilityChange(a)&&2===this.matchabilityChange(a))for(l=a,c=u.getAttributeNamesMutated(),p=0;p<c.length;p++)o=c[p],(!e||e[o]||u.isCaseInsensitive&&n[o])&&(h=u.getAttributeOldValue(o),h!==l.getAttribute(o)&&(n&&u.isCaseInsensitive&&(o=n[o]),r[o]=r[o]||[],r[o].push(l)));return r},t.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},t.prototype.getCharacterDataChanged=function(){var t,e,n,i,o;if(!this.treeChanges.anyCharacterDataChanged)return[];for(t=this.treeChanges.keys(),e=[],n=0;n<t.length;n++)i=t[n],2===this.treeChanges.reachabilityChange(i)&&(o=this.treeChanges.get(i),o.characterData&&i.textContent!=o.characterDataOldValue&&e.push(i));return e},t.prototype.computeMatchabilityChange=function(t,e){var n,i;return this.matchCache||(this.matchCache=[]),this.matchCache[t.uid]||(this.matchCache[t.uid]=new u),n=this.matchCache[t.uid],i=n.get(e),void 0===i&&(i=t.matchabilityChange(e,this.treeChanges.get(e)),n.set(e,i)),i},t.prototype.matchabilityChange=function(t){var e,n,i,o,r=this;if(this.characterDataOnly)switch(t.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return 2;default:return 0}if(!this.selectors)return 2;if(t.nodeType!==Node.ELEMENT_NODE)return 0;for(e=t,n=this.selectors.map(function(t){return r.computeMatchabilityChange(t,e)}),i=0,o=0;2!==i&&o<n.length;){switch(n[o]){case 2:i=2;break;case 1:i=5===i?2:1;break;case 5:i=1===i?2:5}o++}return i},t.prototype.getChildlistChange=function(t){var e=this.childListChangeMap.get(t);return e||(e=new p,this.childListChangeMap.set(t,e)),e},t.prototype.processChildlistChanges=function(){function t(t,e){!t||i.oldPrevious.has(t)||i.added.has(t)||i.maybeMoved.has(t)||e&&(i.added.has(e)||i.maybeMoved.has(e))||i.oldPrevious.set(t,e)}var e,n,i,o,r,s;if(!this.childListChangeMap)for(this.childListChangeMap=new u,e=0;e<this.mutations.length;e++)if(n=this.mutations[e],"childList"==n.type&&(2===this.treeChanges.reachabilityChange(n.target)||this.calcOldPreviousSibling)){for(i=this.getChildlistChange(n.target),o=n.previousSibling,r=0;r<n.removedNodes.length;r++)s=n.removedNodes[r],t(s,o),i.added.has(s)?i.added["delete"](s):(i.removed.set(s,!0),i.maybeMoved["delete"](s)),o=s;for(t(n.nextSibling,o),r=0;r<n.addedNodes.length;r++)s=n.addedNodes[r],i.removed.has(s)?(i.removed["delete"](s),i.maybeMoved.set(s,!0)):i.added.set(s,!0)}},t.prototype.wasReordered=function(t){function e(t){if(!t)return!1;if(!s.maybeMoved.has(t))return!1;var e=s.moved.get(t);return void 0!==e?e:(a.has(t)?e=!0:(a.set(t,!0),e=i(t)!==n(t)),a.has(t)?(a["delete"](t),s.moved.set(t,e)):e=s.moved.get(t),e)}function n(t){var i=l.get(t);if(void 0!==i)return i;for(i=s.oldPrevious.get(t);i&&(s.removed.has(i)||e(i));)i=n(i);return void 0===i&&(i=t.previousSibling),l.set(t,i),i}function i(t){if(c.has(t))return c.get(t);for(var n=t.previousSibling;n&&(s.added.has(n)||e(n));)n=n.previousSibling;return c.set(t,n),n}var o,r,s,a,l,c;return this.treeChanges.anyParentsChanged?(this.processChildlistChanges(),o=t.parentNode,r=this.treeChanges.get(t),r&&r.oldParentNode&&(o=r.oldParentNode),(s=this.childListChangeMap.get(o))?s.moved?s.moved.get(t):(s.moved=new u,a=new u,l=new u,c=new u,s.maybeMoved.keys().forEach(e),s.moved.get(t)):!1):!1},t}(),f=function(){function t(t,e){var n,i,o,r=this;this.projection=t,this.added=[],this.removed=[],this.reparented=e.all||e.element?[]:void 0,this.reordered=e.all?[]:void 0,t.getChanged(this,e.elementFilter,e.characterData),(e.all||e.attribute||e.attributeList)&&(n=e.attribute?[e.attribute]:e.attributeList,i=t.attributeChangedNodes(n),e.attribute?this.valueChanged=i[e.attribute]||[]:(this.attributeChanged=i,e.attributeList&&e.attributeList.forEach(function(t){r.attributeChanged.hasOwnProperty(t)||(r.attributeChanged[t]=[])}))),(e.all||e.characterData)&&(o=t.getCharacterDataChanged(),e.characterData?this.valueChanged=o:this.characterDataChanged=o),this.reordered&&(this.getOldPreviousSibling=t.getOldPreviousSibling.bind(t))}return t.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},t.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},t.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},t.prototype.getOldPreviousSibling=function(t){return this.projection.getOldPreviousSibling(t)},t}(),g=/[a-zA-Z_]+/,m=/[a-zA-Z0-9_\-]+/,v=function(){function t(){}return t.prototype.matches=function(t){var e,n;if(null===t)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==t;for(e=t.split(" "),n=0;n<e.length;n++)if(this.attrValue===e[n])return!0;return!1},t.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+i(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+i(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},t}(),y=function(){function t(){this.uid=t.nextUid++,this.qualifiers=[]}return Object.defineProperty(t.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),t.prototype.isMatching=function(e){return e[t.matchesSelector](this.selectorString)},t.prototype.wasMatching=function(t,e,n){var i,o,r,s,a,u;if(!e||!e.attributes)return n;if(i=e.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName,"*"!==i&&i!==t.tagName)return!1;for(o=[],r=!1,s=0;s<this.qualifiers.length;s++)a=this.qualifiers[s],u=e.getAttributeOldValue(a.attrName),o.push(u),r=r||void 0!==u;if(!r)return n;for(s=0;s<this.qualifiers.length;s++)if(a=this.qualifiers[s],u=o[s],void 0===u&&(u=t.getAttribute(a.attrName)),!a.matches(u))return!1;return!0},t.prototype.matchabilityChange=function(t,e){var n=this.isMatching(t);return n?this.wasMatching(t,e,n)?2:1:this.wasMatching(t,e,n)?5:0},t.parseSelectors=function(e){function n(){o&&(r&&(o.qualifiers.push(r),r=void 0),u.push(o)),o=new t}function i(){r&&o.qualifiers.push(r),r=new v}for(var o,r,s,a,u=[],l=/\s/,c="Invalid or unsupported selector syntax.",p=1,h=2,d=3,f=4,y=5,w=6,b=7,_=8,C=9,x=10,k=11,O=12,D=13,S=14,E=p,T=0;T<e.length;)switch(a=e[T++],E){case p:if(a.match(g)){n(),o.tagName=a,E=h;break}if("*"==a){n(),o.tagName="*",E=d;break}if("."==a){n(),i(),o.tagName="*",r.attrName="class",r.contains=!0,E=f;break}if("#"==a){n(),i(),o.tagName="*",r.attrName="id",E=f;break}if("["==a){n(),i(),o.tagName="*",r.attrName="",E=w;break}if(a.match(l))break;throw Error(c);case h:if(a.match(m)){o.tagName+=a;break}if("."==a){i(),r.attrName="class",r.contains=!0,E=f;break}if("#"==a){i(),r.attrName="id",E=f;break}if("["==a){i(),r.attrName="",E=w;break}if(a.match(l)){E=S;break}if(","==a){E=p;break}throw Error(c);case d:if("."==a){i(),r.attrName="class",r.contains=!0,E=f;break}if("#"==a){i(),r.attrName="id",E=f;break}if("["==a){i(),r.attrName="",E=w;break}if(a.match(l)){E=S;break}if(","==a){E=p;break}throw Error(c);case f:if(a.match(g)){r.attrValue=a,E=y;break}throw Error(c);case y:if(a.match(m)){r.attrValue+=a;break}if("."==a){i(),r.attrName="class",r.contains=!0,E=f;break}if("#"==a){i(),r.attrName="id",E=f;break}if("["==a){i(),E=w;break}if(a.match(l)){E=S;break}if(","==a){E=p;break}throw Error(c);case w:if(a.match(g)){r.attrName=a,E=b;break}if(a.match(l))break;throw Error(c);case b:if(a.match(m)){r.attrName+=a;break}if(a.match(l)){E=_;break}if("~"==a){r.contains=!0,E=C;break}if("="==a){r.attrValue="",E=k;break}if("]"==a){E=d;break}throw Error(c);case _:if("~"==a){r.contains=!0,E=C;break}if("="==a){r.attrValue="",E=k;break}if("]"==a){E=d;break}if(a.match(l))break;throw Error(c);case C:if("="==a){r.attrValue="",E=k;break}throw Error(c);case x:if("]"==a){E=d;break}if(a.match(l))break;throw Error(c);case k:if(a.match(l))break;if('"'==a||"'"==a){s=a,E=D;break}r.attrValue+=a,E=O;break;case O:if(a.match(l)){E=x;break}if("]"==a){E=d;break}if("'"==a||'"'==a)throw Error(c);r.attrValue+=a;break;case D:if(a==s){E=x;break}r.attrValue+=a;break;case S:if(a.match(l))break;if(","==a){E=p;break}throw Error(c)}switch(E){case p:case h:case d:case y:case S:n();break;default:throw Error(c)}if(!u.length)throw Error(c);return u},t.nextUid=1,t.matchesSelector=function(){var t=document.createElement("div");return"function"==typeof t.webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof t.mozMatchesSelector?"mozMatchesSelector":"function"==typeof t.msMatchesSelector?"msMatchesSelector":"matchesSelector"}(),t}(),w=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,b=function(){function t(e){var n=this;this.connected=!1,this.options=t.validateOptions(e),this.observerOptions=t.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,
this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(t){return t.elementFilter?t.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(t){return t.all}),this.queryValidators=[],t.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return t.createQueryValidator(n.root,e)})),this.observer=new a(function(t){n.observerCallback(t)}),this.reconnect()}return t.createObserverOptions=function(t){function e(t){if(!i.attributes||n){if(i.attributes=!0,i.attributeOldValue=!0,!t)return void(n=void 0);n=n||{},t.forEach(function(t){n[t]=!0,n[t.toLowerCase()]=!0})}}var n,i={childList:!0,subtree:!0};return t.forEach(function(t){if(t.characterData)return i.characterData=!0,void(i.characterDataOldValue=!0);if(t.all)return e(),i.characterData=!0,void(i.characterDataOldValue=!0);if(t.attribute)return void e([t.attribute.trim()]);var n=s(t.elementFilter).concat(t.attributeList||[]);n.length&&e(n)}),n&&(i.attributeFilter=Object.keys(n)),i},t.validateOptions=function(e){var n,i,s,a,u,l;for(n in e)if(!(n in t.optionKeys))throw Error("Invalid option: "+n);if("function"!=typeof e.callback)throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(i={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},s=0;s<e.queries.length;s++)if(a=e.queries[s],a.all){if(Object.keys(a).length>1)throw Error("Invalid request option. all has no options.");i.queries.push({all:!0})}else if("attribute"in a){if(u={attribute:o(a.attribute)},u.elementFilter=y.parseSelectors("*["+u.attribute+"]"),Object.keys(a).length>1)throw Error("Invalid request option. attribute has no options.");i.queries.push(u)}else if("element"in a){if(l=Object.keys(a).length,u={element:a.element,elementFilter:y.parseSelectors(a.element)},a.hasOwnProperty("elementAttributes")&&(u.attributeList=r(a.elementAttributes),l--),l>1)throw Error("Invalid request option. element only allows elementAttributes option.");i.queries.push(u)}else{if(!a.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(a).length>1)throw Error("Invalid request option. characterData has no options.");i.queries.push({characterData:!0})}return i},t.prototype.createSummaries=function(t){var e,n,i;if(!t||!t.length)return[];for(e=new d(this.root,t,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),n=[],i=0;i<this.options.queries.length;i++)n.push(new f(e,this.options.queries[i]));return n},t.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(t){t&&t.recordPreviousState()})},t.prototype.runQueryValidators=function(t){this.queryValidators.forEach(function(e,n){e&&e.validate(t[n])})},t.prototype.changesToReport=function(t){return t.some(function(t){var e,n,i=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];return i.some(function(e){return t[e]&&t[e].length})?!0:t.attributeChanged&&(e=Object.keys(t.attributeChanged),n=e.some(function(e){return!!t.attributeChanged[e].length}))?!0:!1})},t.prototype.observerCallback=function(t){this.options.observeOwnChanges||this.observer.disconnect();var e=this.createSummaries(t);this.runQueryValidators(e),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(e)&&this.callback(e),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},t.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},t.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var t=this.createSummaries(this.observer.takeRecords());return this.changesToReport(t)?t:void 0},t.prototype.disconnect=function(){var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},t.NodeMap=u,t.parseElementFilter=y.parseSelectors,t.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},t}(),e.exports=b},{}],126:[function(e,n,i){(function(e){(function(){function o(t,e){if(t!==e){var n=t===t,i=e===e;if(t>e||!n||t===D&&i)return 1;if(e>t||!i||e===D&&n)return-1}return 0}function r(t,e,n){for(var i=t.length,o=n?i:-1;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function s(t,e,n){if(e!==e)return v(t,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function a(t){return"function"==typeof t||!1}function u(t){return"string"==typeof t?t:null==t?"":t+""}function l(t){return t.charCodeAt(0)}function c(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function p(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var i,r=-1,s=t.criteria,a=e.criteria,u=s.length,l=n.length;++r<u;)if(i=o(s[r],a[r]))return r>=l?i:i*(n[r]?1:-1);return t.index-e.index}function f(t){return T[t]}function g(t){return I[t]}function m(t){return"\\"+P[t]}function v(t,e,n){for(var i,o=t.length,r=e+(n?0:-1);n?r--:++r<o;)if(i=t[r],i!==i)return r;return-1}function y(t){return!!t&&"object"==typeof t}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function b(t,e){for(var n=-1,i=t.length,o=-1,r=[];++n<i;)t[n]===e&&(t[n]=st,r[++o]=n);return r}function _(t,e){for(var n,i,o,r=-1,s=t.length,a=-1,u=[];++r<s;)i=t[r],o=e?e(i,r,t):i,r&&n===o||(n=o,u[++a]=i);return u}function C(t){for(var e=-1,n=t.length;++e<n&&w(t.charCodeAt(e)););return e}function x(t){for(var e=t.length;e--&&w(t.charCodeAt(e)););return e}function k(t){return V[t]}function O(t){function e(t){if(y(t)&&!xa(t)&&!(t instanceof w)){if(t instanceof i)return t;if(Hr.call(t,"__chain__")&&Hr.call(t,"__wrapped__"))return oi(t)}return new i(t)}function n(){}function i(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function w(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=bs,this.__views__=null}function T(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,i=new w(this.__wrapped__);return i.__actions__=t?dt(t):null,i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=e?dt(e):null,i.__takeCount__=this.__takeCount__,i.__views__=n?dt(n):null,i}function I(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function V(){var t,e,n,i,o,r,s,a,u,l,c,p,h,d,f,g,m,v,y,w=this.__wrapped__.value();if(!xa(w))return tn(w,this.__actions__);t=this.__dir__,e=0>t,n=Mn(0,w.length,this.__views__),i=n.start,o=n.end,r=o-i,s=e?o:i-1,a=fs(r,this.__takeCount__),u=this.__iteratees__,l=u?u.length:0,c=0,p=[];t:for(;r--&&a>c;){for(s+=t,h=-1,d=w[s];++h<l;)if(f=u[h],g=f.iteratee,m=f.type,m==nt){if(f.done&&(e?s>f.index:s<f.index)&&(f.count=0,f.done=!1),f.index=s,!(f.done||(v=f.limit,f.done=v>-1?f.count++>=v:!g(d))))continue t}else if(y=g(d),m==ot)d=y;else if(!y){if(m==it)continue t;break t}p[c++]=d}return p}function A(){this.__data__={}}function P(t){return this.has(t)&&delete this.__data__[t]}function N(t){return"__proto__"==t?D:this.__data__[t]}function L(t){return"__proto__"!=t&&Hr.call(this.__data__,t)}function z(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function R(t){var e=t?t.length:0;for(this.data={hash:cs(null),set:new ns};e--;)this.push(t[e])}function M(t,e){var n=t.data,i="string"==typeof e||Co(e)?n.set.has(e):n.hash[e];return i?0:-1}function F(t){var e=this.data;"string"==typeof t||Co(t)?e.set.add(t):e.hash[t]=!0}function dt(t,e){var n=-1,i=t.length;for(e||(e=Dr(i));++n<i;)e[n]=t[n];return e}function vt(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function wt(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n,i=-1,o=t.length,r=-1,s=[];++i<o;)n=t[i],e(n,i,t)&&(s[++r]=n);return s}function ae(t,e){for(var n=-1,i=t.length,o=Dr(i);++n<i;)o[n]=e(t[n],n,t);return o}function ue(t){for(var e,n=-1,i=t.length,o=ws;++n<i;)e=t[n],e>o&&(o=e);return o}function le(t){for(var e,n=-1,i=t.length,o=bs;++n<i;)e=t[n],o>e&&(o=e);return o}function ce(t,e,n,i){var o=-1,r=t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function pe(t,e,n,i){var o=t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function he(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function de(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function fe(t,e){return t===D?e:t}function ge(t,e,n,i){return t!==D&&Hr.call(i,n)?t:e}function me(t,e,n){var i,o,r,s,a,u=La(e);for(Zr.apply(u,js(e)),i=-1,o=u.length;++i<o;)r=u[i],s=t[r],a=n(s,e[r],r,t,e),(a===a?a===s:s!==s)&&(s!==D||r in t)||(t[r]=a);return t}function ve(t,e){for(var n,i=-1,o=t.length,r=Kn(o),s=e.length,a=Dr(s);++i<s;)n=e[i],r?a[i]=qn(n,o)?t[n]:D:a[i]=t[n];return a}function ye(t,e,n){var i,o,r;for(n||(n={}),i=-1,o=e.length;++i<o;)r=e[i],n[r]=t[r];return n}function we(t,e,n){var i=typeof t;return"function"==i?e===D?t:on(t,e,n):null==t?dr:"object"==i?Re(t):e===D?wr(t):Me(t,e)}function be(t,e,n,i,o,r,s){var a,u,l,c,p;if(n&&(a=o?n(t,i,o):n(t)),a!==D)return a;if(!Co(t))return t;if(u=xa(t)){if(a=Fn(t),!e)return dt(t,a)}else{if(l=qr.call(t),c=l==ht,l!=gt&&l!=at&&(!c||o))return S[l]?Hn(t,l,e):o?t:{};if(a=jn(c?{}:t),!e)return Ts(a,t)}for(r||(r=[]),s||(s=[]),p=r.length;p--;)if(r[p]==t)return s[p];return r.push(t),s.push(a),(u?vt:Te)(t,function(i,o){a[o]=be(i,e,n,o,t,r,s)}),a}function _e(t,e,n){if("function"!=typeof t)throw new Lr(rt);return is(function(){t.apply(D,n)},e)}function Ce(t,e){var n,i,o,r,a,u,l,c=t?t.length:0,p=[];if(!c)return p;n=-1,i=Rn(),o=i==s,r=o&&e.length>=200?zs(e):null,a=e.length,r&&(i=M,o=!1,e=r);t:for(;++n<c;)if(u=t[n],o&&u===u){for(l=a;l--;)if(e[l]===u)continue t;p.push(u)}else i(e,u,0)<0&&p.push(u);return p}function xe(t,e){var n=!0;return Vs(t,function(t,i,o){return n=!!e(t,i,o)}),n}function ke(t,e,n,i){var o=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),i=i===D||i>o?o:+i||0,0>i&&(i+=o),o=n>i?0:i>>>0,n>>>=0;o>n;)t[n++]=e;return t}function Oe(t,e){var n=[];return Vs(t,function(t,i,o){e(t,i,o)&&n.push(t)}),n}function De(t,e,n,i){var o;return n(t,function(t,n,r){return e(t,n,r)?(o=i?n:t,!1):void 0}),o}function Se(t,e,n){for(var i,o,r,s=-1,a=t.length,u=-1,l=[];++s<a;)if(i=t[s],y(i)&&Kn(i.length)&&(xa(i)||go(i)))for(e&&(i=Se(i,e,n)),o=-1,r=i.length,l.length+=r;++o<r;)l[++u]=i[o];else n||(l[++u]=i);return l}function Ee(t,e){return Ps(t,e,Fo)}function Te(t,e){return Ps(t,e,La)}function Ie(t,e){return Ns(t,e,La)}function Ve(t,e){for(var n,i=-1,o=e.length,r=-1,s=[];++i<o;)n=e[i],Oa(t[n])&&(s[++r]=n);return s}function Ae(t,e,n){var i,o,r;if(null!=t){n!==D&&n in ni(t)&&(e=[n]),i=-1,o=e.length;for(;null!=t&&++i<o;)r=t=t[e[i]];return r}}function Pe(t,e,n,i,o,r){if(t===e)return 0!==t||1/t==1/e;var s=typeof t,a=typeof e;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==t||null==e?t!==t&&e!==e:Ne(t,e,Pe,n,i,o,r)}function Ne(t,e,n,i,o,r,s){var a,u,l,c,p,h,d,f=xa(t),g=xa(e),m=ut,v=ut;if(f||(m=qr.call(t),m==at?m=gt:m!=gt&&(f=Io(t))),g||(v=qr.call(e),v==at?v=gt:v!=gt&&(g=Io(e))),a=m==gt,u=v==gt,l=m==v,l&&!f&&!a)return Pn(t,e,m);if(!o&&(c=a&&Hr.call(t,"__wrapped__"),p=u&&Hr.call(e,"__wrapped__"),c||p))return n(c?t.value():t,p?e.value():e,i,o,r,s);if(!l)return!1;for(r||(r=[]),s||(s=[]),h=r.length;h--;)if(r[h]==t)return s[h]==e;return r.push(t),s.push(e),d=(f?An:Nn)(t,e,n,i,o,r,s),r.pop(),s.pop(),d}function Le(t,e,n,i,o){for(var r,s,a,u,l=-1,c=e.length,p=!o;++l<c;)if(p&&i[l]?n[l]!==t[e[l]]:!(e[l]in t))return!1;for(l=-1;++l<c;)if(r=e[l],s=t[r],a=n[l],p&&i[l]?u=s!==D||r in t:(u=o?o(s,a,r):D,u===D&&(u=Pe(a,s,o,!0))),!u)return!1;return!0}function ze(t,e){var n=-1,i=Fs(t),o=Kn(i)?Dr(i):[];return Vs(t,function(t,i,r){o[++n]=e(t,i,r)}),o}function Re(t){var e,n,i,o,r=La(t),s=r.length;if(!s)return hr(!0);if(1==s&&(e=r[0],n=t[e],Xn(n)))return function(t){return null==t?!1:t[e]===n&&(n!==D||e in ni(t))};for(i=Dr(s),o=Dr(s);s--;)n=t[r[s]],i[s]=n,o[s]=Xn(n);return function(t){return null!=t&&Le(ni(t),r,i,o)}}function Me(t,e){var n=xa(t),i=Wn(t)&&Xn(e),o=t+"";return t=ii(t),function(r){if(null==r)return!1;var s=o;if(r=ni(r),!(!n&&i||s in r)){if(r=1==t.length?r:Ae(r,Ue(t,0,-1)),null==r)return!1;s=yi(t),r=ni(r)}return r[s]===e?e!==D||s in r:Pe(e,r[s],null,!0)}}function Fe(t,e,n,i,o){var r,s;return Co(t)?(r=Kn(e.length)&&(xa(e)||Io(e)),r||(s=La(e),Zr.apply(s,js(e))),vt(s||e,function(a,u){if(s&&(u=a,a=e[u]),y(a))i||(i=[]),o||(o=[]),je(t,e,u,Fe,n,i,o);else{var l=t[u],c=n?n(l,a,u,t,e):D,p=c===D;p&&(c=a),!r&&c===D||!p&&(c===c?c===l:l!==l)||(t[u]=c)}}),t):t}function je(t,e,n,i,o,r,s){for(var a,u,l,c=r.length,p=e[n];c--;)if(r[c]==p)return void(t[n]=s[c]);a=t[n],u=o?o(a,p,n,t,e):D,l=u===D,l&&(u=p,Kn(p.length)&&(xa(p)||Io(p))?u=xa(a)?a:Fs(a)?dt(a):[]:Da(p)||go(p)?u=go(a)?Po(a):Da(a)?a:{}:l=!1),r.push(p),s.push(u),l?t[n]=i(u,p,o,r,s):(u===u?u!==a:a===a)&&(t[n]=u)}function He(t){return function(e){return null==e?D:e[t]}}function $e(t){var e=t+"";return t=ii(t),function(n){return Ae(n,t,e)}}function qe(t,e){for(var n,i,o=e.length;o--;)n=parseFloat(e[o]),n!=i&&qn(n)&&(i=n,os.call(t,n,1));return t}function Be(t,e){return t+Jr(ys()*(e-t+1))}function We(t,e,n,i,o){return o(t,function(t,o,r){n=i?(i=!1,t):e(n,t,o,r)}),n}function Ue(t,e,n){var i,o=-1,r=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===D||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,i=Dr(r);++o<r;)i[o]=t[o+e];return i}function Ke(t,e){var n;return Vs(t,function(t,i,o){return n=e(t,i,o),!n}),!!n}function Xe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ye(t,e,n){var i,o=zn(),r=-1;return e=ae(e,function(t){return o(t)}),i=ze(t,function(t){var n=ae(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}}),Xe(i,function(t,e){return d(t,e,n)})}function Je(t,e){var n=0;return Vs(t,function(t,i,o){n+=+e(t,i,o)||0}),n}function Ge(t,e){var n,i,o,r=-1,a=Rn(),u=t.length,l=a==s,c=l&&u>=200,p=c?zs():null,h=[];p?(a=M,l=!1):(c=!1,p=e?[]:h);t:for(;++r<u;)if(n=t[r],i=e?e(n,r,t):n,l&&n===n){for(o=p.length;o--;)if(p[o]===i)continue t;e&&p.push(i),h.push(n)}else a(p,i,0)<0&&((e||c)&&p.push(i),h.push(n));return h}function Qe(t,e){for(var n=-1,i=e.length,o=Dr(i);++n<i;)o[n]=t[e[n]];return o}function Ze(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?Ue(t,i?0:r,i?r+1:o):Ue(t,i?r+1:0,i?o:r)}function tn(t,e){var n,i,o,r,s=t;for(s instanceof w&&(s=s.value()),n=-1,i=e.length;++n<i;)o=[s],r=e[n],Zr.apply(o,r.args),s=r.func.apply(r.thisArg,o);return s}function en(t,e,n){var i,o,r=0,s=t?t.length:r;if("number"==typeof e&&e===e&&xs>=s){for(;s>r;)i=r+s>>>1,o=t[i],(n?e>=o:e>o)?r=i+1:s=i;return s}return nn(t,e,dr,n)}function nn(t,e,n,i){var o,r,s,a,u,l,c,p;for(e=n(e),o=0,r=t?t.length:0,s=e!==e,a=e===D;r>o;)u=Jr((o+r)/2),l=n(t[u]),c=l===l,p=s?c||i:a?c&&(i||l!==D):i?e>=l:e>l,p?o=u+1:r=u;return fs(r,Cs)}function on(t,e,n){if("function"!=typeof t)return dr;if(e===D)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)};case 5:return function(n,i,o,r,s){return t.call(e,n,i,o,r,s)}}return function(){return t.apply(e,arguments)}}function rn(t){return Kr.call(t,0)}function sn(t,e,n){for(var i=n.length,o=-1,r=ds(t.length-i,0),s=-1,a=e.length,u=Dr(r+a);++s<a;)u[s]=e[s];for(;++o<i;)u[n[o]]=t[o];for(;r--;)u[s++]=t[o++];return u}function an(t,e,n){for(var i,o=-1,r=n.length,s=-1,a=ds(t.length-r,0),u=-1,l=e.length,c=Dr(a+l);++s<a;)c[s]=t[s];for(i=s;++u<l;)c[i+u]=e[u];for(;++o<r;)c[i+n[o]]=t[s++];return c}function un(t,e){return function(n,i,o){var r,s,a,u=e?e():{};if(i=zn(i,o,3),xa(n))for(r=-1,s=n.length;++r<s;)a=n[r],t(u,a,i(a,r,n),n);else Vs(n,function(e,n,o){t(u,e,i(e,n,o),o)});return u}}function ln(t){return uo(function(e,n){var i,o=-1,r=null==e?0:n.length,s=r>2&&n[r-2],a=r>2&&n[2],u=r>1&&n[r-1];for("function"==typeof s?(s=on(s,u,5),r-=2):(s="function"==typeof u?u:null,r-=s?1:0),a&&Bn(n[0],n[1],a)&&(s=3>r?null:s,r=1);++o<r;)i=n[o],i&&t(e,i,s);return e})}function cn(t,e){return function(n,i){var o,r,s=n?Fs(n):0;if(!Kn(s))return t(n,i);for(o=e?s:-1,r=ni(n);(e?o--:++o<s)&&i(r[o],o,r)!==!1;);return n}}function pn(t){return function(e,n,i){for(var o,r=ni(e),s=i(e),a=s.length,u=t?a:-1;(t?u--:++u<a)&&(o=s[u],n(r[o],o,r)!==!1););return e}}function hn(t,e){function n(){var o=this&&this!==j&&this instanceof n?i:t;return o.apply(e,arguments)}var i=fn(t);return n}function dn(t){return function(e){for(var n=-1,i=cr(Jo(e)),o=i.length,r="";++n<o;)r=t(r,i[n],n);return r}}function fn(t){return function(){var e=Is(t.prototype),n=t.apply(e,arguments);return Co(n)?n:e}}function gn(t){function e(n,i,o){o&&Bn(n,i,o)&&(i=null);var r=Vn(n,t,null,null,null,null,null,i);return r.placeholder=e.placeholder,r}return e}function mn(t,e){return function(n,i,o){var r,s,a;if(o&&Bn(n,i,o)&&(i=null),r=zn(),s=null==i,r===we&&s||(s=!1,i=r(i,o,3)),s){if(a=xa(n),a||!To(n))return t(a?n:ei(n));i=l}return Ln(n,i,e)}}function vn(t,e){return function(n,i,o){if(i=zn(i,o,3),xa(n)){var s=r(n,i,e);return s>-1?n[s]:D}return De(n,i,t)}}function yn(t){return function(e,n,i){return e&&e.length?(n=zn(n,i,3),r(e,n,t)):-1}}function wn(t){return function(e,n,i){return n=zn(n,i,3),De(e,n,t,!0)}}function bn(t){return function(){var e,n,o,r,s,a,u,l=arguments.length;if(!l)return function(){return arguments[0]};for(n=t?l:-1,o=0,r=Dr(l);t?n--:++n<l;){if(s=r[o++]=arguments[n],"function"!=typeof s)throw new Lr(rt);a=e?"":Ms(s),e="wrapper"==a?new i([]):e}for(n=e?-1:l;++n<l;)s=r[n],a=Ms(s),u="wrapper"==a?Rs(s):null,e=u&&Un(u[0])?e[Ms(u[0])].apply(e,u[3]):1==s.length&&Un(s)?e[a]():e.thru(s);return function(){var t,n,i=arguments;if(e&&1==i.length&&xa(i[0]))return e.plant(i[0]).value();for(t=0,n=r[t].apply(this,i);++t<l;)n=r[t].call(this,n);return n}}}function _n(t,e){return function(n,i,o){return"function"==typeof i&&o===D&&xa(n)?t(n,i):e(n,on(i,o,3))}}function Cn(t){return function(e,n,i){return("function"!=typeof n||i!==D)&&(n=on(n,i,3)),t(e,n,Fo)}}function xn(t){return function(e,n,i){return("function"!=typeof n||i!==D)&&(n=on(n,i,3)),t(e,n)}}function kn(t){return function(e,n,i){return e=u(e),e&&(t?e:"")+En(e,n,i)+(t?"":e)}}function On(t){var e=uo(function(n,i){var o=b(i,e.placeholder);return Vn(n,t,null,i,o)});return e}function Dn(t,e){return function(n,i,o,r){var s=arguments.length<3;return"function"==typeof i&&r===D&&xa(n)?t(n,i,o,s):We(n,zn(i,r,4),o,s,e)}}function Sn(t,e,n,i,o,r,s,a,u,l){function c(){for(var w,_,C,x,k,O,S,E,T,I,V,A,P=arguments.length,N=P,L=Dr(P);N--;)L[N]=arguments[N];return i&&(L=sn(L,i,o)),r&&(L=an(L,r,s)),(f||m)&&(w=c.placeholder,_=b(L,w),P-=_.length,l>P)?(C=a?dt(a):null,x=ds(l-P,0),k=f?_:null,O=f?null:_,S=f?L:null,E=f?null:L,e|=f?X:Y,e&=~(f?Y:X),g||(e&=~(q|B)),T=[t,e,n,S,k,E,O,C,u,x],I=Sn.apply(D,T),Un(t)&&Hs(I,T),I.placeholder=w,I):(V=h?n:this,d&&(t=V[y]),a&&(L=Qn(L,a)),p&&u<L.length&&(L.length=u),A=this&&this!==j&&this instanceof c?v||fn(t):t,A.apply(V,L))}var p=e&J,h=e&q,d=e&B,f=e&U,g=e&W,m=e&K,v=!d&&fn(t),y=t;return c}function En(t,e,n){var i,o=t.length;return e=+e,o>=e||!ps(e)?"":(i=e-o,n=null==n?" ":n+"",nr(n,Xr(i/n.length)).slice(0,i))}function Tn(t,e,n,i){function o(){for(var e,a=-1,u=arguments.length,l=-1,c=i.length,p=Dr(u+c);++l<c;)p[l]=i[l];for(;u--;)p[l++]=arguments[++a];return e=this&&this!==j&&this instanceof o?s:t,e.apply(r?n:this,p)}var r=e&q,s=fn(t);return o}function In(t){return function(e,n,i,o){var r=zn(i);return r===we&&null==i?en(e,n,t):nn(e,n,r(i,o,1),t)}}function Vn(t,e,n,i,o,r,s,a){var u,l,c,p,h,d,f,g=e&B;if(!g&&"function"!=typeof t)throw new Lr(rt);return u=i?i.length:0,u||(e&=~(X|Y),i=o=null),u-=o?o.length:0,e&Y&&(l=i,c=o,i=o=null),p=g?null:Rs(t),h=[t,e,n,i,o,l,c,r,s,a],p&&(Yn(h,p),e=h[1],a=h[9]),h[9]=null==a?g?0:t.length:ds(a-u,0)||0,d=e==q?hn(h[0],h[2]):e!=X&&e!=(q|X)||h[4].length?Sn.apply(D,h):Tn.apply(D,h),(f=p?Ls:Hs)(d,h)}function An(t,e,n,i,o,r,s){var a,u,l,c=-1,p=t.length,h=e.length,d=!0;if(p!=h&&!(o&&h>p))return!1;for(;d&&++c<p;)if(a=t[c],u=e[c],d=D,i&&(d=o?i(u,a,c):i(a,u,c)),d===D)if(o)for(l=h;l--&&(u=e[l],!(d=a&&a===u||n(a,u,i,o,r,s))););else d=a&&a===u||n(a,u,i,o,r,s);return!!d}function Pn(t,e,n){switch(n){case lt:case ct:return+t==+e;case pt:return t.name==e.name&&t.message==e.message;case ft:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case mt:case yt:return t==e+""}return!1}function Nn(t,e,n,i,o,r,s){var a,u,l,c,p,h,d,f,g=La(t),m=g.length,v=La(e),y=v.length;if(m!=y&&!o)return!1;for(a=o,u=-1;++u<m;){if(l=g[u],c=o?l in e:Hr.call(e,l),c&&(p=t[l],h=e[l],c=D,i&&(c=o?i(h,p,l):i(p,h,l)),c===D&&(c=p&&p===h||n(p,h,i,o,r,s))),!c)return!1;a||(a="constructor"==l)}return a||(d=t.constructor,f=e.constructor,!(d!=f&&"constructor"in t&&"constructor"in e)||"function"==typeof d&&d instanceof d&&"function"==typeof f&&f instanceof f)?!0:!1}function Ln(t,e,n){var i=n?bs:ws,o=i,r=o;return Vs(t,function(t,s,a){var u=e(t,s,a);((n?o>u:u>o)||u===i&&u===r)&&(o=u,r=t)}),r}function zn(t,n,i){var o=e.callback||pr;return o=o===pr?we:o,i?o(t,n,i):o}function Rn(t,n,i){var o=e.indexOf||gi;return o=o===gi?s:o,t?o(t,n,i):o}function Mn(t,e,n){for(var i,o,r=-1,s=n?n.length:0;++r<s;)switch(i=n[r],o=i.size,i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=fs(e,t+o);break;case"takeRight":t=ds(t,e-o)}return{start:t,end:e}}function Fn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Hr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function jn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ar),new e}function Hn(t,e,n){var i,o,r=t.constructor;switch(e){case bt:return rn(t);case lt:case ct:return new r(+t);case _t:case Ct:case xt:case kt:case Ot:case Dt:case St:case Et:case Tt:return i=t.buffer,new r(n?rn(i):i,t.byteOffset,t.length);case ft:case yt:return new r(t);case mt:o=new r(t.source,Xt.exec(t)),o.lastIndex=t.lastIndex}return o}function $n(t,e,n){null==t||Wn(e,t)||(e=ii(e),t=1==e.length?t:Ae(t,Ue(e,0,-1)),e=yi(e));var i=null==t?t:t[e];return null==i?D:i.apply(t,n)}function qn(t,e){return t=+t,e=null==e?Os:e,t>-1&&t%1==0&&e>t}function Bn(t,e,n){var i,o,r,s;return Co(n)?(i=typeof e,"number"==i?(o=Fs(n),r=Kn(o)&&qn(e,o)):r="string"==i&&e in n,r?(s=n[e],t===t?t===s:s!==s):!1):!1}function Wn(t,e){var n,i=typeof t;return"string"==i&&Ht.test(t)||"number"==i?!0:xa(t)?!1:(n=!jt.test(t),n||null!=e&&t in ni(e))}function Un(t){var n=Ms(t);return!!n&&t===e[n]&&n in w.prototype}function Kn(t){return"number"==typeof t&&t>-1&&t%1==0&&Os>=t}function Xn(t){return t===t&&(0===t?1/t>0:!Co(t))}function Yn(t,e){var n,i,o=t[1],r=e[1],s=o|r,a=J>s,u=r==J&&o==U||r==J&&o==G&&t[7].length<=e[8]||r==(J|G)&&o==U;return a||u?(r&q&&(t[2]=e[2],s|=o&q?0:W),n=e[3],n&&(i=t[3],t[3]=i?sn(i,n,e[4]):dt(n),t[4]=i?b(t[3],st):dt(e[4])),n=e[5],n&&(i=t[5],t[5]=i?an(i,n,e[6]):dt(n),t[6]=i?b(t[5],st):dt(e[6])),n=e[7],n&&(t[7]=dt(n)),r&J&&(t[8]=null==t[8]?e[8]:fs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s,t):t}function Jn(t,e){var n,i,o,r;for(t=ni(t),n=-1,i=e.length,o={};++n<i;)r=e[n],r in t&&(o[r]=t[r]);return o}function Gn(t,e){var n={};return Ee(t,function(t,i,o){e(t,i,o)&&(n[i]=t)}),n}function Qn(t,e){for(var n,i=t.length,o=fs(e.length,i),r=dt(t);o--;)n=e[o],t[o]=qn(n,i)?r[n]:D;return t}function Zn(t){{var n,i;e.support}return y(t)&&qr.call(t)==gt&&(Hr.call(t,"constructor")||(n=t.constructor,"function"!=typeof n||n instanceof n))?(Ee(t,function(t,e){i=e}),i===D||Hr.call(t,i)):!1}function ti(t){for(var n,i=Fo(t),o=i.length,r=o&&t.length,s=e.support,a=r&&Kn(r)&&(xa(t)||s.nonEnumArgs&&go(t)),u=-1,l=[];++u<o;)n=i[u],(a&&qn(n,r)||Hr.call(t,n))&&l.push(n);return l}function ei(t){return null==t?[]:Kn(Fs(t))?Co(t)?t:Ar(t):Wo(t)}function ni(t){return Co(t)?t:Ar(t)}function ii(t){if(xa(t))return t;var e=[];return u(t).replace($t,function(t,n,i,o){e.push(i?o.replace(Ut,"$1"):n||t)}),e}function oi(t){return t instanceof w?t.clone():new i(t.__wrapped__,t.__chain__,dt(t.__actions__))}function ri(t,e,n){e=(n?Bn(t,e,n):null==e)?1:ds(+e||1,1);for(var i=0,o=t?t.length:0,r=-1,s=Dr(Xr(o/e));o>i;)s[++r]=Ue(t,i,i+=e);return s}function si(t){for(var e,n=-1,i=t?t.length:0,o=-1,r=[];++n<i;)e=t[n],e&&(r[++o]=e);return r}function ai(t,e,n){var i=t?t.length:0;return i?((n?Bn(t,e,n):null==e)&&(e=1),Ue(t,0>e?0:e)):[]}function ui(t,e,n){var i=t?t.length:0;return i?((n?Bn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ue(t,0,0>e?0:e)):[]}function li(t,e,n){return t&&t.length?Ze(t,zn(e,n,3),!0,!0):[]}function ci(t,e,n){return t&&t.length?Ze(t,zn(e,n,3),!0):[]}function pi(t,e,n,i){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&Bn(t,e,n)&&(n=0,i=o),ke(t,e,n,i)):[]}function hi(t){return t?t[0]:D}function di(t,e,n){var i=t?t.length:0;return n&&Bn(t,e,n)&&(e=!1),i?Se(t,e):[]}function fi(t){var e=t?t.length:0;return e?Se(t,!0):[]}function gi(t,e,n){var i,o,r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?ds(r+n,0):n;else if(n)return i=en(t,e),o=t[i],(e===e?e===o:o!==o)?i:-1;return s(t,e,n||0)}function mi(t){return ui(t,1)}function vi(){for(var t,e,n,i,o,r,a=[],u=-1,l=arguments.length,c=[],p=Rn(),h=p==s,d=[];++u<l;)t=arguments[u],(xa(t)||go(t))&&(a.push(t),c.push(h&&t.length>=120?zs(u&&t):null));if(l=a.length,2>l)return d;e=a[0],n=-1,i=e?e.length:0,o=c[0];t:for(;++n<i;)if(t=e[n],(o?M(o,t):p(d,t,0))<0){for(u=l;--u;)if(r=c[u],(r?M(r,t):p(a[u],t,0))<0)continue t;o&&o.push(t),d.push(t)}return d}function yi(t){var e=t?t.length:0;return e?t[e-1]:D}function wi(t,e,n){var i,o,r=t?t.length:0;if(!r)return-1;if(i=r,"number"==typeof n)i=(0>n?ds(r+n,0):fs(n||0,r-1))+1;else if(n)return i=en(t,e,!0)-1,o=t[i],(e===e?e===o:o!==o)?i:-1;if(e!==e)return v(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function bi(){var t,e,n,i,o,r=arguments,s=r[0];if(!s||!s.length)return s;for(t=0,e=Rn(),n=r.length;++t<n;)for(i=0,o=r[t];(i=e(s,o,i))>-1;)os.call(s,i,1);return s}function _i(t,e,n){var i,o,r,s,a=[];if(!t||!t.length)return a;for(i=-1,o=[],r=t.length,e=zn(e,n,3);++i<r;)s=t[i],e(s,i,t)&&(a.push(s),o.push(i));return qe(t,o),a}function Ci(t){return ai(t,1)}function xi(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Bn(t,e,n)&&(e=0,n=i),Ue(t,e,n)):[]}function ki(t,e,n){var i=t?t.length:0;return i?((n?Bn(t,e,n):null==e)&&(e=1),Ue(t,0,0>e?0:e)):[]}function Oi(t,e,n){var i=t?t.length:0;return i?((n?Bn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ue(t,0>e?0:e)):[]}function Di(t,e,n){return t&&t.length?Ze(t,zn(e,n,3),!1,!0):[]}function Si(t,e,n){return t&&t.length?Ze(t,zn(e,n,3)):[]}function Ei(t,e,n,i){var o,r=t?t.length:0;return r?(null!=e&&"boolean"!=typeof e&&(i=n,n=Bn(t,e,i)?null:e,e=!1),o=zn(),(o!==we||null!=n)&&(n=o(n,i,3)),e&&Rn()==s?_(t,n):Ge(t,n)):[]}function Ti(t){for(var e=-1,n=(t&&t.length&&ue(ae(t,Fs)))>>>0,i=Dr(n);++e<n;)i[e]=ae(t,He(e));return i}function Ii(){for(var t,e,n=-1,i=arguments.length;++n<i;)t=arguments[n],(xa(t)||go(t))&&(e=e?Ce(e,t).concat(Ce(t,e)):t);return e?Ge(e):[]}function Vi(t,e){var n,i=-1,o=t?t.length:0,r={};for(!o||e||xa(t[0])||(e=[]);++i<o;)n=t[i],e?r[n]=e[i]:n&&(r[n[0]]=n[1]);return r}function Ai(t){var n=e(t);return n.__chain__=!0,n}function Pi(t,e,n){return e.call(n,t),t}function Ni(t,e,n){return e.call(n,t)}function Li(){return Ai(this)}function zi(){return new i(this.value(),this.__chain__)}function Ri(t){for(var e,i,o,r=this;r instanceof n;)i=oi(r),e?o.__wrapped__=i:e=i,o=i,r=r.__wrapped__;return o.__wrapped__=t,e}function Mi(){var t=this.__wrapped__;return t instanceof w?(this.__actions__.length&&(t=new w(this)),new i(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Fi(){return this.value()+""}function ji(){return tn(this.__wrapped__,this.__actions__)}function Hi(t,e,n){var i=xa(t)?re:xe;return n&&Bn(t,e,n)&&(e=null),("function"!=typeof e||n!==D)&&(e=zn(e,n,3)),i(t,e)}function $i(t,e,n){var i=xa(t)?se:Oe;return e=zn(e,n,3),i(t,e)}function qi(t,e){return Zs(t,Re(e))}function Bi(t,e,n,i){var o=t?Fs(t):0;return Kn(o)||(t=Wo(t),o=t.length),o?(n="number"!=typeof n||i&&Bn(e,n,i)?0:0>n?ds(o+n,0):n||0,"string"==typeof t||!xa(t)&&To(t)?o>n&&t.indexOf(e,n)>-1:Rn(t,e,n)>-1):!1}function Wi(t,e,n){var i=xa(t)?ae:ze;return e=zn(e,n,3),i(t,e)}function Ui(t,e){return Wi(t,wr(e))}function Ki(t,e,n){var i=xa(t)?se:Oe;return e=zn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function Xi(t,e,n){var i,o;return(n?Bn(t,e,n):null==e)?(t=ei(t),i=t.length,i>0?t[Be(0,i-1)]:D):(o=Yi(t),o.length=fs(0>e?0:+e||0,o.length),o)}function Yi(t){var e,n,i,o;for(t=ei(t),e=-1,n=t.length,i=Dr(n);++e<n;)o=Be(0,e),e!=o&&(i[e]=i[o]),i[o]=t[e];return i}function Ji(t){var e=t?Fs(t):0;return Kn(e)?e:La(t).length}function Gi(t,e,n){var i=xa(t)?he:Ke;return n&&Bn(t,e,n)&&(e=null),("function"!=typeof e||n!==D)&&(e=zn(e,n,3)),i(t,e)}function Qi(t,e,n){var i,o;return null==t?[]:(n&&Bn(t,e,n)&&(e=null),i=-1,e=zn(e,n,3),o=ze(t,function(t,n,o){return{criteria:e(t,n,o),index:++i,value:t}}),Xe(o,h))}function Zi(t,e,n,i){return null==t?[]:(i&&Bn(e,n,i)&&(n=null),xa(e)||(e=null==e?[]:[e]),xa(n)||(n=null==n?[]:[n]),Ye(t,e,n))}function to(t,e){return $i(t,Re(e))}function eo(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Lr(rt);var n=t;t=e,e=n}return t=ps(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function no(t,e,n){return n&&Bn(t,e,n)&&(e=null),e=t&&null==e?t.length:ds(+e||0,0),Vn(t,J,null,null,null,null,e)}function io(t,e){var n,i;if("function"!=typeof e){if("function"!=typeof t)throw new Lr(rt);i=t,t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}}function oo(t,e,n){function i(){h&&Yr(h),u&&Yr(u),u=h=d=D}function o(){var n,i=e-(ca()-c);0>=i||i>e?(u&&Yr(u),n=d,u=h=d=D,n&&(g=ca(),l=t.apply(p,a),h||u||(a=p=null))):h=is(o,i)}function r(){h&&Yr(h),u=h=d=D,(v||m!==e)&&(g=ca(),l=t.apply(p,a),h||u||(a=p=null))}function s(){var n,i,s;return a=arguments,c=ca(),p=this,d=v&&(h||!f),m===!1?n=f&&!h:(u||f||(g=c),i=m-(c-g),s=0>=i||i>m,s?(u&&(u=Yr(u)),g=c,l=t.apply(p,a)):u||(u=is(r,i))),s&&h?h=Yr(h):h||e===m||(h=is(o,e)),n&&(s=!0,l=t.apply(p,a)),!s||h||u||(a=p=null),l}var a,u,l,c,p,h,d,f,g=0,m=!1,v=!0;if("function"!=typeof t)throw new Lr(rt);return e=0>e?0:+e||0,n===!0?(f=!0,v=!1):Co(n)&&(f=n.leading,m="maxWait"in n&&ds(+n.maxWait||0,e),v="trailing"in n?n.trailing:v),s.cancel=i,s}function ro(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Lr(rt);var n=function(){var i,o=arguments,r=n.cache,s=e?e.apply(this,o):o[0];return r.has(s)?r.get(s):(i=t.apply(this,o),r.set(s,i),i)};return n.cache=new ro.Cache,n}function so(t){if("function"!=typeof t)throw new Lr(rt);return function(){return!t.apply(this,arguments)}}function ao(t){return io(2,t)}function uo(t,e){if("function"!=typeof t)throw new Lr(rt);return e=ds(e===D?t.length-1:+e||0,0),function(){for(var n,i=arguments,o=-1,r=ds(i.length-e,0),s=Dr(r);++o<r;)s[o]=i[e+o];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}for(n=Dr(e+1),o=-1;++o<e;)n[o]=i[o];return n[e]=s,t.apply(this,n)}}function lo(t){if("function"!=typeof t)throw new Lr(rt);return function(e){return t.apply(this,e)}}function co(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Lr(rt);return n===!1?i=!1:Co(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),E.leading=i,E.maxWait=+e,E.trailing=o,oo(t,e,E)}function po(t,e){return e=null==e?dr:e,Vn(e,X,null,[t],[])}function ho(t,e,n,i){return e&&"boolean"!=typeof e&&Bn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),n="function"==typeof n&&on(n,i,1),be(t,e,n)}function fo(t,e,n){return e="function"==typeof e&&on(e,n,1),be(t,!0,e)}function go(t){var e=y(t)?t.length:D;

return Kn(e)&&qr.call(t)==at}function mo(t){return t===!0||t===!1||y(t)&&qr.call(t)==lt}function vo(t){return y(t)&&qr.call(t)==ct}function yo(t){return!!t&&1===t.nodeType&&y(t)&&qr.call(t).indexOf("Element")>-1}function wo(t){if(null==t)return!0;var e=Fs(t);return Kn(e)&&(xa(t)||To(t)||go(t)||y(t)&&Oa(t.splice))?!e:!La(t).length}function bo(t,e,n,i){if(n="function"==typeof n&&on(n,i,3),!n&&Xn(t)&&Xn(e))return t===e;var o=n?n(t,e):D;return o===D?Pe(t,e,n):!!o}function _o(t){return y(t)&&"string"==typeof t.message&&qr.call(t)==pt}function Co(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function xo(t,e,n,i){var o,r,s,a,u=La(e),l=u.length;if(!l)return!0;if(null==t)return!1;if(n="function"==typeof n&&on(n,i,3),t=ni(t),!n&&1==l&&(o=u[0],r=e[o],Xn(r)))return r===t[o]&&(r!==D||o in t);for(s=Dr(l),a=Dr(l);l--;)r=s[l]=e[u[l]],a[l]=Xn(r);return Le(t,u,s,a,n)}function ko(t){return So(t)&&t!=+t}function Oo(t){return null==t?!1:qr.call(t)==ht?Wr.test(jr.call(t)):y(t)&&Jt.test(t)}function Do(t){return null===t}function So(t){return"number"==typeof t||y(t)&&qr.call(t)==ft}function Eo(t){return y(t)&&qr.call(t)==mt||!1}function To(t){return"string"==typeof t||y(t)&&qr.call(t)==yt}function Io(t){return y(t)&&Kn(t.length)&&!!oe[qr.call(t)]}function Vo(t){return t===D}function Ao(t){var e=t?Fs(t):0;return Kn(e)?e?dt(t):[]:Wo(t)}function Po(t){return ye(t,Fo(t))}function No(t,e,n){var i=Is(t);return n&&Bn(t,e,n)&&(e=null),e?Ts(i,e):i}function Lo(t){return Ve(t,Fo(t))}function zo(t,e,n){var i=null==t?D:Ae(t,ii(e),e+"");return i===D?n:i}function Ro(t,e){if(null==t)return!1;var n=Hr.call(t,e);return n||Wn(e)||(e=ii(e),t=1==e.length?t:Ae(t,Ue(e,0,-1)),e=yi(e),n=null!=t&&Hr.call(t,e)),n}function Mo(t,e,n){var i,o,r,s,a,u;for(n&&Bn(t,e,n)&&(e=null),i=-1,o=La(t),r=o.length,s={};++i<r;)a=o[i],u=t[a],e?Hr.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a;return s}function Fo(t){var e,n,i,o,r,s,a;if(null==t)return[];for(Co(t)||(t=Ar(t)),e=t.length,e=e&&Kn(e)&&(xa(t)||Es.nonEnumArgs&&go(t))&&e||0,n=t.constructor,i=-1,o="function"==typeof n&&n.prototype===t,r=Dr(e),s=e>0;++i<e;)r[i]=i+"";for(a in t)s&&qn(a,e)||"constructor"==a&&(o||!Hr.call(t,a))||r.push(a);return r}function jo(t,e,n){var i={};return e=zn(e,n,3),Te(t,function(t,n,o){i[n]=e(t,n,o)}),i}function Ho(t){for(var e,n=-1,i=La(t),o=i.length,r=Dr(o);++n<o;)e=i[n],r[n]=[e,t[e]];return r}function $o(t,e,n){var i=null==t?D:t[e];return i===D&&(null==t||Wn(e,t)||(e=ii(e),t=1==e.length?t:Ae(t,Ue(e,0,-1)),i=null==t?D:t[yi(e)]),i=i===D?n:i),Oa(i)?i.call(t):i}function qo(t,e,n){var i,o,r,s,a,u;if(null==t)return t;for(i=e+"",e=null!=t[i]||Wn(e,t)?[i]:ii(e),o=-1,r=e.length,s=r-1,a=t;null!=a&&++o<r;)u=e[o],Co(a)&&(o==s?a[u]=n:null==a[u]&&(a[u]=qn(e[o+1])?[]:{})),a=a[u];return t}function Bo(t,e,n,i){var o,r=xa(t)||Io(t);return e=zn(e,i,4),null==n&&(r||Co(t)?(o=t.constructor,n=r?xa(t)?new o:[]:Is(Oa(o)&&o.prototype)):n={}),(r?vt:Te)(t,function(t,i,o){return e(n,t,i,o)}),n}function Wo(t){return Qe(t,La(t))}function Uo(t){return Qe(t,Fo(t))}function Ko(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=fs(e,n)&&t<ds(e,n)}function Xo(t,e,n){var i,o,r;return n&&Bn(t,e,n)&&(e=n=null),i=null==t,o=null==e,null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),i&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1?(r=ys(),fs(t+r*(e-t+parseFloat("1e-"+((r+"").length-1))),e)):Be(t,e)}function Yo(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function Jo(t){return t=u(t),t&&t.replace(Gt,f).replace(Wt,"")}function Go(t,e,n){t=u(t),e+="";var i=t.length;return n=n===D?i:fs(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Qo(t){return t=u(t),t&&zt.test(t)?t.replace(Nt,g):t}function Zo(t){return t=u(t),t&&Bt.test(t)?t.replace(qt,"\\$&"):t}function tr(t,e,n){var i,o,r,s;return t=u(t),e=+e,i=t.length,i>=e||!ps(e)?t:(o=(e-i)/2,r=Jr(o),s=Xr(o),n=En("",s,n),n.slice(0,r)+t+n)}function er(t,e,n){return n&&Bn(t,e,n)&&(e=0),vs(t,e)}function nr(t,e){var n="";if(t=u(t),e=+e,1>e||!t||!ps(e))return n;do e%2&&(n+=t),e=Jr(e/2),t+=t;while(e);return n}function ir(t,e,n){return t=u(t),n=null==n?0:fs(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function or(t,n,i){var o,r,s,a,l,c,p,h,d,f,g,v,y=e.templateSettings;if(i&&Bn(t,n,i)&&(n=i=null),t=u(t),n=me(Ts({},i||n),y,ge),o=me(Ts({},n.imports),y.imports,ge),r=La(o),s=Qe(o,r),c=0,p=n.interpolate||Qt,h="__p += '",d=Pr((n.escape||Qt).source+"|"+p.source+"|"+(p===Ft?Kt:Qt).source+"|"+(n.evaluate||Qt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++ie+"]")+"\n",t.replace(d,function(e,n,i,o,r,s){return i||(i=o),h+=t.slice(c,s).replace(Zt,m),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),r&&(l=!0,h+="';\n"+r+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),h+="';\n",g=n.variable,g||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(It,""):h).replace(Vt,"$1").replace(At,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}",v=Wa(function(){return Tr(r,f+"return "+h).apply(D,s)}),v.source=h,_o(v))throw v;return v}function rr(t,e,n){var i=t;return(t=u(t))?(n?Bn(i,e,n):null==e)?t.slice(C(t),x(t)+1):(e+="",t.slice(c(t,e),p(t,e)+1)):t}function sr(t,e,n){var i=t;return t=u(t),t?t.slice((n?Bn(i,e,n):null==e)?C(t):c(t,e+"")):t}function ar(t,e,n){var i=t;return t=u(t),t?(n?Bn(i,e,n):null==e)?t.slice(0,x(t)+1):t.slice(0,p(t,e+"")+1):t}function ur(t,e,n){var i,o,r,s,a,l,c,p,h;if(n&&Bn(t,e,n)&&(e=null),i=Q,o=Z,null!=e&&(Co(e)?(r="separator"in e?e.separator:r,i="length"in e?+e.length||0:i,o="omission"in e?u(e.omission):o):i=+e||0),t=u(t),i>=t.length)return t;if(s=i-o.length,1>s)return o;if(a=t.slice(0,s),null==r)return a+o;if(Eo(r)){if(t.slice(s).search(r)){for(p=t.slice(0,s),r.global||(r=Pr(r.source,(Xt.exec(r)||"")+"g")),r.lastIndex=0;l=r.exec(p);)c=l.index;a=a.slice(0,null==c?s:c)}}else t.indexOf(r,s)!=s&&(h=a.lastIndexOf(r),h>-1&&(a=a.slice(0,h)));return a+o}function lr(t){return t=u(t),t&&Lt.test(t)?t.replace(Pt,k):t}function cr(t,e,n){return n&&Bn(t,e,n)&&(e=null),t=u(t),t.match(e||te)||[]}function pr(t,e,n){return n&&Bn(t,e,n)&&(e=null),we(t,e)}function hr(t){return function(){return t}}function dr(t){return t}function fr(t){return Re(be(t,!0))}function gr(t,e){return Me(t,be(e,!0))}function mr(t,e,n){var i,o,r,s,a,u,l,c,p;null==n&&(i=Co(e),o=i&&La(e),r=o&&o.length&&Ve(e,o),(r?r.length:i)||(r=!1,n=e,e=t,t=this)),r||(r=Ve(e,La(e))),s=!0,a=-1,u=Oa(t),l=r.length,n===!1?s=!1:Co(n)&&"chain"in n&&(s=n.chain);for(;++a<l;)c=r[a],p=e[c],t[c]=p,u&&(t.prototype[c]=function(e){return function(){var n,i,o,r=this.__chain__;return s||r?(n=t(this.__wrapped__),i=n.__actions__=dt(this.__actions__),i.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n):(o=[this.value()],Zr.apply(o,arguments),e.apply(t,o))}}(p));return t}function vr(){return t._=Br,this}function yr(){}function wr(t){return Wn(t)?He(t):$e(t)}function br(t){return function(e){return Ae(t,ii(e),e+"")}}function _r(t,e,n){n&&Bn(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,o=ds(Xr((e-t)/(n||1)),0),r=Dr(o);++i<o;)r[i]=t,t+=n;return r}function Cr(t,e,n){if(t=Jr(t),1>t||!ps(t))return[];var i=-1,o=Dr(fs(t,_s));for(e=on(e,n,1);++i<t;)_s>i?o[i]=e(i):e(i);return o}function xr(t){var e=++$r;return u(t)+e}function kr(t,e){return(+t||0)+(+e||0)}function Or(t,e,n){n&&Bn(t,e,n)&&(e=null);var i=zn(),o=null==e;return i===we&&o||(o=!1,e=i(e,n,3)),o?de(xa(t)?t:ei(t)):Je(t,e)}var Dr,Sr,Er,Tr,Ir,Vr,Ar,Pr,Nr,Lr,zr,Rr,Mr,Fr,jr,Hr,$r,qr,Br,Wr,Ur,Kr,Xr,Yr,Jr,Gr,Qr,Zr,ts,es,ns,is,os,rs,ss,as,us,ls,cs,ps,hs,ds,fs,gs,ms,vs,ys,ws,bs,_s,Cs,xs,ks,Os,Ds,Ss,Es,Ts,Is,Vs,As,Ps,Ns,Ls,zs,Rs,Ms,Fs,js,Hs,$s,qs,Bs,Ws,Us,Ks,Xs,Ys,Js,Gs,Qs,Zs,ta,ea,na,ia,oa,ra,sa,aa,ua,la,ca,pa,ha,da,fa,ga,ma,va,ya,wa,ba,_a,Ca,xa,ka,Oa,Da,Sa,Ea,Ta,Ia,Va,Aa,Pa,Na,La,za,Ra,Ma,Fa,ja,Ha,$a,qa,Ba,Wa,Ua,Ka,Xa,Ya;return t=t?H.defaults(j.Object(),t,H.pick(j,ne)):j,Dr=t.Array,Sr=t.Date,Er=t.Error,Tr=t.Function,Ir=t.Math,Vr=t.Number,Ar=t.Object,Pr=t.RegExp,Nr=t.String,Lr=t.TypeError,zr=Dr.prototype,Rr=Ar.prototype,Mr=Nr.prototype,Fr=(Fr=t.window)&&Fr.document,jr=Tr.prototype.toString,Hr=Rr.hasOwnProperty,$r=0,qr=Rr.toString,Br=t._,Wr=Pr("^"+Zo(qr).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=Oo(Ur=t.ArrayBuffer)&&Ur,Kr=Oo(Kr=Ur&&new Ur(0).slice)&&Kr,Xr=Ir.ceil,Yr=t.clearTimeout,Jr=Ir.floor,Gr=Oo(Gr=Ar.getOwnPropertySymbols)&&Gr,Qr=Oo(Qr=Ar.getPrototypeOf)&&Qr,Zr=zr.push,ts=Oo(Ar.preventExtensions=Ar.preventExtensions)&&ts,es=Rr.propertyIsEnumerable,ns=Oo(ns=t.Set)&&ns,is=t.setTimeout,os=zr.splice,rs=Oo(rs=t.Uint8Array)&&rs,ss=Oo(ss=t.WeakMap)&&ss,as=function(){try{var e=Oo(e=t.Float64Array)&&e,n=new e(new Ur(10),0,1)&&e}catch(i){}return n}(),us=function(){var t={1:0},e=ts&&Oo(e=Ar.assign)&&e;try{e(ts(t),"xo")}catch(n){}return!t[1]&&e}(),ls=Oo(ls=Dr.isArray)&&ls,cs=Oo(cs=Ar.create)&&cs,ps=t.isFinite,hs=Oo(hs=Ar.keys)&&hs,ds=Ir.max,fs=Ir.min,gs=Oo(gs=Sr.now)&&gs,ms=Oo(ms=Vr.isFinite)&&ms,vs=t.parseInt,ys=Ir.random,ws=Vr.NEGATIVE_INFINITY,bs=Vr.POSITIVE_INFINITY,_s=Ir.pow(2,32)-1,Cs=_s-1,xs=_s>>>1,ks=as?as.BYTES_PER_ELEMENT:0,Os=Ir.pow(2,53)-1,Ds=ss&&new ss,Ss={},Es=e.support={},function(t){var e,n=function(){this.x=t},i=[];n.prototype={valueOf:t,y:t};for(e in new n)i.push(e);Es.funcDecomp=/\bthis\b/.test(function(){return this}),Es.funcNames="string"==typeof Tr.name;try{Es.dom=11===Fr.createDocumentFragment().nodeType}catch(o){Es.dom=!1}try{Es.nonEnumArgs=!es.call(arguments,1)}catch(o){Es.nonEnumArgs=!0}}(1,0),e.templateSettings={escape:Rt,evaluate:Mt,interpolate:Ft,variable:"",imports:{_:e}},Ts=us||function(t,e){return null==e?t:ye(e,js(e),ye(e,La(e),t))},Is=function(){function e(){}return function(n){if(Co(n)){e.prototype=n;var i=new e;e.prototype=null}return i||t.Object()}}(),Vs=cn(Te),As=cn(Ie,!0),Ps=pn(),Ns=pn(!0),Ls=Ds?function(t,e){return Ds.set(t,e),t}:dr,Kr||(rn=Ur&&rs?function(t){var e,n=t.byteLength,i=as?Jr(n/ks):0,o=i*ks,r=new Ur(n);return i&&(e=new as(r,0,i),e.set(new as(t,0,i))),n!=o&&(e=new rs(r,o),e.set(new rs(t,o))),r}:hr(null)),zs=cs&&ns?function(t){return new R(t)}:hr(null),Rs=Ds?function(t){return Ds.get(t)}:yr,Ms=function(){return Es.funcNames?"constant"==hr.name?He("name"):function(t){for(var e,n,i=t.name,o=Ss[i],r=o?o.length:0;r--;)if(e=o[r],n=e.func,null==n||n==t)return e.name;return i}:hr("")}(),Fs=He("length"),js=Gr?function(t){return Gr(ni(t))}:hr([]),Hs=function(){var t=0,e=0;return function(n,i){var o=ca(),r=et-(o-e);if(e=o,r>0){if(++t>=tt)return n}else t=0;return Ls(n,i)}}(),$s=uo(function(t,e){return xa(t)||go(t)?Ce(t,Se(e,!1,!0)):[]}),qs=yn(),Bs=yn(!0),Ws=uo(function(t,e){t||(t=[]),e=Se(e);var n=ve(t,e);return qe(t,e.sort(o)),n}),Us=In(),Ks=In(!0),Xs=uo(function(t){return Ge(Se(t,!1,!0))}),Ys=uo(function(t,e){return xa(t)||go(t)?Ce(t,e):[]}),Js=uo(Ti),Gs=uo(function(t,e){var n=t?Fs(t):0;return Kn(n)&&(t=ei(t)),ve(t,Se(e))}),Qs=un(function(t,e,n){Hr.call(t,n)?++t[n]:t[n]=1}),Zs=vn(Vs),ta=vn(As,!0),ea=_n(vt,Vs),na=_n(wt,As),ia=un(function(t,e,n){Hr.call(t,n)?t[n].push(e):t[n]=[e]}),oa=un(function(t,e,n){t[n]=e}),ra=uo(function(t,e,n){var i=-1,o="function"==typeof e,r=Wn(e),s=Fs(t),a=Kn(s)?Dr(s):[];return Vs(t,function(t){var s=o?e:r&&null!=t&&t[e];a[++i]=s?s.apply(t,n):$n(t,e,n)}),a}),sa=un(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),aa=Dn(ce,Vs),ua=Dn(pe,As),la=uo(function(t,e){if(null==t)return[];var n=e[2];return n&&Bn(e[0],e[1],n)&&(e.length=1),Ye(t,Se(e),[])}),ca=gs||function(){return(new Sr).getTime()},pa=uo(function(t,e,n){var i,o=q;return n.length&&(i=b(n,pa.placeholder),o|=X),Vn(t,o,e,n,i)}),ha=uo(function(t,e){var n,i,o;for(e=e.length?Se(e):Lo(t),n=-1,i=e.length;++n<i;)o=e[n],t[o]=Vn(t[o],q,t);return t}),da=uo(function(t,e,n){var i,o=q|B;return n.length&&(i=b(n,da.placeholder),o|=X),Vn(e,o,t,n,i)}),fa=gn(U),ga=gn(K),ma=uo(function(t,e){return _e(t,1,e)}),va=uo(function(t,e,n){return _e(t,e,n)}),ya=bn(),wa=bn(!0),ba=On(X),_a=On(Y),Ca=uo(function(t,e){return Vn(t,G,null,null,null,Se(e))}),xa=ls||function(t){return y(t)&&Kn(t.length)&&qr.call(t)==ut},Es.dom||(yo=function(t){return!!t&&1===t.nodeType&&y(t)&&!Da(t)}),ka=ms||function(t){return"number"==typeof t&&ps(t)},Oa=a(/x/)||rs&&!a(rs)?function(t){return qr.call(t)==ht}:a,Da=Qr?function(t){if(!t||qr.call(t)!=gt)return!1;var e=t.valueOf,n=Oo(e)&&(n=Qr(e))&&Qr(n);return n?t==n||Qr(t)==n:Zn(t)}:Zn,Sa=ln(function(t,e,n){return n?me(t,e,n):Ts(t,e)}),Ea=uo(function(t){var e=t[0];return null==e?e:(t.push(fe),Sa.apply(D,t))}),Ta=wn(Te),Ia=wn(Ie),Va=Cn(Ps),Aa=Cn(Ns),Pa=xn(Te),Na=xn(Ie),La=hs?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Kn(n)?ti(t):Co(t)?hs(t):[]}:ti,za=ln(Fe),Ra=uo(function(t,e){var n;return null==t?{}:"function"!=typeof e[0]?(e=ae(Se(e),Nr),Jn(t,Ce(Fo(t),e))):(n=on(e[0],e[1],3),Gn(t,function(t,e,i){return!n(t,e,i)}))}),Ma=uo(function(t,e){return null==t?{}:"function"==typeof e[0]?Gn(t,on(e[0],e[1],3)):Jn(t,Se(e))}),Fa=dn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),ja=dn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ha=kn(),$a=kn(!0),8!=vs(ee+"08")&&(er=function(t,e,n){return(n?Bn(t,e,n):null==e)?e=0:e&&(e=+e),t=rr(t),vs(t,e||(Yt.test(t)?16:10))}),qa=dn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ba=dn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Wa=uo(function(t,e){try{return t.apply(D,e)}catch(n){return _o(n)?n:new Er(n)}}),Ua=uo(function(t,e){return function(n){return $n(n,t,e)}}),Ka=uo(function(t,e){return function(n){return $n(t,n,e)}}),Xa=mn(ue),Ya=mn(le,!0),e.prototype=n.prototype,i.prototype=Is(n.prototype),i.prototype.constructor=i,w.prototype=Is(n.prototype),w.prototype.constructor=w,A.prototype["delete"]=P,A.prototype.get=N,A.prototype.has=L,A.prototype.set=z,R.prototype.push=F,ro.Cache=A,e.after=eo,e.ary=no,e.assign=Sa,e.at=Gs,e.before=io,e.bind=pa,e.bindAll=ha,e.bindKey=da,e.callback=pr,e.chain=Ai,e.chunk=ri,e.compact=si,e.constant=hr,e.countBy=Qs,e.create=No,e.curry=fa,e.curryRight=ga,e.debounce=oo,e.defaults=Ea,e.defer=ma,e.delay=va,e.difference=$s,e.drop=ai,e.dropRight=ui,e.dropRightWhile=li,e.dropWhile=ci,e.fill=pi,e.filter=$i,e.flatten=di,e.flattenDeep=fi,e.flow=ya,e.flowRight=wa,e.forEach=ea,e.forEachRight=na,e.forIn=Va,e.forInRight=Aa,e.forOwn=Pa,e.forOwnRight=Na,e.functions=Lo,e.groupBy=ia,e.indexBy=oa,e.initial=mi,e.intersection=vi,e.invert=Mo,e.invoke=ra,e.keys=La,e.keysIn=Fo,e.map=Wi,e.mapValues=jo,e.matches=fr,e.matchesProperty=gr,e.memoize=ro,e.merge=za,e.method=Ua,e.methodOf=Ka,e.mixin=mr,e.negate=so,e.omit=Ra,e.once=ao,e.pairs=Ho,e.partial=ba,e.partialRight=_a,e.partition=sa,e.pick=Ma,e.pluck=Ui,e.property=wr,e.propertyOf=br,e.pull=bi,e.pullAt=Ws,e.range=_r,e.rearg=Ca,e.reject=Ki,e.remove=_i,e.rest=Ci,e.restParam=uo,e.set=qo,e.shuffle=Yi,e.slice=xi,e.sortBy=Qi,e.sortByAll=la,e.sortByOrder=Zi,e.spread=lo,e.take=ki,e.takeRight=Oi,e.takeRightWhile=Di,e.takeWhile=Si,e.tap=Pi,e.throttle=co,e.thru=Ni,e.times=Cr,e.toArray=Ao,e.toPlainObject=Po,e.transform=Bo,e.union=Xs,e.uniq=Ei,e.unzip=Ti,e.values=Wo,e.valuesIn=Uo,e.where=to,e.without=Ys,e.wrap=po,e.xor=Ii,e.zip=Js,e.zipObject=Vi,e.backflow=wa,e.collect=Wi,e.compose=wa,e.each=ea,e.eachRight=na,e.extend=Sa,e.iteratee=pr,e.methods=Lo,e.object=Vi,e.select=$i,e.tail=Ci,e.unique=Ei,mr(e,e),e.add=kr,e.attempt=Wa,e.camelCase=Fa,e.capitalize=Yo,e.clone=ho,e.cloneDeep=fo,e.deburr=Jo,e.endsWith=Go,e.escape=Qo,e.escapeRegExp=Zo,e.every=Hi,e.find=Zs,e.findIndex=qs,e.findKey=Ta,e.findLast=ta,e.findLastIndex=Bs,e.findLastKey=Ia,e.findWhere=qi,e.first=hi,e.get=zo,e.has=Ro,e.identity=dr,e.includes=Bi,e.indexOf=gi,e.inRange=Ko,e.isArguments=go,e.isArray=xa,e.isBoolean=mo,e.isDate=vo,e.isElement=yo,e.isEmpty=wo,e.isEqual=bo,e.isError=_o,e.isFinite=ka,e.isFunction=Oa,e.isMatch=xo,e.isNaN=ko,e.isNative=Oo,e.isNull=Do,e.isNumber=So,e.isObject=Co,e.isPlainObject=Da,e.isRegExp=Eo,e.isString=To,e.isTypedArray=Io,e.isUndefined=Vo,e.kebabCase=ja,e.last=yi,e.lastIndexOf=wi,e.max=Xa,e.min=Ya,e.noConflict=vr,e.noop=yr,e.now=ca,e.pad=tr,e.padLeft=Ha,e.padRight=$a,e.parseInt=er,e.random=Xo,e.reduce=aa,e.reduceRight=ua,e.repeat=nr,e.result=$o,e.runInContext=O,e.size=Ji,e.snakeCase=qa,e.some=Gi,e.sortedIndex=Us,e.sortedLastIndex=Ks,e.startCase=Ba,e.startsWith=ir,e.sum=Or,e.template=or,e.trim=rr,e.trimLeft=sr,e.trimRight=ar,e.trunc=ur,e.unescape=lr,e.uniqueId=xr,e.words=cr,e.all=Hi,e.any=Gi,e.contains=Bi,e.detect=Zs,e.foldl=aa,e.foldr=ua,e.head=hi,e.include=Bi,e.inject=aa,mr(e,function(){var t={};return Te(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=Xi,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Xi(e,t)}):Xi(this.value())},e.VERSION=$,vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),vt(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=ot,i=e==nt;w.prototype[t]=function(t,o){var r=this.__filtered__,s=r&&i?new w(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:zn(t,o,1),limit:-1,type:e}),s.__filtered__=r||n,s}}),vt(["drop","take"],function(t,e){var n=t+"While";w.prototype[t]=function(n){var i,o=this.__filtered__,r=o&&!e?this.dropWhile():this.clone();return n=null==n?1:ds(Jr(n)||0,0),o?e?r.__takeCount__=fs(r.__takeCount__,n):yi(r.__iteratees__).limit=n:(i=r.__views__||(r.__views__=[]),i.push({size:n,type:t+(r.__dir__<0?"Right":"")})),r},w.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},w.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),vt(["first","last"],function(t,e){var n="take"+(e?"Right":"");w.prototype[t]=function(){return this[n](1).value()[0]}}),vt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");w.prototype[t]=function(){return this[n](1)}}),vt(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Re:wr;w.prototype[t]=function(t){return this[n](i(t))}}),w.prototype.compact=function(){return this.filter(dr)},w.prototype.reject=function(t,e){return t=zn(t,e,1),this.filter(function(e){return!t(e)})},w.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return e!==D&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},w.prototype.toArray=function(){return this.drop(0)},Te(w.prototype,function(t,n){var o,r,s=e[n];s&&(o=/^(?:filter|map|reject)|While$/.test(n),r=/^(?:first|last)$/.test(n),e.prototype[n]=function(){var n,a,u,l,c,p=arguments,h=(p.length,this.__chain__),d=this.__wrapped__,f=!!this.__actions__.length,g=d instanceof w,m=p[0],v=g||xa(d);return v&&o&&"function"==typeof m&&1!=m.length&&(g=v=!1),n=g&&!f,r&&!h?n?t.call(d):s.call(e,this.value()):(a=function(t){var n=[t];return Zr.apply(n,p),s.apply(e,n)},v?(u=n?d:new w(this),l=t.apply(u,p),r||!f&&!l.__actions__||(c=l.__actions__||(l.__actions__=[]),c.push({func:Ni,args:[a],thisArg:e})),new i(l,h)):this.thru(a))})}),vt(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Mr:zr)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),Te(w.prototype,function(t,n){var i,o,r=e[n];r&&(i=r.name,o=Ss[i]||(Ss[i]=[]),o.push({name:n,func:r}))}),Ss[Sn(null,B).name]=[{name:"wrapper",func:null}],w.prototype.clone=T,w.prototype.reverse=I,w.prototype.value=V,e.prototype.chain=Li,e.prototype.commit=zi,e.prototype.plant=Ri,e.prototype.reverse=Mi,e.prototype.toString=Fi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=ji,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var D,S,E,T,I,V,A,P,N,L,z,R,M,F,j,H,$="3.7.0",q=1,B=2,W=4,U=8,K=16,X=32,Y=64,J=128,G=256,Q=30,Z="...",tt=150,et=16,nt=0,it=1,ot=2,rt="Expected a function",st="__lodash_placeholder__",at="[object Arguments]",ut="[object Array]",lt="[object Boolean]",ct="[object Date]",pt="[object Error]",ht="[object Function]",dt="[object Map]",ft="[object Number]",gt="[object Object]",mt="[object RegExp]",vt="[object Set]",yt="[object String]",wt="[object WeakMap]",bt="[object ArrayBuffer]",_t="[object Float32Array]",Ct="[object Float64Array]",xt="[object Int8Array]",kt="[object Int16Array]",Ot="[object Int32Array]",Dt="[object Uint8Array]",St="[object Uint8ClampedArray]",Et="[object Uint16Array]",Tt="[object Uint32Array]",It=/\b__p \+= '';/g,Vt=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39|#96);/g,Nt=/[&<>"'`]/g,Lt=RegExp(Pt.source),zt=RegExp(Nt.source),Rt=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]+|(["'])(?:(?!\1)[^\n\\]|\\.)*?)\1\]/,Ht=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,qt=/[.*+?^${}()|[\]\/\\]/g,Bt=RegExp(qt.source),Wt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ut=/\\(\\)?/g,Kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,Yt=/^0[xX]/,Jt=/^\[object .+?Constructor\]$/,Gt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Qt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,te=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),ee=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",ne=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],ie=-1,oe={};oe[_t]=oe[Ct]=oe[xt]=oe[kt]=oe[Ot]=oe[Dt]=oe[St]=oe[Et]=oe[Tt]=!0,oe[at]=oe[ut]=oe[bt]=oe[lt]=oe[ct]=oe[pt]=oe[ht]=oe[dt]=oe[ft]=oe[gt]=oe[mt]=oe[vt]=oe[yt]=oe[wt]=!1,S={},S[at]=S[ut]=S[bt]=S[lt]=S[ct]=S[_t]=S[Ct]=S[xt]=S[kt]=S[Ot]=S[ft]=S[gt]=S[mt]=S[yt]=S[Dt]=S[St]=S[Et]=S[Tt]=!0,S[pt]=S[ht]=S[dt]=S[vt]=S[wt]=!1,E={leading:!1,maxWait:0,trailing:!1},T={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},V={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},A={"function":!0,object:!0},P={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},N=A[typeof i]&&i&&!i.nodeType&&i,L=A[typeof n]&&n&&!n.nodeType&&n,z=N&&L&&"object"==typeof e&&e&&e.Object&&e,R=A[typeof self]&&self&&self.Object&&self,M=A[typeof window]&&window&&window.Object&&window,F=L&&L.exports===N&&N,j=z||M!==(this&&this.window)&&M||R||this,H=O(),"function"==typeof t&&"object"==typeof t.amd&&t.amd?(j._=H,t(function(){return H})):N&&L?F?(L.exports=H)._=H:N._=H:j._=H}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(t,e,n){function i(t){if(t){var e=t.trim();return e=e.replace(/\.\d\d\d+/,""),e=e.replace(/-/,"/").replace(/-/,"/"),e=e.replace(/T/," ").replace(/Z/," UTC"),e=e.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)}}function o(t){return a.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}var s,a;e.exports=function(t){return t instanceof Date?o(t):"string"==typeof t?o(i(t)):"number"==typeof t?o(new Date(t)):void 0},s={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},a=s.strings,e.exports.settings=s,a.inWords=function(t){function e(e,n){var i="function"==typeof e?e(n,t):e,o=a.numbers&&a.numbers[n]||n;return i.replace(/%d/i,o)}var n,i,o,r,u,l,c=a.prefixAgo,p=a.suffixAgo;return s.allowFuture&&0>t&&(c=a.prefixFromNow,p=a.suffixFromNow),n=Math.abs(t)/1e3,i=n/60,o=i/60,r=o/24,u=r/365,l=45>n&&e(a.seconds,Math.round(n))||90>n&&e(a.minute,1)||45>i&&e(a.minutes,Math.round(i))||90>i&&e(a.hour,1)||24>o&&e(a.hours,Math.round(o))||48>o&&e(a.day,1)||30>r&&e(a.days,Math.floor(r))||60>r&&e(a.month,1)||365>r&&e(a.months,Math.floor(r/30))||2>u&&e(a.year,1)||e(a.years,Math.floor(u)),[c,l,p].join(" ").toString().trim()},a.parse=i},{}]},{},[1])(1)});